<!doctype html>
<html class="no-js " lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=IE9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <meta charset="utf-8">

    <style>
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: bold;
      src: local("SourceSansPro-Bold");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: bold;
      src: local("SourceSansPro-BoldIt");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 200;
      src: local("SourceSansPro-ExtraLight");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: normal;
      src: local("SourceSansPro-It");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 300;
      src: local("SourceSansPro-Light");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: normal;
      src: local("SourceSansPro-Regular");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 600;
      src: local("SourceSansPro-Semibold");
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Regular.otf.woff") format('woff');
      font-weight: normal;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-It.otf.woff") format('woff');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Bold.otf.woff") format('woff');
      font-weight: bold;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Semibold.otf.woff") format('woff');
      font-weight: 600;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-BoldIt.otf.woff") format('woff');
      font-weight: bold;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Light.otf.woff") format('woff');
      font-weight: 300;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-ExtraLight.otf.woff") format('woff');
      font-weight: 200;
      font-style: normal
    }
    @font-face {
      font-family: "KaTeX_AMS";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Script";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size1";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size2";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size3";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size4";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Typewriter";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
  </style>

  <title>alerta/chat - Gitter</title>

  <style>

  @-webkit-keyframes pulsey {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
  }

  html.loading .trpContentPanel { background: url("//cdn01.gitter.im/_s/0d31b2aef/images/logo-mark-grey-64.png") center no-repeat; height: 90%; -webkit-animation: pulsey 2s ease-out; -webkit-animation-iteration-count: infinite;  }
  html.loading .trpContentPanel > * { visibility: hidden; }
  </style>
  <base target="_parent">
  <link rel="stylesheet" href='//cdn01.gitter.im/_s/0d31b2aef/sprites/services.css'>
  <link rel="stylesheet" href='//cdn02.gitter.im/_s/0d31b2aef/styles/router-archive-chat.css'>
  <link id="favicon" rel="shortcut icon" href="//cdn02.gitter.im/_s/0d31b2aef/images/favicon.ico">
</head>
<body class="logged-out">
  <div class="chat-and-toolbar-wrapper archive">
    <div class="right-toolbar-region">
      <div class="right-toolbar" style="overflow: auto">
        <div class="gtrArchiveToolbarWrapper">
            <div class="gtrArchiveInfoContainer">
                <div class="gtrArchiveLogo">
                  <div class="logo-container"></div>
                </div>
                <div class="gtrArchiveInfo">
                  <p>These are chat archives for <strong>alerta/chat</strong></p>
                </div>
            </div>

          <div id="archive-navigation" class="gtrArchiveNavigationWrapper"><div class="gtrArchiveNavigationInner">
  <div class="gtrArchiveDate">
    <a href="/alerta/chat/archives/2020/01/24"><i class="gtrArchiveNext octicon octicon-chevron-right"></i></a>
    <a href="/alerta/chat/archives/2020/01/22"><i class="gtrArchivePrev octicon octicon-chevron-left"></i></a>
    <div class="gtrArchiveToday">
      <span class="gtrArchiveDay">23<sup>rd</sup></span><br>
      <span class="gtrArchiveMonth">Jan 2020</span>
    </div>
  </div>

  <div class="archive-toggle-navigation-action-holder">
    <button class="button-jaffa--small js-toggle-archive-navigation">Toggle Heatmap</button>
  </div>
  <div id="archive-navigation" class="gtrArchiveCalendar js-archive-navigation-wrapper">
  </div>
</div>
</div>
            <div class="archive-right-toolbar-button-wrapper">
              <a href="/login?action=login&amp;button=archive-login" class="archive-right-toolbar-button button-caribbean">Sign in to start talking</a>
            </div>
        </div>
      </div>
    </div>
    <div class="chat-app">
      <div class="chat-header" id="header-wrapper">
        <div id="header" class="chat-header-inner">
          <div class="chat-header__main-grouping chat-header__left-menu-toggle-grouping">
  <button class="chat-header__left-menu-toggle js-header-view-left-menu-toggle">
    <svg class="chat-header__action-icon" viewBox="0 0 26 22">
      <path d="M0,2 l26,0" />
      <path d="M0,11 l26,0" />
      <path d="M0,20 l26,0" />
    </svg>
  </button>
</div>

<div class="chat-header__main-grouping chat-header__avatar-grouping">
  <form
    class="chat-header__avatar  js-chat-header-group-avatar-upload-form"
    action=""
    enctype="multipart/form-data"
    method="POST">
    <input type="hidden" class="js-chat-header-group-avatar-upload-signature" name="signature" value="">
    <input type="hidden" class="js-chat-header-group-avatar-upload-params" name="params" value="">
    <input
      id="chat-header-group-avatar-upload-input"
      class="chat-header__group-avatar-upload-input js-chat-header-group-avatar-upload-input"
      name="file"
      type="file"
      accept="image/*"
      disabled />
    <label
      class="chat-header__group-avatar-upload-label js-chat-header-group-avatar-upload-label"
      for="chat-header-group-avatar-upload-input"
      >
      <img class="js-chat-header-avatar-image"  height='48' width='48' src='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=48' srcset='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=96 2x' >
      <div class="chat-header__group-avatar-upload-progress hidden js-chat-header-group-avatar-upload-progress"></div>
    </label>
  </form>
</div>

<div class="chat-header__main-grouping chat-header__info-grouping">
  <div class="chat-header__heading-sub-group">
    <h1 class="js-chat-name chat-header__heading">
      <a href="/alerta/chat" class="chat-header__title">alerta/chat</a>
    </h1>
  </div>
  <div class="chat-header__topic-sub-group js-room-topic-edit-activator" tabindex="0">
    <div class="chat-header__topic-wrapper js-room-topic-wrapper  "><p class="js-room-topic chat-header__topic  ">Alerta web next gen https://beta.alerta.io</p></div>
  </div>
</div>


<div class="chat-header__main-grouping chat-header__action-grouping">
    <a href="/orgs/alerta/rooms" class="chat-header__org-page org-page-link js-chat-header-org-page-action" title="More alerta rooms">
      <i class="chat-header__action-icon icon-globe"></i>
    </a>

</div>

        </div>
      </div>
      <div class="trpContentPanel archive" id="content-wrapper">
  <div class="trpChatPanel">
    <div class="trpChatContainer  primary-scroll  chat-container" id="content-frame">

      <div id="chat-container" role="list">
        <div>
            <div class="chat-item model-id-5e29406369a7b51d4d67e917 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29406369a7b51d4d67e917' title="">Jan 23 06:42 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> I&#39;ve solved the issue by writing to the file in another format (using raw \n). It is not really a possibility to use the python alerta client for this , becuase it&#39;s at this moment 100+ servers in a production environment which needed this function, so installing the client on all of them is not plausible. :) But thank you!
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2947113b40ea043c888d1d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2947113b40ea043c888d1d' title="">Jan 23 07:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="cisco92" class="mention">@cisco92</span> no problem. be careful about encoding plain strings in json. you&#39;ll need to escape not just newlines and other special characters but also double quotes and backslashes. See <a href="https://www.freeformatter.com/json-escape.html" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://www.freeformatter.com/json-escape.html</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2948c969a7b51d4d6819b1 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2948c969a7b51d4d6819b1' title="">Jan 23 07:18 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Yes exactly, but the raw file with information is created by the same script so it shouldn&#39;t be any strange characters etc
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29508c364db33faa1a069f burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29508c364db33faa1a069f' title="">Jan 23 07:51 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> a completely different question, but is there any possibility to set a service on a heartbeat? So the service isn&#39;t &quot;Alerta&quot; in the alarm page
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29539cb674071d4edee8e5 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29539cb674071d4edee8e5' title="">Jan 23 08:04 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="cisco92" class="mention">@cisco92</span> not at the moment. it&#39;s hardcoded to &quot;Alerta&quot;. it could work the same way as setting an environment. ie. via a tag.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2953b86ced65043b694ff8 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="burakksglu" class="mention">@burakksglu</span> i&#39;ll take a look when i get a chance.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2953f7075a19397cf02e69 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2953f7075a19397cf02e69' title="">Jan 23 08:06 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Yes, I&#39;m currently setting tags, but can you check if you&#39;re able to add a feature in the future to add a service flag to heartbeat? Or if there is a current way to do it
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e295559364db33faa1a2b87 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e295559364db33faa1a2b87' title="">Jan 23 08:12 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      that would be possible. in the mean time you can do this yourself in a plugin. ie. look for a tag starting with &quot;service:&quot; and set the service attribute.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29589a3482927279124120 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29589a3482927279124120' title="">Jan 23 08:26 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Okey cool! So I could also add in that plugin to look for &quot;attribute:&quot; in the tag and add that to attributes? 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2960bba420263e0384784b burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2960bba420263e0384784b' title="">Jan 23 09:00 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <p>Thanks! <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> I&#39;m working on another issue btw. I&#39;m debugging it right now. The issue is that if I send a user from keycloak with no role or unallowed role they can enter the app with &#39;user&#39; role. It gets &#39;user&#39; role from this declaration in oidc.py until that roles parameter is empty. Will let you know if I can find a fix:</p><p><code>user = User.find_by_id(id=subject)
    if not user:
        user = User(id=subject, name=name, login=login, password=&#39;&#39;, email=email,
                    roles=[], text=&#39;&#39;, email_verified=email_verified)
        user.create()
    else:
        user.update(login=login, email=email)</code></p>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2960e144c076313ccf47b6 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/24Wr/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link "><img src="https://files.gitter.im/alerta/chat/24Wr/thumb/image.png" alt="image.png" rel="nofollow"></a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2960fada04a624f46a36f7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2960fada04a624f46a36f7' title="">Jan 23 09:01 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      no role should get the default &quot;user&quot; role. an unallowed role should be 403 response
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29626ef196225bd641f2b7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29626ef196225bd641f2b7' title="">Jan 23 09:07 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <p>Ok, thank you for the guidance. That brings up a question on my head though. Could it be a problem on my end with the &#39;ALLOWED_KEYCLOAK_ROLES&#39; variable? Because while I&#39;m debugging I also see that it stays empty and couldn&#39;t get the correct parameters. I checked my &#39;/etc/alertad.conf&#39; file. Site logo url is working from that file by the way.</p><p>Again thank you for your effort! </p>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2969081a1c2739e3e5118a burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2969081a1c2739e3e5118a' title="">Jan 23 09:36 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Does it work if you set ALLOWED_OIDC_ROLES instead of ALLOWED_KEYCLOAK_ROLES?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2979ec9ad22d5bd5c6662c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2979ec9ad22d5bd5c6662c' title="">Jan 23 10:48 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I tried and it didn&#39;t get the parameters. ALLOWED_OIDC_ROLES = [&#39;admin&#39;,&#39;guest&#39;,&#39;user&#39;] that&#39;s how I set in the alertad.conf. As you can see at the picture below, when it enters inside the condition it didn&#39;t change on the watcher and says &quot;name error&quot;. Also when the app starts and ready to wait for login watcher changes to &quot;not available&quot;.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2979f3183449313bc2f9ab burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/tzti/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link "><img src="https://files.gitter.im/alerta/chat/tzti/thumb/image.png" alt="image.png" rel="nofollow"></a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e298253f196225bd642e55a burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e298253f196225bd642e55a' title="">Jan 23 11:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      After a further debug, inside the current_app.config(&#39;OIDC_ROLE_CLAIM&#39;) I can see the set parameters by the way.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e298258da04a624f46b28e1 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/iI2O/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link "><img src="https://files.gitter.im/alerta/chat/iI2O/thumb/image.png" alt="image.png" rel="nofollow"></a>
    </div>
  </div>
</div>
</div>
        </div>
      </div>

      <div id='initial' style="height:0;width:0;overflow:hidden"><a name="initial"/>_</a></div>
    </div>
  </div>
</div>

    </div>
  </div>

    <script type="text/javascript">window.gitterClientEnv = {"lang":"en","domain":"gitter.im","baseServer":"gitter.im","basePath":"https://gitter.im","apiBasePath":"https://gitter.im/api","homeUrl":"/","badgeBaseUrl":"https://badges.gitter.im","googleTrackingId":"UA-45918290-1","googleTrackingDomain":"gitter.im","env":"prod","cdns":["cdn01.gitter.im","cdn02.gitter.im","cdn03.gitter.im"],"version":"0d31b2","assetTag":"0d31b2aef","logging":false,"ravenUrl":"https://a1bf037f1d5f46f28b8e3b3e82024654@sentry.gitlab.net/42","websockets":{"fayeUrl":"https://ws.gitter.im/bayeux","options":{"timeout":120,"retry":2}},"avatarsUrl":"https://avatars.gitter.im","avatarCdns":["https://avatars-01.gitter.im","https://avatars-02.gitter.im","https://avatars-03.gitter.im","https://avatars-04.gitter.im","https://avatars-05.gitter.im"],"vapidAppServerKey":"BMhrlZd_I5OFJSJQTbg2mZ5PTHarzenwsKfsRd8C0-HRBygpDj9O3M4VTJIQfB9VPDjAoO_w2eg7Sj_cMXzuLwI","headlineNumbers":{"gitterUsers":"800K+","gitterRooms":"300K+","gitterGroups":"90K+","gitterCountries":"100+"},"inviteEmailAbuseThresholdPerDay":10};window.troupeContext = {"accessToken":"$SRwlJqJobXiFIzc8nkZjkpneAkHarKkvErDANuEq1EY=","isNativeDesktopApp":false,"locale":{"%d unread message":{"one":"%d unread message","other":"%d unread messages"},"Unread messages in %%s, %%s and one other":{"one":"Unread messages in %%s, %%s and one other","other":"Unread messages in %%s, %%s and %d others"},"Unread messages in %s":"Unread messages in %s","Unread messages in %s and %s":"Unread messages in %s and %s","Unread messages from %s":"Unread messages from %s","Unread messages from %s and %s":"Unread messages from %s and %s","Unread messages from %%s, %%s and one other":{"one":"Unread messages from %%s, %%s and one other","other":"Unread messages from %%s, %%s and %d others"},"Gitter is available in all modern browsers as well as apps for desktops.":"Gitter is available in all modern browsers as well as apps for desktops.","Mac":"Mac","Windows":"Windows","Linux 32":"Linux 32","Linux 64":"Linux 64","The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.":"The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.","Mac users on 10.9 or lower, <a %s>download here<\/a>.":"Mac users on 10.9 or lower, <a %s>download here<\/a>.","We also have a sweet little <a %s>IRC bridge<\/a>.":"We also have a sweet little <a %s>IRC bridge<\/a>.","The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.":"The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.","Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.":"Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.","desktop":"desktop","iOS":"iOS","Android":"Android","Support":"Support","API":"API","Blog":"Blog","Twitter":"Twitter"},"roomMember":false,"user":null,"troupe":{"id":"5609cf450fc9f982beb2225c","name":"alerta/chat","topic":"Alerta web next gen https://beta.alerta.io","avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b","uri":"alerta/chat","userCount":378,"url":"/alerta/chat","githubType":"ORG_CHANNEL","associatedRepo":false,"security":"PUBLIC","providers":["github"],"groupId":"57542c98c43b8c6019774b6b","group":{"id":"57542c98c43b8c6019774b6b","name":"alerta","uri":"alerta","homeUri":"alerta/home","backedBy":{"type":"GH_ORG","linkPath":"alerta"},"avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b"},"backend":{"type":"GH_ORG","linkPath":"alerta"},"public":true,"v":3},"roomHasWelcomeMessage":false,"archive":{"archiveDate":"2020-01-23T00:00:00.000Z","nextDate":"2020-01-24T23:59:59.999Z","previousDate":"2020-01-22T00:00:00.000Z","messages":[{"id":"5e29406369a7b51d4d67e917","text":"@satterly I've solved the issue by writing to the file in another format (using raw \\n). It is not really a possibility to use the python alerta client for this , becuase it's at this moment 100+ servers in a production environment which needed this function, so installing the client on all of them is not plausible. :) But thank you!","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> I&#39;ve solved the issue by writing to the file in another format (using raw \\n). It is not really a possibility to use the python alerta client for this , becuase it&#39;s at this moment 100+ servers in a production environment which needed this function, so installing the client on all of them is not plausible. :) But thank you!","sent":"2020-01-23T06:42:43.298Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2947113b40ea043c888d1d","text":"@cisco92 no problem. be careful about encoding plain strings in json. you'll need to escape not just newlines and other special characters but also double quotes and backslashes. See https://www.freeformatter.com/json-escape.html","html":"<span data-link-type=\"mention\" data-screen-name=\"cisco92\" class=\"mention\">@cisco92<\/span> no problem. be careful about encoding plain strings in json. you&#39;ll need to escape not just newlines and other special characters but also double quotes and backslashes. See <a href=\"https://www.freeformatter.com/json-escape.html\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://www.freeformatter.com/json-escape.html<\/a>","sent":"2020-01-23T07:11:13.909Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[{"url":"https://www.freeformatter.com/json-escape.html"}],"mentions":[{"screenName":"cisco92","userId":"5d10d1edd73408ce4fc45d98","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2948c969a7b51d4d6819b1","text":"Yes exactly, but the raw file with information is created by the same script so it shouldn't be any strange characters etc","html":"Yes exactly, but the raw file with information is created by the same script so it shouldn&#39;t be any strange characters etc","sent":"2020-01-23T07:18:33.647Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29508c364db33faa1a069f","text":"@satterly a completely different question, but is there any possibility to set a service on a heartbeat? So the service isn't \"Alerta\" in the alarm page","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> a completely different question, but is there any possibility to set a service on a heartbeat? So the service isn&#39;t &quot;Alerta&quot; in the alarm page","sent":"2020-01-23T07:51:40.402Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29539cb674071d4edee8e5","text":"@cisco92 not at the moment. it's hardcoded to \"Alerta\". it could work the same way as setting an environment. ie. via a tag.","html":"<span data-link-type=\"mention\" data-screen-name=\"cisco92\" class=\"mention\">@cisco92<\/span> not at the moment. it&#39;s hardcoded to &quot;Alerta&quot;. it could work the same way as setting an environment. ie. via a tag.","sent":"2020-01-23T08:04:44.533Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"cisco92","userId":"5d10d1edd73408ce4fc45d98","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2953b86ced65043b694ff8","text":"@burakksglu i'll take a look when i get a chance.","html":"<span data-link-type=\"mention\" data-screen-name=\"burakksglu\" class=\"mention\">@burakksglu<\/span> i&#39;ll take a look when i get a chance.","sent":"2020-01-23T08:05:12.907Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":13,"urls":[],"mentions":[{"screenName":"burakksglu","userId":"5e1c6fd7d73408ce4fd68751","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5e2953f7075a19397cf02e69","text":"Yes, I'm currently setting tags, but can you check if you're able to add a feature in the future to add a service flag to heartbeat? Or if there is a current way to do it","html":"Yes, I&#39;m currently setting tags, but can you check if you&#39;re able to add a feature in the future to add a service flag to heartbeat? Or if there is a current way to do it","sent":"2020-01-23T08:06:15.510Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e295559364db33faa1a2b87","text":"that would be possible. in the mean time you can do this yourself in a plugin. ie. look for a tag starting with \"service:\" and set the service attribute.","html":"that would be possible. in the mean time you can do this yourself in a plugin. ie. look for a tag starting with &quot;service:&quot; and set the service attribute.","sent":"2020-01-23T08:12:09.323Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29589a3482927279124120","text":"Okey cool! So I could also add in that plugin to look for \"attribute:\" in the tag and add that to attributes? ","html":"Okey cool! So I could also add in that plugin to look for &quot;attribute:&quot; in the tag and add that to attributes? ","sent":"2020-01-23T08:26:02.538Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2960bba420263e0384784b","text":"Thanks! @satterly I'm working on another issue btw. I'm debugging it right now. The issue is that if I send a user from keycloak with no role or unallowed role they can enter the app with 'user' role. It gets 'user' role from this declaration in oidc.py until that roles parameter is empty. Will let you know if I can find a fix:\n\n`  \n user = User.find_by_id(id=subject)\n    if not user:\n        user = User(id=subject, name=name, login=login, password='', email=email,\n                    roles=[], text='', email_verified=email_verified)\n        user.create()\n    else:\n        user.update(login=login, email=email)\n`\n","html":"<p>Thanks! <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> I&#39;m working on another issue btw. I&#39;m debugging it right now. The issue is that if I send a user from keycloak with no role or unallowed role they can enter the app with &#39;user&#39; role. It gets &#39;user&#39; role from this declaration in oidc.py until that roles parameter is empty. Will let you know if I can find a fix:<\/p><p><code>user = User.find_by_id(id=subject)\n    if not user:\n        user = User(id=subject, name=name, login=login, password=&#39;&#39;, email=email,\n                    roles=[], text=&#39;&#39;, email_verified=email_verified)\n        user.create()\n    else:\n        user.update(login=login, email=email)<\/code><\/p>","sent":"2020-01-23T09:00:43.433Z","editedAt":"2020-01-23T09:01:13.949Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5e2960e144c076313ccf47b6","text":"[![image.png](https://files.gitter.im/alerta/chat/24Wr/thumb/image.png)](https://files.gitter.im/alerta/chat/24Wr/image.png)","html":"<a href=\"https://files.gitter.im/alerta/chat/24Wr/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \"><img src=\"https://files.gitter.im/alerta/chat/24Wr/thumb/image.png\" alt=\"image.png\" rel=\"nofollow\"><\/a>","sent":"2020-01-23T09:01:21.953Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[{"url":"https://files.gitter.im/alerta/chat/24Wr/thumb/image.png"},{"url":"https://files.gitter.im/alerta/chat/24Wr/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5e2960fada04a624f46a36f7","text":"no role should get the default \"user\" role. an unallowed role should be 403 response","html":"no role should get the default &quot;user&quot; role. an unallowed role should be 403 response","sent":"2020-01-23T09:01:46.626Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29626ef196225bd641f2b7","text":"Ok, thank you for the guidance. That brings up a question on my head though. Could it be a problem on my end with the 'ALLOWED_KEYCLOAK_ROLES' variable? Because while I'm debugging I also see that it stays empty and couldn't get the correct parameters. I checked my '/etc/alertad.conf' file. Site logo url is working from that file by the way.\n\nAgain thank you for your effort! ","html":"<p>Ok, thank you for the guidance. That brings up a question on my head though. Could it be a problem on my end with the &#39;ALLOWED_KEYCLOAK_ROLES&#39; variable? Because while I&#39;m debugging I also see that it stays empty and couldn&#39;t get the correct parameters. I checked my &#39;/etc/alertad.conf&#39; file. Site logo url is working from that file by the way.<\/p><p>Again thank you for your effort! <\/p>","sent":"2020-01-23T09:07:58.872Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2969081a1c2739e3e5118a","text":"Does it work if you set ALLOWED_OIDC_ROLES instead of ALLOWED_KEYCLOAK_ROLES?","html":"Does it work if you set ALLOWED_OIDC_ROLES instead of ALLOWED_KEYCLOAK_ROLES?","sent":"2020-01-23T09:36:08.426Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2979ec9ad22d5bd5c6662c","text":"I tried and it didn't get the parameters. ALLOWED_OIDC_ROLES = ['admin','guest','user'] that's how I set in the alertad.conf. As you can see at the picture below, when it enters inside the condition it didn't change on the watcher and says \"name error\". Also when the app starts and ready to wait for login watcher changes to \"not available\".\n\n\n","html":"I tried and it didn&#39;t get the parameters. ALLOWED_OIDC_ROLES = [&#39;admin&#39;,&#39;guest&#39;,&#39;user&#39;] that&#39;s how I set in the alertad.conf. As you can see at the picture below, when it enters inside the condition it didn&#39;t change on the watcher and says &quot;name error&quot;. Also when the app starts and ready to wait for login watcher changes to &quot;not available&quot;.","sent":"2020-01-23T10:48:12.748Z","editedAt":"2020-01-23T10:51:56.287Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5e2979f3183449313bc2f9ab","text":"[![image.png](https://files.gitter.im/alerta/chat/tzti/thumb/image.png)](https://files.gitter.im/alerta/chat/tzti/image.png)","html":"<a href=\"https://files.gitter.im/alerta/chat/tzti/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \"><img src=\"https://files.gitter.im/alerta/chat/tzti/thumb/image.png\" alt=\"image.png\" rel=\"nofollow\"><\/a>","sent":"2020-01-23T10:48:19.315Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[{"url":"https://files.gitter.im/alerta/chat/tzti/thumb/image.png"},{"url":"https://files.gitter.im/alerta/chat/tzti/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5e298253f196225bd642e55a","text":"After a further debug, inside the current_app.config('OIDC_ROLE_CLAIM') I can see the set parameters by the way.","html":"After a further debug, inside the current_app.config(&#39;OIDC_ROLE_CLAIM&#39;) I can see the set parameters by the way.","sent":"2020-01-23T11:24:03.136Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e298258da04a624f46b28e1","text":"[![image.png](https://files.gitter.im/alerta/chat/iI2O/thumb/image.png)](https://files.gitter.im/alerta/chat/iI2O/image.png)","html":"<a href=\"https://files.gitter.im/alerta/chat/iI2O/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \"><img src=\"https://files.gitter.im/alerta/chat/iI2O/thumb/image.png\" alt=\"image.png\" rel=\"nofollow\"><\/a>","sent":"2020-01-23T11:24:08.125Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[{"url":"https://files.gitter.im/alerta/chat/iI2O/thumb/image.png"},{"url":"https://files.gitter.im/alerta/chat/iI2O/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false}]}};</script>

    
    <script type="text/javascript">window.webpackPublicPath = '//cdn02.gitter.im/_s/0d31b2aef/js/';</script>
    <script type="text/javascript" src="//cdn01.gitter.im/_s/0d31b2aef/js/runtime.bundle.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/vendor.chunk.js"></script>
<script type="text/javascript" src="//cdn02.gitter.im/_s/0d31b2aef/js/default.chunk.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/router-archive-chat.chunk.js"></script>
  
</body>
</html>
<!doctype html>
<html class="no-js " lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=IE9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <meta charset="utf-8">

    <style>
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: bold;
      src: local("SourceSansPro-Bold");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: bold;
      src: local("SourceSansPro-BoldIt");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 200;
      src: local("SourceSansPro-ExtraLight");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: normal;
      src: local("SourceSansPro-It");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 300;
      src: local("SourceSansPro-Light");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: normal;
      src: local("SourceSansPro-Regular");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 600;
      src: local("SourceSansPro-Semibold");
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Regular.otf.woff") format('woff');
      font-weight: normal;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-It.otf.woff") format('woff');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Bold.otf.woff") format('woff');
      font-weight: bold;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Semibold.otf.woff") format('woff');
      font-weight: 600;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-BoldIt.otf.woff") format('woff');
      font-weight: bold;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Light.otf.woff") format('woff');
      font-weight: 300;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-ExtraLight.otf.woff") format('woff');
      font-weight: 200;
      font-style: normal
    }
    @font-face {
      font-family: "KaTeX_AMS";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Script";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size1";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size2";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size3";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size4";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Typewriter";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
  </style>

  <title>alerta/chat - Gitter</title>

  <style>

  @-webkit-keyframes pulsey {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
  }

  html.loading .trpContentPanel { background: url("//cdn01.gitter.im/_s/0d31b2aef/images/logo-mark-grey-64.png") center no-repeat; height: 90%; -webkit-animation: pulsey 2s ease-out; -webkit-animation-iteration-count: infinite;  }
  html.loading .trpContentPanel > * { visibility: hidden; }
  </style>
  <base target="_parent">
  <link rel="stylesheet" href='//cdn01.gitter.im/_s/0d31b2aef/sprites/services.css'>
  <link rel="stylesheet" href='//cdn02.gitter.im/_s/0d31b2aef/styles/router-archive-chat.css'>
  <link id="favicon" rel="shortcut icon" href="//cdn02.gitter.im/_s/0d31b2aef/images/favicon.ico">
</head>
<body class="logged-out">
  <div class="chat-and-toolbar-wrapper archive">
    <div class="right-toolbar-region">
      <div class="right-toolbar" style="overflow: auto">
        <div class="gtrArchiveToolbarWrapper">
            <div class="gtrArchiveInfoContainer">
                <div class="gtrArchiveLogo">
                  <div class="logo-container"></div>
                </div>
                <div class="gtrArchiveInfo">
                  <p>These are chat archives for <strong>alerta/chat</strong></p>
                </div>
            </div>

          <div id="archive-navigation" class="gtrArchiveNavigationWrapper"><div class="gtrArchiveNavigationInner">
  <div class="gtrArchiveDate">
    <a href="/alerta/chat/archives/2020/01/24"><i class="gtrArchiveNext octicon octicon-chevron-right"></i></a>
    <a href="/alerta/chat/archives/2020/01/22"><i class="gtrArchivePrev octicon octicon-chevron-left"></i></a>
    <div class="gtrArchiveToday">
      <span class="gtrArchiveDay">23<sup>rd</sup></span><br>
      <span class="gtrArchiveMonth">Jan 2020</span>
    </div>
  </div>

  <div class="archive-toggle-navigation-action-holder">
    <button class="button-jaffa--small js-toggle-archive-navigation">Toggle Heatmap</button>
  </div>
  <div id="archive-navigation" class="gtrArchiveCalendar js-archive-navigation-wrapper">
  </div>
</div>
</div>
            <div class="archive-right-toolbar-button-wrapper">
              <a href="/login?action=login&amp;button=archive-login" class="archive-right-toolbar-button button-caribbean">Sign in to start talking</a>
            </div>
        </div>
      </div>
    </div>
    <div class="chat-app">
      <div class="chat-header" id="header-wrapper">
        <div id="header" class="chat-header-inner">
          <div class="chat-header__main-grouping chat-header__left-menu-toggle-grouping">
  <button class="chat-header__left-menu-toggle js-header-view-left-menu-toggle">
    <svg class="chat-header__action-icon" viewBox="0 0 26 22">
      <path d="M0,2 l26,0" />
      <path d="M0,11 l26,0" />
      <path d="M0,20 l26,0" />
    </svg>
  </button>
</div>

<div class="chat-header__main-grouping chat-header__avatar-grouping">
  <form
    class="chat-header__avatar  js-chat-header-group-avatar-upload-form"
    action=""
    enctype="multipart/form-data"
    method="POST">
    <input type="hidden" class="js-chat-header-group-avatar-upload-signature" name="signature" value="">
    <input type="hidden" class="js-chat-header-group-avatar-upload-params" name="params" value="">
    <input
      id="chat-header-group-avatar-upload-input"
      class="chat-header__group-avatar-upload-input js-chat-header-group-avatar-upload-input"
      name="file"
      type="file"
      accept="image/*"
      disabled />
    <label
      class="chat-header__group-avatar-upload-label js-chat-header-group-avatar-upload-label"
      for="chat-header-group-avatar-upload-input"
      >
      <img class="js-chat-header-avatar-image"  height='48' width='48' src='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=48' srcset='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=96 2x' >
      <div class="chat-header__group-avatar-upload-progress hidden js-chat-header-group-avatar-upload-progress"></div>
    </label>
  </form>
</div>

<div class="chat-header__main-grouping chat-header__info-grouping">
  <div class="chat-header__heading-sub-group">
    <h1 class="js-chat-name chat-header__heading">
      <a href="/alerta/chat" class="chat-header__title">alerta/chat</a>
    </h1>
  </div>
  <div class="chat-header__topic-sub-group js-room-topic-edit-activator" tabindex="0">
    <div class="chat-header__topic-wrapper js-room-topic-wrapper  "><p class="js-room-topic chat-header__topic  ">Alerta web next gen https://beta.alerta.io</p></div>
  </div>
</div>


<div class="chat-header__main-grouping chat-header__action-grouping">
    <a href="/orgs/alerta/rooms" class="chat-header__org-page org-page-link js-chat-header-org-page-action" title="More alerta rooms">
      <i class="chat-header__action-icon icon-globe"></i>
    </a>

</div>

        </div>
      </div>
      <div class="trpContentPanel archive" id="content-wrapper">
  <div class="trpChatPanel">
    <div class="trpChatContainer  primary-scroll  chat-container" id="content-frame">

      <div id="chat-container" role="list">
        <div>
            <div class="chat-item model-id-5e29406369a7b51d4d67e917 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29406369a7b51d4d67e917' title="">Jan 23 06:42 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> I&#39;ve solved the issue by writing to the file in another format (using raw \n). It is not really a possibility to use the python alerta client for this , becuase it&#39;s at this moment 100+ servers in a production environment which needed this function, so installing the client on all of them is not plausible. :) But thank you!
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2947113b40ea043c888d1d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2947113b40ea043c888d1d' title="">Jan 23 07:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="cisco92" class="mention">@cisco92</span> no problem. be careful about encoding plain strings in json. you&#39;ll need to escape not just newlines and other special characters but also double quotes and backslashes. See <a href="https://www.freeformatter.com/json-escape.html" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://www.freeformatter.com/json-escape.html</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2948c969a7b51d4d6819b1 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2948c969a7b51d4d6819b1' title="">Jan 23 07:18 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Yes exactly, but the raw file with information is created by the same script so it shouldn&#39;t be any strange characters etc
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29508c364db33faa1a069f burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29508c364db33faa1a069f' title="">Jan 23 07:51 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> a completely different question, but is there any possibility to set a service on a heartbeat? So the service isn&#39;t &quot;Alerta&quot; in the alarm page
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29539cb674071d4edee8e5 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29539cb674071d4edee8e5' title="">Jan 23 08:04 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="cisco92" class="mention">@cisco92</span> not at the moment. it&#39;s hardcoded to &quot;Alerta&quot;. it could work the same way as setting an environment. ie. via a tag.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2953b86ced65043b694ff8 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="burakksglu" class="mention">@burakksglu</span> i&#39;ll take a look when i get a chance.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2953f7075a19397cf02e69 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2953f7075a19397cf02e69' title="">Jan 23 08:06 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Yes, I&#39;m currently setting tags, but can you check if you&#39;re able to add a feature in the future to add a service flag to heartbeat? Or if there is a current way to do it
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e295559364db33faa1a2b87 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e295559364db33faa1a2b87' title="">Jan 23 08:12 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      that would be possible. in the mean time you can do this yourself in a plugin. ie. look for a tag starting with &quot;service:&quot; and set the service attribute.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29589a3482927279124120 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d10d1edd73408ce4fc45d98 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/22174011?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>cisco92</div>
      <div class='chat-item__username js-chat-item-from'>@cisco92</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29589a3482927279124120' title="">Jan 23 08:26 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Okey cool! So I could also add in that plugin to look for &quot;attribute:&quot; in the tag and add that to attributes? 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2960bba420263e0384784b burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2960bba420263e0384784b' title="">Jan 23 09:00 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <p>Thanks! <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> I&#39;m working on another issue btw. I&#39;m debugging it right now. The issue is that if I send a user from keycloak with no role or unallowed role they can enter the app with &#39;user&#39; role. It gets &#39;user&#39; role from this declaration in oidc.py until that roles parameter is empty. Will let you know if I can find a fix:</p><p><code>user = User.find_by_id(id=subject)
    if not user:
        user = User(id=subject, name=name, login=login, password=&#39;&#39;, email=email,
                    roles=[], text=&#39;&#39;, email_verified=email_verified)
        user.create()
    else:
        user.update(login=login, email=email)</code></p>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2960e144c076313ccf47b6 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/24Wr/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link "><img src="https://files.gitter.im/alerta/chat/24Wr/thumb/image.png" alt="image.png" rel="nofollow"></a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2960fada04a624f46a36f7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2960fada04a624f46a36f7' title="">Jan 23 09:01 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      no role should get the default &quot;user&quot; role. an unallowed role should be 403 response
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e29626ef196225bd641f2b7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e29626ef196225bd641f2b7' title="">Jan 23 09:07 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <p>Ok, thank you for the guidance. That brings up a question on my head though. Could it be a problem on my end with the &#39;ALLOWED_KEYCLOAK_ROLES&#39; variable? Because while I&#39;m debugging I also see that it stays empty and couldn&#39;t get the correct parameters. I checked my &#39;/etc/alertad.conf&#39; file. Site logo url is working from that file by the way.</p><p>Again thank you for your effort! </p>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2969081a1c2739e3e5118a burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2969081a1c2739e3e5118a' title="">Jan 23 09:36 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Does it work if you set ALLOWED_OIDC_ROLES instead of ALLOWED_KEYCLOAK_ROLES?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2979ec9ad22d5bd5c6662c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e2979ec9ad22d5bd5c6662c' title="">Jan 23 10:48 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I tried and it didn&#39;t get the parameters. ALLOWED_OIDC_ROLES = [&#39;admin&#39;,&#39;guest&#39;,&#39;user&#39;] that&#39;s how I set in the alertad.conf. As you can see at the picture below, when it enters inside the condition it didn&#39;t change on the watcher and says &quot;name error&quot;. Also when the app starts and ready to wait for login watcher changes to &quot;not available&quot;.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e2979f3183449313bc2f9ab burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/tzti/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link "><img src="https://files.gitter.im/alerta/chat/tzti/thumb/image.png" alt="image.png" rel="nofollow"></a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e298253f196225bd642e55a burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5e1c6fd7d73408ce4fd68751 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/49399656?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Burak Köseoğlu</div>
      <div class='chat-item__username js-chat-item-from'>@burakksglu</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/01/23?at=5e298253f196225bd642e55a' title="">Jan 23 11:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      After a further debug, inside the current_app.config(&#39;OIDC_ROLE_CLAIM&#39;) I can see the set parameters by the way.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5e298258da04a624f46b28e1 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/iI2O/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link "><img src="https://files.gitter.im/alerta/chat/iI2O/thumb/image.png" alt="image.png" rel="nofollow"></a>
    </div>
  </div>
</div>
</div>
        </div>
      </div>

      <div id='initial' style="height:0;width:0;overflow:hidden"><a name="initial"/>_</a></div>
    </div>
  </div>
</div>

    </div>
  </div>

    <script type="text/javascript">window.gitterClientEnv = {"lang":"en","domain":"gitter.im","baseServer":"gitter.im","basePath":"https://gitter.im","apiBasePath":"https://gitter.im/api","homeUrl":"/","badgeBaseUrl":"https://badges.gitter.im","googleTrackingId":"UA-45918290-1","googleTrackingDomain":"gitter.im","env":"prod","cdns":["cdn01.gitter.im","cdn02.gitter.im","cdn03.gitter.im"],"version":"0d31b2","assetTag":"0d31b2aef","logging":false,"ravenUrl":"https://a1bf037f1d5f46f28b8e3b3e82024654@sentry.gitlab.net/42","websockets":{"fayeUrl":"https://ws.gitter.im/bayeux","options":{"timeout":120,"retry":2}},"avatarsUrl":"https://avatars.gitter.im","avatarCdns":["https://avatars-01.gitter.im","https://avatars-02.gitter.im","https://avatars-03.gitter.im","https://avatars-04.gitter.im","https://avatars-05.gitter.im"],"vapidAppServerKey":"BMhrlZd_I5OFJSJQTbg2mZ5PTHarzenwsKfsRd8C0-HRBygpDj9O3M4VTJIQfB9VPDjAoO_w2eg7Sj_cMXzuLwI","headlineNumbers":{"gitterUsers":"800K+","gitterRooms":"300K+","gitterGroups":"90K+","gitterCountries":"100+"},"inviteEmailAbuseThresholdPerDay":10};window.troupeContext = {"accessToken":"$PMP0G3t1m/mUc20tLLUu+2rpfVrnbetwuAOMOk72z38=","isNativeDesktopApp":false,"locale":{"%d unread message":{"one":"%d unread message","other":"%d unread messages"},"Unread messages in %%s, %%s and one other":{"one":"Unread messages in %%s, %%s and one other","other":"Unread messages in %%s, %%s and %d others"},"Unread messages in %s":"Unread messages in %s","Unread messages in %s and %s":"Unread messages in %s and %s","Unread messages from %s":"Unread messages from %s","Unread messages from %s and %s":"Unread messages from %s and %s","Unread messages from %%s, %%s and one other":{"one":"Unread messages from %%s, %%s and one other","other":"Unread messages from %%s, %%s and %d others"},"Gitter is available in all modern browsers as well as apps for desktops.":"Gitter is available in all modern browsers as well as apps for desktops.","Mac":"Mac","Windows":"Windows","Linux 32":"Linux 32","Linux 64":"Linux 64","The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.":"The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.","Mac users on 10.9 or lower, <a %s>download here<\/a>.":"Mac users on 10.9 or lower, <a %s>download here<\/a>.","We also have a sweet little <a %s>IRC bridge<\/a>.":"We also have a sweet little <a %s>IRC bridge<\/a>.","The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.":"The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.","Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.":"Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.","desktop":"desktop","iOS":"iOS","Android":"Android","Support":"Support","API":"API","Blog":"Blog","Twitter":"Twitter"},"roomMember":false,"user":null,"troupe":{"id":"5609cf450fc9f982beb2225c","name":"alerta/chat","topic":"Alerta web next gen https://beta.alerta.io","avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b","uri":"alerta/chat","userCount":378,"url":"/alerta/chat","githubType":"ORG_CHANNEL","associatedRepo":false,"security":"PUBLIC","providers":["github"],"groupId":"57542c98c43b8c6019774b6b","group":{"id":"57542c98c43b8c6019774b6b","name":"alerta","uri":"alerta","homeUri":"alerta/home","backedBy":{"type":"GH_ORG","linkPath":"alerta"},"avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b"},"backend":{"type":"GH_ORG","linkPath":"alerta"},"public":true,"v":3},"roomHasWelcomeMessage":false,"archive":{"archiveDate":"2020-01-23T00:00:00.000Z","nextDate":"2020-01-24T23:59:59.999Z","previousDate":"2020-01-22T00:00:00.000Z","messages":[{"id":"5e29406369a7b51d4d67e917","text":"@satterly I've solved the issue by writing to the file in another format (using raw \\n). It is not really a possibility to use the python alerta client for this , becuase it's at this moment 100+ servers in a production environment which needed this function, so installing the client on all of them is not plausible. :) But thank you!","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> I&#39;ve solved the issue by writing to the file in another format (using raw \\n). It is not really a possibility to use the python alerta client for this , becuase it&#39;s at this moment 100+ servers in a production environment which needed this function, so installing the client on all of them is not plausible. :) But thank you!","sent":"2020-01-23T06:42:43.298Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2947113b40ea043c888d1d","text":"@cisco92 no problem. be careful about encoding plain strings in json. you'll need to escape not just newlines and other special characters but also double quotes and backslashes. See https://www.freeformatter.com/json-escape.html","html":"<span data-link-type=\"mention\" data-screen-name=\"cisco92\" class=\"mention\">@cisco92<\/span> no problem. be careful about encoding plain strings in json. you&#39;ll need to escape not just newlines and other special characters but also double quotes and backslashes. See <a href=\"https://www.freeformatter.com/json-escape.html\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://www.freeformatter.com/json-escape.html<\/a>","sent":"2020-01-23T07:11:13.909Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[{"url":"https://www.freeformatter.com/json-escape.html"}],"mentions":[{"screenName":"cisco92","userId":"5d10d1edd73408ce4fc45d98","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2948c969a7b51d4d6819b1","text":"Yes exactly, but the raw file with information is created by the same script so it shouldn't be any strange characters etc","html":"Yes exactly, but the raw file with information is created by the same script so it shouldn&#39;t be any strange characters etc","sent":"2020-01-23T07:18:33.647Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29508c364db33faa1a069f","text":"@satterly a completely different question, but is there any possibility to set a service on a heartbeat? So the service isn't \"Alerta\" in the alarm page","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> a completely different question, but is there any possibility to set a service on a heartbeat? So the service isn&#39;t &quot;Alerta&quot; in the alarm page","sent":"2020-01-23T07:51:40.402Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29539cb674071d4edee8e5","text":"@cisco92 not at the moment. it's hardcoded to \"Alerta\". it could work the same way as setting an environment. ie. via a tag.","html":"<span data-link-type=\"mention\" data-screen-name=\"cisco92\" class=\"mention\">@cisco92<\/span> not at the moment. it&#39;s hardcoded to &quot;Alerta&quot;. it could work the same way as setting an environment. ie. via a tag.","sent":"2020-01-23T08:04:44.533Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"cisco92","userId":"5d10d1edd73408ce4fc45d98","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2953b86ced65043b694ff8","text":"@burakksglu i'll take a look when i get a chance.","html":"<span data-link-type=\"mention\" data-screen-name=\"burakksglu\" class=\"mention\">@burakksglu<\/span> i&#39;ll take a look when i get a chance.","sent":"2020-01-23T08:05:12.907Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":13,"urls":[],"mentions":[{"screenName":"burakksglu","userId":"5e1c6fd7d73408ce4fd68751","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5e2953f7075a19397cf02e69","text":"Yes, I'm currently setting tags, but can you check if you're able to add a feature in the future to add a service flag to heartbeat? Or if there is a current way to do it","html":"Yes, I&#39;m currently setting tags, but can you check if you&#39;re able to add a feature in the future to add a service flag to heartbeat? Or if there is a current way to do it","sent":"2020-01-23T08:06:15.510Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e295559364db33faa1a2b87","text":"that would be possible. in the mean time you can do this yourself in a plugin. ie. look for a tag starting with \"service:\" and set the service attribute.","html":"that would be possible. in the mean time you can do this yourself in a plugin. ie. look for a tag starting with &quot;service:&quot; and set the service attribute.","sent":"2020-01-23T08:12:09.323Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29589a3482927279124120","text":"Okey cool! So I could also add in that plugin to look for \"attribute:\" in the tag and add that to attributes? ","html":"Okey cool! So I could also add in that plugin to look for &quot;attribute:&quot; in the tag and add that to attributes? ","sent":"2020-01-23T08:26:02.538Z","fromUser":{"id":"5d10d1edd73408ce4fc45d98","username":"cisco92","displayName":"cisco92","url":"/cisco92","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/cisco92","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/22174011?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2960bba420263e0384784b","text":"Thanks! @satterly I'm working on another issue btw. I'm debugging it right now. The issue is that if I send a user from keycloak with no role or unallowed role they can enter the app with 'user' role. It gets 'user' role from this declaration in oidc.py until that roles parameter is empty. Will let you know if I can find a fix:\n\n`  \n user = User.find_by_id(id=subject)\n    if not user:\n        user = User(id=subject, name=name, login=login, password='', email=email,\n                    roles=[], text='', email_verified=email_verified)\n        user.create()\n    else:\n        user.update(login=login, email=email)\n`\n","html":"<p>Thanks! <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> I&#39;m working on another issue btw. I&#39;m debugging it right now. The issue is that if I send a user from keycloak with no role or unallowed role they can enter the app with &#39;user&#39; role. It gets &#39;user&#39; role from this declaration in oidc.py until that roles parameter is empty. Will let you know if I can find a fix:<\/p><p><code>user = User.find_by_id(id=subject)\n    if not user:\n        user = User(id=subject, name=name, login=login, password=&#39;&#39;, email=email,\n                    roles=[], text=&#39;&#39;, email_verified=email_verified)\n        user.create()\n    else:\n        user.update(login=login, email=email)<\/code><\/p>","sent":"2020-01-23T09:00:43.433Z","editedAt":"2020-01-23T09:01:13.949Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5e2960e144c076313ccf47b6","text":"[![image.png](https://files.gitter.im/alerta/chat/24Wr/thumb/image.png)](https://files.gitter.im/alerta/chat/24Wr/image.png)","html":"<a href=\"https://files.gitter.im/alerta/chat/24Wr/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \"><img src=\"https://files.gitter.im/alerta/chat/24Wr/thumb/image.png\" alt=\"image.png\" rel=\"nofollow\"><\/a>","sent":"2020-01-23T09:01:21.953Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[{"url":"https://files.gitter.im/alerta/chat/24Wr/thumb/image.png"},{"url":"https://files.gitter.im/alerta/chat/24Wr/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5e2960fada04a624f46a36f7","text":"no role should get the default \"user\" role. an unallowed role should be 403 response","html":"no role should get the default &quot;user&quot; role. an unallowed role should be 403 response","sent":"2020-01-23T09:01:46.626Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e29626ef196225bd641f2b7","text":"Ok, thank you for the guidance. That brings up a question on my head though. Could it be a problem on my end with the 'ALLOWED_KEYCLOAK_ROLES' variable? Because while I'm debugging I also see that it stays empty and couldn't get the correct parameters. I checked my '/etc/alertad.conf' file. Site logo url is working from that file by the way.\n\nAgain thank you for your effort! ","html":"<p>Ok, thank you for the guidance. That brings up a question on my head though. Could it be a problem on my end with the &#39;ALLOWED_KEYCLOAK_ROLES&#39; variable? Because while I&#39;m debugging I also see that it stays empty and couldn&#39;t get the correct parameters. I checked my &#39;/etc/alertad.conf&#39; file. Site logo url is working from that file by the way.<\/p><p>Again thank you for your effort! <\/p>","sent":"2020-01-23T09:07:58.872Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":14,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2969081a1c2739e3e5118a","text":"Does it work if you set ALLOWED_OIDC_ROLES instead of ALLOWED_KEYCLOAK_ROLES?","html":"Does it work if you set ALLOWED_OIDC_ROLES instead of ALLOWED_KEYCLOAK_ROLES?","sent":"2020-01-23T09:36:08.426Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e2979ec9ad22d5bd5c6662c","text":"I tried and it didn't get the parameters. ALLOWED_OIDC_ROLES = ['admin','guest','user'] that's how I set in the alertad.conf. As you can see at the picture below, when it enters inside the condition it didn't change on the watcher and says \"name error\". Also when the app starts and ready to wait for login watcher changes to \"not available\".\n\n\n","html":"I tried and it didn&#39;t get the parameters. ALLOWED_OIDC_ROLES = [&#39;admin&#39;,&#39;guest&#39;,&#39;user&#39;] that&#39;s how I set in the alertad.conf. As you can see at the picture below, when it enters inside the condition it didn&#39;t change on the watcher and says &quot;name error&quot;. Also when the app starts and ready to wait for login watcher changes to &quot;not available&quot;.","sent":"2020-01-23T10:48:12.748Z","editedAt":"2020-01-23T10:51:56.287Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5e2979f3183449313bc2f9ab","text":"[![image.png](https://files.gitter.im/alerta/chat/tzti/thumb/image.png)](https://files.gitter.im/alerta/chat/tzti/image.png)","html":"<a href=\"https://files.gitter.im/alerta/chat/tzti/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \"><img src=\"https://files.gitter.im/alerta/chat/tzti/thumb/image.png\" alt=\"image.png\" rel=\"nofollow\"><\/a>","sent":"2020-01-23T10:48:19.315Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[{"url":"https://files.gitter.im/alerta/chat/tzti/thumb/image.png"},{"url":"https://files.gitter.im/alerta/chat/tzti/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5e298253f196225bd642e55a","text":"After a further debug, inside the current_app.config('OIDC_ROLE_CLAIM') I can see the set parameters by the way.","html":"After a further debug, inside the current_app.config(&#39;OIDC_ROLE_CLAIM&#39;) I can see the set parameters by the way.","sent":"2020-01-23T11:24:03.136Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5e298258da04a624f46b28e1","text":"[![image.png](https://files.gitter.im/alerta/chat/iI2O/thumb/image.png)](https://files.gitter.im/alerta/chat/iI2O/image.png)","html":"<a href=\"https://files.gitter.im/alerta/chat/iI2O/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \"><img src=\"https://files.gitter.im/alerta/chat/iI2O/thumb/image.png\" alt=\"image.png\" rel=\"nofollow\"><\/a>","sent":"2020-01-23T11:24:08.125Z","fromUser":{"id":"5e1c6fd7d73408ce4fd68751","username":"burakksglu","displayName":"Burak Köseoğlu","url":"/burakksglu","avatarUrl":"https://avatars-01.gitter.im/gh/uv/4/burakksglu","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/49399656?v=4&s=128","v":15,"gv":"4"},"readBy":15,"urls":[{"url":"https://files.gitter.im/alerta/chat/iI2O/thumb/image.png"},{"url":"https://files.gitter.im/alerta/chat/iI2O/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false}]}};</script>

    
    <script type="text/javascript">window.webpackPublicPath = '//cdn02.gitter.im/_s/0d31b2aef/js/';</script>
    <script type="text/javascript" src="//cdn01.gitter.im/_s/0d31b2aef/js/runtime.bundle.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/vendor.chunk.js"></script>
<script type="text/javascript" src="//cdn02.gitter.im/_s/0d31b2aef/js/default.chunk.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/router-archive-chat.chunk.js"></script>
  
</body>
</html>
