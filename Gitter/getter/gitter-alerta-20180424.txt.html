<!doctype html>
<html class="no-js " lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=IE9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <meta charset="utf-8">

    <style>
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: bold;
      src: local("SourceSansPro-Bold");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: bold;
      src: local("SourceSansPro-BoldIt");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 200;
      src: local("SourceSansPro-ExtraLight");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: normal;
      src: local("SourceSansPro-It");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 300;
      src: local("SourceSansPro-Light");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: normal;
      src: local("SourceSansPro-Regular");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 600;
      src: local("SourceSansPro-Semibold");
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Regular.otf.woff") format('woff');
      font-weight: normal;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-It.otf.woff") format('woff');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Bold.otf.woff") format('woff');
      font-weight: bold;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Semibold.otf.woff") format('woff');
      font-weight: 600;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-BoldIt.otf.woff") format('woff');
      font-weight: bold;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Light.otf.woff") format('woff');
      font-weight: 300;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-ExtraLight.otf.woff") format('woff');
      font-weight: 200;
      font-style: normal
    }
    @font-face {
      font-family: "KaTeX_AMS";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Script";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size1";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size2";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size3";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size4";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Typewriter";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
  </style>

  <title>alerta/chat - Gitter</title>

  <style>

  @-webkit-keyframes pulsey {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
  }

  html.loading .trpContentPanel { background: url("//cdn01.gitter.im/_s/0d31b2aef/images/logo-mark-grey-64.png") center no-repeat; height: 90%; -webkit-animation: pulsey 2s ease-out; -webkit-animation-iteration-count: infinite;  }
  html.loading .trpContentPanel > * { visibility: hidden; }
  </style>
  <base target="_parent">
  <link rel="stylesheet" href='//cdn01.gitter.im/_s/0d31b2aef/sprites/services.css'>
  <link rel="stylesheet" href='//cdn02.gitter.im/_s/0d31b2aef/styles/router-archive-chat.css'>
  <link id="favicon" rel="shortcut icon" href="//cdn02.gitter.im/_s/0d31b2aef/images/favicon.ico">
</head>
<body class="logged-out">
  <div class="chat-and-toolbar-wrapper archive">
    <div class="right-toolbar-region">
      <div class="right-toolbar" style="overflow: auto">
        <div class="gtrArchiveToolbarWrapper">
            <div class="gtrArchiveInfoContainer">
                <div class="gtrArchiveLogo">
                  <div class="logo-container"></div>
                </div>
                <div class="gtrArchiveInfo">
                  <p>These are chat archives for <strong>alerta/chat</strong></p>
                </div>
            </div>

          <div id="archive-navigation" class="gtrArchiveNavigationWrapper"><div class="gtrArchiveNavigationInner">
  <div class="gtrArchiveDate">
    <a href="/alerta/chat/archives/2018/04/25"><i class="gtrArchiveNext octicon octicon-chevron-right"></i></a>
    <a href="/alerta/chat/archives/2018/04/23"><i class="gtrArchivePrev octicon octicon-chevron-left"></i></a>
    <div class="gtrArchiveToday">
      <span class="gtrArchiveDay">24<sup>th</sup></span><br>
      <span class="gtrArchiveMonth">Apr 2018</span>
    </div>
  </div>

  <div class="archive-toggle-navigation-action-holder">
    <button class="button-jaffa--small js-toggle-archive-navigation">Toggle Heatmap</button>
  </div>
  <div id="archive-navigation" class="gtrArchiveCalendar js-archive-navigation-wrapper">
  </div>
</div>
</div>
            <div class="archive-right-toolbar-button-wrapper">
              <a href="/login?action=login&amp;button=archive-login" class="archive-right-toolbar-button button-caribbean">Sign in to start talking</a>
            </div>
        </div>
      </div>
    </div>
    <div class="chat-app">
      <div class="chat-header" id="header-wrapper">
        <div id="header" class="chat-header-inner">
          <div class="chat-header__main-grouping chat-header__left-menu-toggle-grouping">
  <button class="chat-header__left-menu-toggle js-header-view-left-menu-toggle">
    <svg class="chat-header__action-icon" viewBox="0 0 26 22">
      <path d="M0,2 l26,0" />
      <path d="M0,11 l26,0" />
      <path d="M0,20 l26,0" />
    </svg>
  </button>
</div>

<div class="chat-header__main-grouping chat-header__avatar-grouping">
  <form
    class="chat-header__avatar  js-chat-header-group-avatar-upload-form"
    action=""
    enctype="multipart/form-data"
    method="POST">
    <input type="hidden" class="js-chat-header-group-avatar-upload-signature" name="signature" value="">
    <input type="hidden" class="js-chat-header-group-avatar-upload-params" name="params" value="">
    <input
      id="chat-header-group-avatar-upload-input"
      class="chat-header__group-avatar-upload-input js-chat-header-group-avatar-upload-input"
      name="file"
      type="file"
      accept="image/*"
      disabled />
    <label
      class="chat-header__group-avatar-upload-label js-chat-header-group-avatar-upload-label"
      for="chat-header-group-avatar-upload-input"
      >
      <img class="js-chat-header-avatar-image"  height='48' width='48' src='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=48' srcset='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=96 2x' >
      <div class="chat-header__group-avatar-upload-progress hidden js-chat-header-group-avatar-upload-progress"></div>
    </label>
  </form>
</div>

<div class="chat-header__main-grouping chat-header__info-grouping">
  <div class="chat-header__heading-sub-group">
    <h1 class="js-chat-name chat-header__heading">
      <a href="/alerta/chat" class="chat-header__title">alerta/chat</a>
    </h1>
  </div>
  <div class="chat-header__topic-sub-group js-room-topic-edit-activator" tabindex="0">
    <div class="chat-header__topic-wrapper js-room-topic-wrapper  "><p class="js-room-topic chat-header__topic  ">Alerta web next gen https://beta.alerta.io</p></div>
  </div>
</div>


<div class="chat-header__main-grouping chat-header__action-grouping">
    <a href="/orgs/alerta/rooms" class="chat-header__org-page org-page-link js-chat-header-org-page-action" title="More alerta rooms">
      <i class="chat-header__action-icon icon-globe"></i>
    </a>

</div>

        </div>
      </div>
      <div class="trpContentPanel archive" id="content-wrapper">
  <div class="trpChatPanel">
    <div class="trpChatContainer  primary-scroll  chat-container" id="content-frame">

      <div id="chat-container" role="list">
        <div>
            <div class="chat-item model-id-5adeeed21130fe3d360dd5c0 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adeeed21130fe3d360dd5c0' title="">Apr 24 2018 08:46 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="tester22" class="mention">@tester22</span> I&#39;m pretty unfamiliar with writing small components of larger projects... is there an easy way to write simple test cases and stuff for a plugin like this?  Or do you have to spin up a whole Alerta instance and feed it data to see how the plugins react?  Specifically the things I&#39;m concerned about is stuff like making sure the methods/attributes of the <code>alert</code> object are being used correctly, etc.   
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef5df5d7286b43a603279 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef5df5d7286b43a603279' title="">Apr 24 2018 09:16 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="tester22" class="mention">@tester22</span> <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> Looking at the code, there doesn&#39;t seem to be a way to do what I&#39;m trying to do.  In order to take a GELF object like <a href="http://docs.graylog.org/en/2.4/pages/gelf.html#gelf-payload-specification" rel="nofollow noopener noreferrer" target="_blank" class="link">here</a>  I&#39;d have to get in front of (or override) the <code>Alert.parse()</code> call in <code>alerta/views/alerts.py</code>.  I need a pre-pre-receive hook :)  
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef69c5d7286b43a6037b5 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      I&#39;ve not worked with Flask in the past, but that looks like it&#39;d be difficult to do in the context of a plugin, no?  Would you guys be open to a PR that adds something like a <code>/alert/gelf</code> POST method to support an alternate input format?  
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef7e315c9b031142ccd33 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609b0b20fc9f982beb21fdb avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Anton</div>
      <div class='chat-item__username js-chat-item-from'>@tester22</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef7e315c9b031142ccd33' title="">Apr 24 2018 09:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Should be possible to write an webhook for gelf or use an script in the middle like <a href="https://github.com/alerta/alerta-contrib/tree/master/integrations/syslog" rel="nofollow noopener noreferrer" target="_blank" class="link">https://github.com/alerta/alerta-contrib/tree/master/integrations/syslog</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef81927c509a774454834 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      But then you will need to filter in graylog to only send in messages that are interesting since there will be alot of errors if each gelf message should be an alert in alerta
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef81b2b9dfdbc3ac2372c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef81b2b9dfdbc3ac2372c' title="">Apr 24 2018 09:25 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      duh, of course!  if you can take raw syslog, surely you can take GELF.  I&#39;ll look at that
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef83b5d7286b43a60403d burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      that&#39;s exactly our intent... Graylog as the &quot;interesting or not&quot; filter, Alerta for deduplication/state tracking
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef84b27c509a7744548fa burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609b0b20fc9f982beb21fdb avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Anton</div>
      <div class='chat-item__username js-chat-item-from'>@tester22</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef84b27c509a7744548fa' title="">Apr 24 2018 09:26 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      ah, ok.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef8522b9dfdbc3ac23824 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      then it should work
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef8845d7286b43a604242 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      the only thing to consider is how to handle &quot;return to correct&quot; state. Otherwise you will have alot of alerts that isn&#39;t closed automatically
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef8be7c3a01610d151d68 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef8be7c3a01610d151d68' title="">Apr 24 2018 09:28 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Yeah, we&#39;re still thinking about that.  This is going to be for a NOC console, so we still have to figure out whether we even want certain alerts to close automatically, right?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef8da5f188ccc1599cdb1 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      if something is flapping quickly, we still want to know about it in many cases, etc
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef9035f188ccc1599ce63 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609b0b20fc9f982beb21fdb avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Anton</div>
      <div class='chat-item__username js-chat-item-from'>@tester22</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef9035f188ccc1599ce63' title="">Apr 24 2018 09:29 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      flapping is built in in alerta so that will work
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef9652d0e228d7ba726f0 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef9652d0e228d7ba726f0' title="">Apr 24 2018 09:31 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      so that integration you linked would actually run as a separate process then?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef97315c9b031142cd584 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609b0b20fc9f982beb21fdb avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Anton</div>
      <div class='chat-item__username js-chat-item-from'>@tester22</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef97315c9b031142cd584' title="">Apr 24 2018 09:31 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      yes
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef97d27c509a774454ee7 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      and communicate using the api
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef9842d0e228d7ba72803 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      no need to extend alerta
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef99162316e0505f366da burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      and you could have your custom logic in that process
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adef9ba5f188ccc1599d229 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adef9ba5f188ccc1599d229' title="">Apr 24 2018 09:32 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      got it.  makes sense.  I was hoping to avoid that, but it&#39;s fine.  Especially with an established model to follow it shouldn&#39;t be too terrible.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adefa6e6d7e07082b29d921 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609b0b20fc9f982beb21fdb avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Anton</div>
      <div class='chat-item__username js-chat-item-from'>@tester22</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adefa6e6d7e07082b29d921' title="">Apr 24 2018 09:35 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      This should be an good start, I think: <a href="https://gist.github.com/idlethreat/223ea5abf470a7c1c632" rel="nofollow noopener noreferrer" target="_blank" class="link">https://gist.github.com/idlethreat/223ea5abf470a7c1c632</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adefaca62316e0505f36d7e burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5acf765fd73408ce4f956700 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/10977253?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>William George</div>
      <div class='chat-item__username js-chat-item-from'>@wrgeorge1983</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adefaca62316e0505f36d7e' title="">Apr 24 2018 09:37 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Nice, thanks!
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adefb6027c509a774455d39 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      Yeah, I&#39;m just cautious about the list of separate moving parts getting too long.  I&#39;m a Network Engineer here, so adding more separate processes to worry about isn&#39;t great :)  But if we gotta do it we gotta do it.  Already had to write two other scripts to get data into graylog to begin with, one more won&#39;t kill me :)
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adefc43270d7d3708fd3eb4 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609b0b20fc9f982beb21fdb avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/289504?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Anton</div>
      <div class='chat-item__username js-chat-item-from'>@tester22</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adefc43270d7d3708fd3eb4' title="">Apr 24 2018 09:43 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Sure, if you use the python sdk (<a href="https://github.com/alerta/python-alerta-client#example-1" rel="nofollow noopener noreferrer" target="_blank" class="link">https://github.com/alerta/python-alerta-client#example-1</a>) in communicatoin with alerta you could set up an heartbeat in your process. That way you will get an notification in Alerta if your process would die.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf34de5d7286b43a61810e burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf34de5d7286b43a61810e' title="">Apr 24 2018 13:45 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> Please check my query when you get time
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4b2a3fe1be3704cb0723 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf4b2a3fe1be3704cb0723' title="">Apr 24 2018 15:20 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="wrgeorge1983" class="mention">@wrgeorge1983</span> it sounds like you&#39;re on the right track thanks to <span data-link-type="mention" data-screen-name="tester22" class="mention">@tester22</span> but you might also want to consider that you can create your own custom webhooks these days. see the PR here <span data-link-type="issue" data-issue="489" data-issue-repo="alerta/alerta" class="issue">alerta/alerta#489</span> obviously this needs to be documented in the official docs ... when i get time.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4b5326a769820b2bfdf8 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="sushovan23" class="mention">@sushovan23</span> sorry can you remind me what your query was.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4c2d109bb04332f744ce burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a724981d73408ce4f8b1d67 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Howie</div>
      <div class='chat-item__username js-chat-item-from'>@3IWOH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf4c2d109bb04332f744ce' title="">Apr 24 2018 15:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span>, sorry to bother but when you have a moment can you take a look at my last question around manually closed vs. closed via severity? I think I can work around this if I can set an alert severity in using the plugin status_change...for some reason that is not working though.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4ce62b9dfdbc3ac425fc burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      it was on apr 19th if that makes it easier to find
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4cfb270d7d3708ff1244 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf4cfb270d7d3708ff1244' title="">Apr 24 2018 15:27 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <p><span data-link-type="mention" data-screen-name="sushovan23" class="mention">@sushovan23</span><br>Is there a way to force the UI not to duplicate alerts which are having different Services.<br>I have a simple prometheus rule to generate alerts for instances not reachable</p><pre><code><span class="xml">alert: Service
  Unreachable
expr: up == 0
for: 1m
labels:
  service: '</span><span class="expression">{{ $<span class="variable">labels.job</span> }}</span><span class="xml">'
  severity: critical
annotations:
  description: 'Service: </span><span class="expression">{{ $<span class="variable">labels.job</span> }}</span><span class="xml"> Instance: </span><span class="expression">{{ $<span class="variable">labels.instance</span> }}</span><span class="xml"> has been
    unreachable for more than 5 minute.'
  summary: 'Service: </span><span class="expression">{{ $<span class="variable">labels.job</span> }}</span><span class="xml"> Instance: </span><span class="expression">{{ $<span class="variable">labels.instance</span> }}</span><span class="xml"> unreachable'</span></code></pre><p>I have same instance registered as target in prometheus for different services. Alert manager is generating two events. Alerta gets two events. send notifications for two events. but in UI it&#39;s showing only 1 with duplicate count of 1. </p>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4d0415c9b031142ebf80 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      for some reason the service field is not getting updated
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4d13109bb04332f74c01 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://files.gitter.im/alerta/chat/ntRm/image.png" rel="nofollow noopener noreferrer" target="_blank" class="link">https://files.gitter.im/alerta/chat/ntRm/image.png</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf4d1d5d7286b43a6213b2 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      if you see text is updated but service is not<br>I verified webhook logs and alerta gets different services&#39;
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf708462316e0505f6253d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf708462316e0505f6253d' title="">Apr 24 2018 17:59 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="sushovan23" class="mention">@sushovan23</span> alerts are not deduplicated using service. That would be way too complicated and I&#39;m not sure how it would work. Service despite the name is actually a list of services. Would all services need to match for an alert to be the same or just one?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf71365f188ccc159c86fa burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      You should namespace your alerts based on environment and resource. In your case I would suggest you prepend resource with service name. Just repeat the service name in the service attribute. 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7a7c26a769820b2bffe6 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7a7c26a769820b2bffe6' title="">Apr 24 2018 18:42 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="3IWOH" class="mention">@3IWOH</span> did this get fixed by this ? <span data-link-type="issue" data-issue="513" data-issue-repo="alerta/alerta" class="issue">alerta/alerta#513</span>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7a9a01a2b40f382f0c48 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      or was that addressing something else? 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7b592b9dfdbc3ac53ebc burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7b592b9dfdbc3ac53ebc' title="">Apr 24 2018 18:45 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> that was my suspicion. But still in my case the service list is not getting updated as you see in the image which I posted. Service remains same as telegraf
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7b8d26a769820b2bffec burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7b8d26a769820b2bffec' title="">Apr 24 2018 18:46 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      service isn’t updated after the alert is created. why would it need to be?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7be226a769820b2bfff0 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      ie what’s the use case for the list of affected services changing when an alert is resent?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7c2462316e0505f65ee1 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7c2462316e0505f65ee1' title="">Apr 24 2018 18:49 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      use case is same host is providing multiple services. 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7c706d7e07082b2cd6cf burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      we want to monitor each of those down services from prometheus. rule is simple:<pre><code><span class="xml">alert: Service
  Unreachable
expr: up == 0
for: 1m
labels:
  service: '</span><span class="expression">{{ $<span class="variable">labels.job</span> }}</span><span class="xml">'
  severity: critical
annotations:
  description: 'Service: </span><span class="expression">{{ $<span class="variable">labels.job</span> }}</span><span class="xml"> Instance: </span><span class="expression">{{ $<span class="variable">labels.instance</span> }}</span><span class="xml"> has been
    unreachable for more than 5 minute.'
  summary: 'Service: </span><span class="expression">{{ $<span class="variable">labels.job</span> }}</span><span class="xml"> Instance: </span><span class="expression">{{ $<span class="variable">labels.instance</span> }}</span><span class="xml"> unreachable'</span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7c763fe1be3704cb08a4 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7c763fe1be3704cb08a4' title="">Apr 24 2018 18:50 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Sure. i understand that a host can provide multiple services but why would those list of services change from one moment to the next ? is this really happening in your environment ?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7c98012ff2bf681ec2f9 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      if you put triple back ticks you get proper formatting.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7cb27685a046389de664 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      thanks
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7cb45d7286b43a633010 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7cb45d7286b43a633010' title="">Apr 24 2018 18:51 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      services are not changing. different services can go down in that host
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7d7e3fe1be3704cb08a6 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7d7e3fe1be3704cb08a6' title="">Apr 24 2018 18:54 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      yes, ok i understand. so the “resource” being affected is really a “job” for an “instance”.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7d911130fe3d36111087 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7d911130fe3d36111087' title="">Apr 24 2018 18:55 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      yes 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7d9226a769820b2c0001 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7d9226a769820b2c0001' title="">Apr 24 2018 18:55 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      so the resource attribute needs to be a combination of job and instance.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7d9f2b9dfdbc3ac54da8 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a724981d73408ce4f8b1d67 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Howie</div>
      <div class='chat-item__username js-chat-item-from'>@3IWOH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7d9f2b9dfdbc3ac54da8' title="">Apr 24 2018 18:55 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="sushovan23" class="mention">@sushovan23</span> , we are dealing with the same thing...we have some web servers that service multiple services. In our case we make sure to have other monitors that fire when specific services are down. The web server alerts (memory , cpu, etc) show multiple services that &quot;could&quot; be affected. Our thinking is that a shared server alert should just be providing additional context to an incident. The alert for a service itself should be the main alert.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7da101a2b40f382f0c6c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7da101a2b40f382f0c6c' title="">Apr 24 2018 18:55 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      ie. “instance:job&quot;
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7e565d7286b43a633939 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a724981d73408ce4f8b1d67 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Howie</div>
      <div class='chat-item__username js-chat-item-from'>@3IWOH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7e565d7286b43a633939' title="">Apr 24 2018 18:58 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      ah, my example is not exactly what you are talking about, I guess.  Sorry for the confusion.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7e777685a046389de67b burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7e777685a046389de67b' title="">Apr 24 2018 18:59 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      my prometheus is a bit rusty but i think for these alerts you need to slightly modify the rule to be something like this …<pre><code>ALERT ...rate_too_low 
  IF sum by<span class="function"> (</span>host<span class="function">)</span><span class="function"> (</span>rate(....<span class="function">)</span><span class="function">)</span> &lt; 10
  FOR 2m
  LABELS {
    value = <span class="string">"{{$value}}"</span>,
    environment = <span class="string">"Production"</span>,
   <span class="instruction"> instance </span>= <span class="string">"{{$labels.host}}:{{$labels.job}}"</span>
  }</code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7ea2012ff2bf681ec302 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      ie. the instance isn’t just a host but a host:job
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7eb43fe1be3704cb08ac burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      which will map to resource in alerta
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7ec72b9dfdbc3ac553db burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a724981d73408ce4f8b1d67 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/7918433?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Howie</div>
      <div class='chat-item__username js-chat-item-from'>@3IWOH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7ec72b9dfdbc3ac553db' title="">Apr 24 2018 19:00 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span>, that fix was similar for some blackout issues, but this is for &quot;normal&quot; alerts.  Let me know if I should take another shot at explaining what I am seeing.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7ecd27c509a774485102 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5a948131d73408ce4f8ef365 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/14843483?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sushovan23</div>
      <div class='chat-item__username js-chat-item-from'>@sushovan23</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7ecd27c509a774485102' title="">Apr 24 2018 19:00 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Yes I see that. I was just looking at the code 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7ecd2b9dfdbc3ac55407 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://github.com/alerta/alerta/blob/master/alerta/webhooks/prometheus.py#L54" rel="nofollow noopener noreferrer" target="_blank" class="link">https://github.com/alerta/alerta/blob/master/alerta/webhooks/prometheus.py#L54</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7ef827c509a7744851c1 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      I think that would work only I would need to update my custom enrich plugin when I try to get IP address directly from resource in prometheus alerts. I can add some parsing to that and get it
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7f0f2b9dfdbc3ac5551d burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      Thanks I will make the changes and see how it works out
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7f1b01a2b40f382f0c77 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf7f1b01a2b40f382f0c77' title="">Apr 24 2018 19:01 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      Sounds good. let me know how you go.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf7f3926a769820b2c0011 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="3IWOH" class="mention">@3IWOH</span> ok. i’ll take another look and let you know if i need more info.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5adf8b8926a769820b2c00c7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2018/04/24?at=5adf8b8926a769820b2c00c7' title="">Apr 24 2018 19:54 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="3IWOH" class="mention">@3IWOH</span> i’ve worked out what is going on and have written a test to capture the problem. see <span data-link-type="issue" data-issue="520" data-issue-repo="alerta/alerta" class="issue">alerta/alerta#520</span>
    </div>
  </div>
</div>
</div>
        </div>
      </div>

      <div id='initial' style="height:0;width:0;overflow:hidden"><a name="initial"/>_</a></div>
    </div>
  </div>
</div>

    </div>
  </div>

    <script type="text/javascript">window.gitterClientEnv = {"lang":"en","domain":"gitter.im","baseServer":"gitter.im","basePath":"https://gitter.im","apiBasePath":"https://gitter.im/api","homeUrl":"/","badgeBaseUrl":"https://badges.gitter.im","googleTrackingId":"UA-45918290-1","googleTrackingDomain":"gitter.im","env":"prod","cdns":["cdn01.gitter.im","cdn02.gitter.im","cdn03.gitter.im"],"version":"0d31b2","assetTag":"0d31b2aef","logging":false,"ravenUrl":"https://a1bf037f1d5f46f28b8e3b3e82024654@sentry.gitlab.net/42","websockets":{"fayeUrl":"https://ws.gitter.im/bayeux","options":{"timeout":120,"retry":2}},"avatarsUrl":"https://avatars.gitter.im","avatarCdns":["https://avatars-01.gitter.im","https://avatars-02.gitter.im","https://avatars-03.gitter.im","https://avatars-04.gitter.im","https://avatars-05.gitter.im"],"vapidAppServerKey":"BMhrlZd_I5OFJSJQTbg2mZ5PTHarzenwsKfsRd8C0-HRBygpDj9O3M4VTJIQfB9VPDjAoO_w2eg7Sj_cMXzuLwI","headlineNumbers":{"gitterUsers":"800K+","gitterRooms":"300K+","gitterGroups":"90K+","gitterCountries":"100+"},"inviteEmailAbuseThresholdPerDay":10};window.troupeContext = {"accessToken":"$bpjL5VKDuSHNL6xJBYWERlNChCHu+bqEiT4ILPjQhjQ=","isNativeDesktopApp":false,"locale":{"%d unread message":{"one":"%d unread message","other":"%d unread messages"},"Unread messages in %%s, %%s and one other":{"one":"Unread messages in %%s, %%s and one other","other":"Unread messages in %%s, %%s and %d others"},"Unread messages in %s":"Unread messages in %s","Unread messages in %s and %s":"Unread messages in %s and %s","Unread messages from %s":"Unread messages from %s","Unread messages from %s and %s":"Unread messages from %s and %s","Unread messages from %%s, %%s and one other":{"one":"Unread messages from %%s, %%s and one other","other":"Unread messages from %%s, %%s and %d others"},"Gitter is available in all modern browsers as well as apps for desktops.":"Gitter is available in all modern browsers as well as apps for desktops.","Mac":"Mac","Windows":"Windows","Linux 32":"Linux 32","Linux 64":"Linux 64","The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.":"The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.","Mac users on 10.9 or lower, <a %s>download here<\/a>.":"Mac users on 10.9 or lower, <a %s>download here<\/a>.","We also have a sweet little <a %s>IRC bridge<\/a>.":"We also have a sweet little <a %s>IRC bridge<\/a>.","The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.":"The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.","Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.":"Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.","desktop":"desktop","iOS":"iOS","Android":"Android","Support":"Support","API":"API","Blog":"Blog","Twitter":"Twitter"},"roomMember":false,"user":null,"troupe":{"id":"5609cf450fc9f982beb2225c","name":"alerta/chat","topic":"Alerta web next gen https://beta.alerta.io","avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b","uri":"alerta/chat","userCount":378,"url":"/alerta/chat","githubType":"ORG_CHANNEL","associatedRepo":false,"security":"PUBLIC","providers":["github"],"groupId":"57542c98c43b8c6019774b6b","group":{"id":"57542c98c43b8c6019774b6b","name":"alerta","uri":"alerta","homeUri":"alerta/home","backedBy":{"type":"GH_ORG","linkPath":"alerta"},"avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b"},"backend":{"type":"GH_ORG","linkPath":"alerta"},"public":true,"v":3},"roomHasWelcomeMessage":false,"archive":{"archiveDate":"2018-04-24T00:00:00.000Z","nextDate":"2018-04-25T23:59:59.999Z","previousDate":"2018-04-23T00:00:00.000Z","messages":[{"id":"5adeeed21130fe3d360dd5c0","text":"@tester22 I'm pretty unfamiliar with writing small components of larger projects... is there an easy way to write simple test cases and stuff for a plugin like this?  Or do you have to spin up a whole Alerta instance and feed it data to see how the plugins react?  Specifically the things I'm concerned about is stuff like making sure the methods/attributes of the `alert` object are being used correctly, etc.   ","html":"<span data-link-type=\"mention\" data-screen-name=\"tester22\" class=\"mention\">@tester22<\/span> I&#39;m pretty unfamiliar with writing small components of larger projects... is there an easy way to write simple test cases and stuff for a plugin like this?  Or do you have to spin up a whole Alerta instance and feed it data to see how the plugins react?  Specifically the things I&#39;m concerned about is stuff like making sure the methods/attributes of the <code>alert<\/code> object are being used correctly, etc.   ","sent":"2018-04-24T08:46:10.827Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[{"screenName":"tester22","userId":"5609b0b20fc9f982beb21fdb","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef5df5d7286b43a603279","text":"@tester22 @satterly Looking at the code, there doesn't seem to be a way to do what I'm trying to do.  In order to take a GELF object like [here](http://docs.graylog.org/en/2.4/pages/gelf.html#gelf-payload-specification)  I'd have to get in front of (or override) the `Alert.parse()` call in `alerta/views/alerts.py`.  I need a pre-pre-receive hook :)  ","html":"<span data-link-type=\"mention\" data-screen-name=\"tester22\" class=\"mention\">@tester22<\/span> <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> Looking at the code, there doesn&#39;t seem to be a way to do what I&#39;m trying to do.  In order to take a GELF object like <a href=\"http://docs.graylog.org/en/2.4/pages/gelf.html#gelf-payload-specification\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">here<\/a>  I&#39;d have to get in front of (or override) the <code>Alert.parse()<\/code> call in <code>alerta/views/alerts.py<\/code>.  I need a pre-pre-receive hook :)  ","sent":"2018-04-24T09:16:15.140Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[{"url":"http://docs.graylog.org/en/2.4/pages/gelf.html#gelf-payload-specification"}],"mentions":[{"screenName":"tester22","userId":"5609b0b20fc9f982beb21fdb","userIds":[]},{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef69c5d7286b43a6037b5","text":"I've not worked with Flask in the past, but that looks like it'd be difficult to do in the context of a plugin, no?  Would you guys be open to a PR that adds something like a `/alert/gelf` POST method to support an alternate input format?  ","html":"I&#39;ve not worked with Flask in the past, but that looks like it&#39;d be difficult to do in the context of a plugin, no?  Would you guys be open to a PR that adds something like a <code>/alert/gelf<\/code> POST method to support an alternate input format?  ","sent":"2018-04-24T09:19:24.421Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef7e315c9b031142ccd33","text":"Should be possible to write an webhook for gelf or use an script in the middle like https://github.com/alerta/alerta-contrib/tree/master/integrations/syslog","html":"Should be possible to write an webhook for gelf or use an script in the middle like <a href=\"https://github.com/alerta/alerta-contrib/tree/master/integrations/syslog\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">https://github.com/alerta/alerta-contrib/tree/master/integrations/syslog<\/a>","sent":"2018-04-24T09:24:51.529Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":9,"urls":[{"url":"https://github.com/alerta/alerta-contrib/tree/master/integrations/syslog"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef81927c509a774454834","text":"But then you will need to filter in graylog to only send in messages that are interesting since there will be alot of errors if each gelf message should be an alert in alerta","html":"But then you will need to filter in graylog to only send in messages that are interesting since there will be alot of errors if each gelf message should be an alert in alerta","sent":"2018-04-24T09:25:45.741Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef81b2b9dfdbc3ac2372c","text":"duh, of course!  if you can take raw syslog, surely you can take GELF.  I'll look at that","html":"duh, of course!  if you can take raw syslog, surely you can take GELF.  I&#39;ll look at that","sent":"2018-04-24T09:25:47.306Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef83b5d7286b43a60403d","text":"that's exactly our intent... Graylog as the \"interesting or not\" filter, Alerta for deduplication/state tracking","html":"that&#39;s exactly our intent... Graylog as the &quot;interesting or not&quot; filter, Alerta for deduplication/state tracking","sent":"2018-04-24T09:26:19.632Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef84b27c509a7744548fa","text":"ah, ok.","html":"ah, ok.","sent":"2018-04-24T09:26:35.358Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef8522b9dfdbc3ac23824","text":"then it should work","html":"then it should work","sent":"2018-04-24T09:26:42.541Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef8845d7286b43a604242","text":"the only thing to consider is how to handle \"return to correct\" state. Otherwise you will have alot of alerts that isn't closed automatically","html":"the only thing to consider is how to handle &quot;return to correct&quot; state. Otherwise you will have alot of alerts that isn&#39;t closed automatically","sent":"2018-04-24T09:27:32.576Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef8be7c3a01610d151d68","text":"Yeah, we're still thinking about that.  This is going to be for a NOC console, so we still have to figure out whether we even want certain alerts to close automatically, right?","html":"Yeah, we&#39;re still thinking about that.  This is going to be for a NOC console, so we still have to figure out whether we even want certain alerts to close automatically, right?","sent":"2018-04-24T09:28:30.873Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef8da5f188ccc1599cdb1","text":"if something is flapping quickly, we still want to know about it in many cases, etc","html":"if something is flapping quickly, we still want to know about it in many cases, etc","sent":"2018-04-24T09:28:58.315Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef9035f188ccc1599ce63","text":"flapping is built in in alerta so that will work","html":"flapping is built in in alerta so that will work","sent":"2018-04-24T09:29:39.393Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef9652d0e228d7ba726f0","text":"so that integration you linked would actually run as a separate process then?","html":"so that integration you linked would actually run as a separate process then?","sent":"2018-04-24T09:31:17.528Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef97315c9b031142cd584","text":"yes","html":"yes","sent":"2018-04-24T09:31:31.069Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adef97d27c509a774454ee7","text":"and communicate using the api","html":"and communicate using the api","sent":"2018-04-24T09:31:41.011Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef9842d0e228d7ba72803","text":"no need to extend alerta","html":"no need to extend alerta","sent":"2018-04-24T09:31:48.256Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef99162316e0505f366da","text":"and you could have your custom logic in that process","html":"and you could have your custom logic in that process","sent":"2018-04-24T09:32:01.847Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adef9ba5f188ccc1599d229","text":"got it.  makes sense.  I was hoping to avoid that, but it's fine.  Especially with an established model to follow it shouldn't be too terrible.","html":"got it.  makes sense.  I was hoping to avoid that, but it&#39;s fine.  Especially with an established model to follow it shouldn&#39;t be too terrible.","sent":"2018-04-24T09:32:42.200Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adefa6e6d7e07082b29d921","text":"This should be an good start, I think: https://gist.github.com/idlethreat/223ea5abf470a7c1c632","html":"This should be an good start, I think: <a href=\"https://gist.github.com/idlethreat/223ea5abf470a7c1c632\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">https://gist.github.com/idlethreat/223ea5abf470a7c1c632<\/a>","sent":"2018-04-24T09:35:42.698Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":11,"urls":[{"url":"https://gist.github.com/idlethreat/223ea5abf470a7c1c632"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adefaca62316e0505f36d7e","text":"Nice, thanks!","html":"Nice, thanks!","sent":"2018-04-24T09:37:14.813Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adefb6027c509a774455d39","text":"Yeah, I'm just cautious about the list of separate moving parts getting too long.  I'm a Network Engineer here, so adding more separate processes to worry about isn't great :)  But if we gotta do it we gotta do it.  Already had to write two other scripts to get data into graylog to begin with, one more won't kill me :)","html":"Yeah, I&#39;m just cautious about the list of separate moving parts getting too long.  I&#39;m a Network Engineer here, so adding more separate processes to worry about isn&#39;t great :)  But if we gotta do it we gotta do it.  Already had to write two other scripts to get data into graylog to begin with, one more won&#39;t kill me :)","sent":"2018-04-24T09:39:44.156Z","fromUser":{"id":"5acf765fd73408ce4f956700","username":"wrgeorge1983","displayName":"William George","url":"/wrgeorge1983","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/wrgeorge1983","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/10977253?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adefc43270d7d3708fd3eb4","text":"Sure, if you use the python sdk (https://github.com/alerta/python-alerta-client#example-1) in communicatoin with alerta you could set up an heartbeat in your process. That way you will get an notification in Alerta if your process would die.","html":"Sure, if you use the python sdk (<a href=\"https://github.com/alerta/python-alerta-client#example-1\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">https://github.com/alerta/python-alerta-client#example-1<\/a>) in communicatoin with alerta you could set up an heartbeat in your process. That way you will get an notification in Alerta if your process would die.","sent":"2018-04-24T09:43:31.977Z","fromUser":{"id":"5609b0b20fc9f982beb21fdb","username":"tester22","displayName":"Anton","url":"/tester22","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/tester22","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/289504?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/289504?v=4&s=128","v":21,"gv":"4"},"readBy":10,"urls":[{"url":"https://github.com/alerta/python-alerta-client#example-1"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf34de5d7286b43a61810e","text":"@satterly Please check my query when you get time","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> Please check my query when you get time","sent":"2018-04-24T13:45:02.894Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":10,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf4b2a3fe1be3704cb0723","text":"@wrgeorge1983 it sounds like you're on the right track thanks to @tester22 but you might also want to consider that you can create your own custom webhooks these days. see the PR here https://github.com/alerta/alerta/pull/489 obviously this needs to be documented in the official docs ... when i get time.","html":"<span data-link-type=\"mention\" data-screen-name=\"wrgeorge1983\" class=\"mention\">@wrgeorge1983<\/span> it sounds like you&#39;re on the right track thanks to <span data-link-type=\"mention\" data-screen-name=\"tester22\" class=\"mention\">@tester22<\/span> but you might also want to consider that you can create your own custom webhooks these days. see the PR here <span data-link-type=\"issue\" data-issue=\"489\" data-issue-repo=\"alerta/alerta\" class=\"issue\">alerta/alerta#489<\/span> obviously this needs to be documented in the official docs ... when i get time.","sent":"2018-04-24T15:20:10.191Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"wrgeorge1983","userId":"5acf765fd73408ce4f956700","userIds":[]},{"screenName":"tester22","userId":"5609b0b20fc9f982beb21fdb","userIds":[]}],"issues":[{"repo":"alerta/alerta","number":"489"}],"meta":[],"v":1,"burstStart":true},{"id":"5adf4b5326a769820b2bfdf8","text":"@sushovan23 sorry can you remind me what your query was.","html":"<span data-link-type=\"mention\" data-screen-name=\"sushovan23\" class=\"mention\">@sushovan23<\/span> sorry can you remind me what your query was.","sent":"2018-04-24T15:20:51.303Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"sushovan23","userId":"5a948131d73408ce4f8ef365","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf4c2d109bb04332f744ce","text":"@satterly, sorry to bother but when you have a moment can you take a look at my last question around manually closed vs. closed via severity? I think I can work around this if I can set an alert severity in using the plugin status_change...for some reason that is not working though.","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span>, sorry to bother but when you have a moment can you take a look at my last question around manually closed vs. closed via severity? I think I can work around this if I can set an alert severity in using the plugin status_change...for some reason that is not working though.","sent":"2018-04-24T15:24:29.230Z","fromUser":{"id":"5a724981d73408ce4f8b1d67","username":"3IWOH","displayName":"Howie","url":"/3IWOH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/3IWOH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=128","v":10,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf4ce62b9dfdbc3ac425fc","text":"it was on apr 19th if that makes it easier to find","html":"it was on apr 19th if that makes it easier to find","sent":"2018-04-24T15:27:34.801Z","fromUser":{"id":"5a724981d73408ce4f8b1d67","username":"3IWOH","displayName":"Howie","url":"/3IWOH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/3IWOH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=128","v":10,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf4cfb270d7d3708ff1244","text":"@sushovan23\nIs there a way to force the UI not to duplicate alerts which are having different Services. \nI have a simple prometheus rule to generate alerts for instances not reachable\n```\nalert: Service\n  Unreachable\nexpr: up == 0\nfor: 1m\nlabels:\n  service: '{{ $labels.job }}'\n  severity: critical\nannotations:\n  description: 'Service: {{ $labels.job }} Instance: {{ $labels.instance }} has been\n    unreachable for more than 5 minute.'\n  summary: 'Service: {{ $labels.job }} Instance: {{ $labels.instance }} unreachable'\n```\n\nI have same instance registered as target in prometheus for different services. Alert manager is generating two events. Alerta gets two events. send notifications for two events. but in UI it's showing only 1 with duplicate count of 1. \n\n","html":"<p><span data-link-type=\"mention\" data-screen-name=\"sushovan23\" class=\"mention\">@sushovan23<\/span><br>Is there a way to force the UI not to duplicate alerts which are having different Services.<br>I have a simple prometheus rule to generate alerts for instances not reachable<\/p><pre><code><span class=\"xml\">alert: Service\n  Unreachable\nexpr: up == 0\nfor: 1m\nlabels:\n  service: '<\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.job<\/span> }}<\/span><span class=\"xml\">'\n  severity: critical\nannotations:\n  description: 'Service: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.job<\/span> }}<\/span><span class=\"xml\"> Instance: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.instance<\/span> }}<\/span><span class=\"xml\"> has been\n    unreachable for more than 5 minute.'\n  summary: 'Service: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.job<\/span> }}<\/span><span class=\"xml\"> Instance: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.instance<\/span> }}<\/span><span class=\"xml\"> unreachable'<\/span><\/code><\/pre><p>I have same instance registered as target in prometheus for different services. Alert manager is generating two events. Alerta gets two events. send notifications for two events. but in UI it&#39;s showing only 1 with duplicate count of 1. <\/p>","sent":"2018-04-24T15:27:55.065Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"sushovan23","userId":"5a948131d73408ce4f8ef365","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf4d0415c9b031142ebf80","text":"for some reason the service field is not getting updated","html":"for some reason the service field is not getting updated","sent":"2018-04-24T15:28:04.477Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf4d13109bb04332f74c01","text":"https://files.gitter.im/alerta/chat/ntRm/image.png","html":"<a href=\"https://files.gitter.im/alerta/chat/ntRm/image.png\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">https://files.gitter.im/alerta/chat/ntRm/image.png<\/a>","sent":"2018-04-24T15:28:19.947Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[{"url":"https://files.gitter.im/alerta/chat/ntRm/image.png"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf4d1d5d7286b43a6213b2","text":"if you see text is updated but service is not\nI verified webhook logs and alerta gets different services'","html":"if you see text is updated but service is not<br>I verified webhook logs and alerta gets different services&#39;","sent":"2018-04-24T15:28:29.030Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf708462316e0505f6253d","text":"@sushovan23 alerts are not deduplicated using service. That would be way too complicated and I'm not sure how it would work. Service despite the name is actually a list of services. Would all services need to match for an alert to be the same or just one?","html":"<span data-link-type=\"mention\" data-screen-name=\"sushovan23\" class=\"mention\">@sushovan23<\/span> alerts are not deduplicated using service. That would be way too complicated and I&#39;m not sure how it would work. Service despite the name is actually a list of services. Would all services need to match for an alert to be the same or just one?","sent":"2018-04-24T17:59:32.807Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[{"screenName":"sushovan23","userId":"5a948131d73408ce4f8ef365","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf71365f188ccc159c86fa","text":"You should namespace your alerts based on environment and resource. In your case I would suggest you prepend resource with service name. Just repeat the service name in the service attribute. ","html":"You should namespace your alerts based on environment and resource. In your case I would suggest you prepend resource with service name. Just repeat the service name in the service attribute. ","sent":"2018-04-24T18:02:30.515Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7a7c26a769820b2bffe6","text":"@3IWOH did this get fixed by this ? https://github.com/alerta/alerta/pull/513","html":"<span data-link-type=\"mention\" data-screen-name=\"3IWOH\" class=\"mention\">@3IWOH<\/span> did this get fixed by this ? <span data-link-type=\"issue\" data-issue=\"513\" data-issue-repo=\"alerta/alerta\" class=\"issue\">alerta/alerta#513<\/span>","sent":"2018-04-24T18:42:04.677Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[{"screenName":"3IWOH","userId":"5a724981d73408ce4f8b1d67","userIds":[]}],"issues":[{"repo":"alerta/alerta","number":"513"}],"meta":[],"v":1,"burstStart":true},{"id":"5adf7a9a01a2b40f382f0c48","text":"or was that addressing something else? ","html":"or was that addressing something else? ","sent":"2018-04-24T18:42:34.247Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7b592b9dfdbc3ac53ebc","text":"@satterly that was my suspicion. But still in my case the service list is not getting updated as you see in the image which I posted. Service remains same as telegraf","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> that was my suspicion. But still in my case the service list is not getting updated as you see in the image which I posted. Service remains same as telegraf","sent":"2018-04-24T18:45:45.253Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":10,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7b8d26a769820b2bffec","text":"service isn’t updated after the alert is created. why would it need to be?","html":"service isn’t updated after the alert is created. why would it need to be?","sent":"2018-04-24T18:46:37.237Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7be226a769820b2bfff0","text":"ie what’s the use case for the list of affected services changing when an alert is resent?","html":"ie what’s the use case for the list of affected services changing when an alert is resent?","sent":"2018-04-24T18:48:02.810Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7c2462316e0505f65ee1","text":"use case is same host is providing multiple services. ","html":"use case is same host is providing multiple services. ","sent":"2018-04-24T18:49:08.960Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7c706d7e07082b2cd6cf","text":"we want to monitor each of those down services from prometheus. rule is simple:\n```\nalert: Service\n  Unreachable\nexpr: up == 0\nfor: 1m\nlabels:\n  service: '{{ $labels.job }}'\n  severity: critical\nannotations:\n  description: 'Service: {{ $labels.job }} Instance: {{ $labels.instance }} has been\n    unreachable for more than 5 minute.'\n  summary: 'Service: {{ $labels.job }} Instance: {{ $labels.instance }} unreachable'\n```\n","html":"we want to monitor each of those down services from prometheus. rule is simple:<pre><code><span class=\"xml\">alert: Service\n  Unreachable\nexpr: up == 0\nfor: 1m\nlabels:\n  service: '<\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.job<\/span> }}<\/span><span class=\"xml\">'\n  severity: critical\nannotations:\n  description: 'Service: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.job<\/span> }}<\/span><span class=\"xml\"> Instance: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.instance<\/span> }}<\/span><span class=\"xml\"> has been\n    unreachable for more than 5 minute.'\n  summary: 'Service: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.job<\/span> }}<\/span><span class=\"xml\"> Instance: <\/span><span class=\"expression\">{{ $<span class=\"variable\">labels.instance<\/span> }}<\/span><span class=\"xml\"> unreachable'<\/span><\/code><\/pre>","sent":"2018-04-24T18:50:24.266Z","editedAt":"2018-04-24T18:51:19.977Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":false},{"id":"5adf7c763fe1be3704cb08a4","text":"Sure. i understand that a host can provide multiple services but why would those list of services change from one moment to the next ? is this really happening in your environment ?","html":"Sure. i understand that a host can provide multiple services but why would those list of services change from one moment to the next ? is this really happening in your environment ?","sent":"2018-04-24T18:50:30.298Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7c98012ff2bf681ec2f9","text":"if you put triple back ticks you get proper formatting.","html":"if you put triple back ticks you get proper formatting.","sent":"2018-04-24T18:51:04.880Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7cb27685a046389de664","text":"thanks","html":"thanks","sent":"2018-04-24T18:51:30.339Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7cb45d7286b43a633010","text":"services are not changing. different services can go down in that host","html":"services are not changing. different services can go down in that host","sent":"2018-04-24T18:51:32.484Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7d7e3fe1be3704cb08a6","text":"yes, ok i understand. so the “resource” being affected is really a “job” for an “instance”.","html":"yes, ok i understand. so the “resource” being affected is really a “job” for an “instance”.","sent":"2018-04-24T18:54:54.137Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7d911130fe3d36111087","text":"yes ","html":"yes ","sent":"2018-04-24T18:55:13.262Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7d9226a769820b2c0001","text":"so the resource attribute needs to be a combination of job and instance.","html":"so the resource attribute needs to be a combination of job and instance.","sent":"2018-04-24T18:55:14.645Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7d9f2b9dfdbc3ac54da8","text":"@sushovan23 , we are dealing with the same thing...we have some web servers that service multiple services. In our case we make sure to have other monitors that fire when specific services are down. The web server alerts (memory , cpu, etc) show multiple services that \"could\" be affected. Our thinking is that a shared server alert should just be providing additional context to an incident. The alert for a service itself should be the main alert.","html":"<span data-link-type=\"mention\" data-screen-name=\"sushovan23\" class=\"mention\">@sushovan23<\/span> , we are dealing with the same thing...we have some web servers that service multiple services. In our case we make sure to have other monitors that fire when specific services are down. The web server alerts (memory , cpu, etc) show multiple services that &quot;could&quot; be affected. Our thinking is that a shared server alert should just be providing additional context to an incident. The alert for a service itself should be the main alert.","sent":"2018-04-24T18:55:27.471Z","fromUser":{"id":"5a724981d73408ce4f8b1d67","username":"3IWOH","displayName":"Howie","url":"/3IWOH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/3IWOH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=128","v":10,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"sushovan23","userId":"5a948131d73408ce4f8ef365","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7da101a2b40f382f0c6c","text":"ie. “instance:job\"","html":"ie. “instance:job&quot;","sent":"2018-04-24T18:55:29.446Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7e565d7286b43a633939","text":"ah, my example is not exactly what you are talking about, I guess.  Sorry for the confusion.","html":"ah, my example is not exactly what you are talking about, I guess.  Sorry for the confusion.","sent":"2018-04-24T18:58:30.124Z","fromUser":{"id":"5a724981d73408ce4f8b1d67","username":"3IWOH","displayName":"Howie","url":"/3IWOH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/3IWOH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=128","v":10,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7e777685a046389de67b","text":"my prometheus is a bit rusty but i think for these alerts you need to slightly modify the rule to be something like this …\n```\nALERT ...rate_too_low \n  IF sum by (host) (rate(....)) < 10\n  FOR 2m\n  LABELS {\n    value = \"{{$value}}\",\n    environment = \"Production\",\n    instance = \"{{$labels.host}}:{{$labels.job}}\"\n  }\n```","html":"my prometheus is a bit rusty but i think for these alerts you need to slightly modify the rule to be something like this …<pre><code>ALERT ...rate_too_low \n  IF sum by<span class=\"function\"> (<\/span>host<span class=\"function\">)<\/span><span class=\"function\"> (<\/span>rate(....<span class=\"function\">)<\/span><span class=\"function\">)<\/span> &lt; 10\n  FOR 2m\n  LABELS {\n    value = <span class=\"string\">\"{{$value}}\"<\/span>,\n    environment = <span class=\"string\">\"Production\"<\/span>,\n   <span class=\"instruction\"> instance <\/span>= <span class=\"string\">\"{{$labels.host}}:{{$labels.job}}\"<\/span>\n  }<\/code><\/pre>","sent":"2018-04-24T18:59:03.823Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7ea2012ff2bf681ec302","text":"ie. the instance isn’t just a host but a host:job","html":"ie. the instance isn’t just a host but a host:job","sent":"2018-04-24T18:59:46.492Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7eb43fe1be3704cb08ac","text":"which will map to resource in alerta","html":"which will map to resource in alerta","sent":"2018-04-24T19:00:04.659Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7ec72b9dfdbc3ac553db","text":"@satterly, that fix was similar for some blackout issues, but this is for \"normal\" alerts.  Let me know if I should take another shot at explaining what I am seeing.","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span>, that fix was similar for some blackout issues, but this is for &quot;normal&quot; alerts.  Let me know if I should take another shot at explaining what I am seeing.","sent":"2018-04-24T19:00:23.538Z","fromUser":{"id":"5a724981d73408ce4f8b1d67","username":"3IWOH","displayName":"Howie","url":"/3IWOH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/3IWOH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/7918433?v=4&s=128","v":10,"gv":"4"},"readBy":11,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7ecd27c509a774485102","text":"Yes I see that. I was just looking at the code ","html":"Yes I see that. I was just looking at the code ","sent":"2018-04-24T19:00:29.023Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7ecd2b9dfdbc3ac55407","text":"https://github.com/alerta/alerta/blob/master/alerta/webhooks/prometheus.py#L54","html":"<a href=\"https://github.com/alerta/alerta/blob/master/alerta/webhooks/prometheus.py#L54\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">https://github.com/alerta/alerta/blob/master/alerta/webhooks/prometheus.py#L54<\/a>","sent":"2018-04-24T19:00:29.386Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":11,"urls":[{"url":"https://github.com/alerta/alerta/blob/master/alerta/webhooks/prometheus.py#L54"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7ef827c509a7744851c1","text":"I think that would work only I would need to update my custom enrich plugin when I try to get IP address directly from resource in prometheus alerts. I can add some parsing to that and get it","html":"I think that would work only I would need to update my custom enrich plugin when I try to get IP address directly from resource in prometheus alerts. I can add some parsing to that and get it","sent":"2018-04-24T19:01:12.951Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7f0f2b9dfdbc3ac5551d","text":"Thanks I will make the changes and see how it works out","html":"Thanks I will make the changes and see how it works out","sent":"2018-04-24T19:01:35.861Z","fromUser":{"id":"5a948131d73408ce4f8ef365","username":"sushovan23","displayName":"sushovan23","url":"/sushovan23","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/sushovan23","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/14843483?v=4&s=128","v":20,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf7f1b01a2b40f382f0c77","text":"Sounds good. let me know how you go.","html":"Sounds good. let me know how you go.","sent":"2018-04-24T19:01:47.585Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":11,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5adf7f3926a769820b2c0011","text":"@3IWOH ok. i’ll take another look and let you know if i need more info.","html":"<span data-link-type=\"mention\" data-screen-name=\"3IWOH\" class=\"mention\">@3IWOH<\/span> ok. i’ll take another look and let you know if i need more info.","sent":"2018-04-24T19:02:17.243Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":11,"urls":[],"mentions":[{"screenName":"3IWOH","userId":"5a724981d73408ce4f8b1d67","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5adf8b8926a769820b2c00c7","text":"@3IWOH i’ve worked out what is going on and have written a test to capture the problem. see https://github.com/alerta/alerta/pull/520","html":"<span data-link-type=\"mention\" data-screen-name=\"3IWOH\" class=\"mention\">@3IWOH<\/span> i’ve worked out what is going on and have written a test to capture the problem. see <span data-link-type=\"issue\" data-issue=\"520\" data-issue-repo=\"alerta/alerta\" class=\"issue\">alerta/alerta#520<\/span>","sent":"2018-04-24T19:54:49.124Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":11,"urls":[],"mentions":[{"screenName":"3IWOH","userId":"5a724981d73408ce4f8b1d67","userIds":[]}],"issues":[{"repo":"alerta/alerta","number":"520"}],"meta":[],"v":1,"burstStart":true}]}};</script>

    
    <script type="text/javascript">window.webpackPublicPath = '//cdn02.gitter.im/_s/0d31b2aef/js/';</script>
    <script type="text/javascript" src="//cdn01.gitter.im/_s/0d31b2aef/js/runtime.bundle.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/vendor.chunk.js"></script>
<script type="text/javascript" src="//cdn02.gitter.im/_s/0d31b2aef/js/default.chunk.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/router-archive-chat.chunk.js"></script>
  
</body>
</html>
