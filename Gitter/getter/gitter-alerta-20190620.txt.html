<!doctype html>
<html class="no-js " lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=IE9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <meta charset="utf-8">

    <style>
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: bold;
      src: local("SourceSansPro-Bold");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: bold;
      src: local("SourceSansPro-BoldIt");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 200;
      src: local("SourceSansPro-ExtraLight");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: normal;
      src: local("SourceSansPro-It");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 300;
      src: local("SourceSansPro-Light");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: normal;
      src: local("SourceSansPro-Regular");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 600;
      src: local("SourceSansPro-Semibold");
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Regular.otf.woff") format('woff');
      font-weight: normal;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-It.otf.woff") format('woff');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Bold.otf.woff") format('woff');
      font-weight: bold;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Semibold.otf.woff") format('woff');
      font-weight: 600;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-BoldIt.otf.woff") format('woff');
      font-weight: bold;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Light.otf.woff") format('woff');
      font-weight: 300;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-ExtraLight.otf.woff") format('woff');
      font-weight: 200;
      font-style: normal
    }
    @font-face {
      font-family: "KaTeX_AMS";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Script";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size1";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size2";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size3";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size4";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Typewriter";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
  </style>

  <title>alerta/chat - Gitter</title>

  <style>

  @-webkit-keyframes pulsey {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
  }

  html.loading .trpContentPanel { background: url("//cdn01.gitter.im/_s/0d31b2aef/images/logo-mark-grey-64.png") center no-repeat; height: 90%; -webkit-animation: pulsey 2s ease-out; -webkit-animation-iteration-count: infinite;  }
  html.loading .trpContentPanel > * { visibility: hidden; }
  </style>
  <base target="_parent">
  <link rel="stylesheet" href='//cdn01.gitter.im/_s/0d31b2aef/sprites/services.css'>
  <link rel="stylesheet" href='//cdn02.gitter.im/_s/0d31b2aef/styles/router-archive-chat.css'>
  <link id="favicon" rel="shortcut icon" href="//cdn02.gitter.im/_s/0d31b2aef/images/favicon.ico">
</head>
<body class="logged-out">
  <div class="chat-and-toolbar-wrapper archive">
    <div class="right-toolbar-region">
      <div class="right-toolbar" style="overflow: auto">
        <div class="gtrArchiveToolbarWrapper">
            <div class="gtrArchiveInfoContainer">
                <div class="gtrArchiveLogo">
                  <div class="logo-container"></div>
                </div>
                <div class="gtrArchiveInfo">
                  <p>These are chat archives for <strong>alerta/chat</strong></p>
                </div>
            </div>

          <div id="archive-navigation" class="gtrArchiveNavigationWrapper"><div class="gtrArchiveNavigationInner">
  <div class="gtrArchiveDate">
    <a href="/alerta/chat/archives/2019/06/21"><i class="gtrArchiveNext octicon octicon-chevron-right"></i></a>
    <a href="/alerta/chat/archives/2019/06/19"><i class="gtrArchivePrev octicon octicon-chevron-left"></i></a>
    <div class="gtrArchiveToday">
      <span class="gtrArchiveDay">20<sup>th</sup></span><br>
      <span class="gtrArchiveMonth">Jun 2019</span>
    </div>
  </div>

  <div class="archive-toggle-navigation-action-holder">
    <button class="button-jaffa--small js-toggle-archive-navigation">Toggle Heatmap</button>
  </div>
  <div id="archive-navigation" class="gtrArchiveCalendar js-archive-navigation-wrapper">
  </div>
</div>
</div>
            <div class="archive-right-toolbar-button-wrapper">
              <a href="/login?action=login&amp;button=archive-login" class="archive-right-toolbar-button button-caribbean">Sign in to start talking</a>
            </div>
        </div>
      </div>
    </div>
    <div class="chat-app">
      <div class="chat-header" id="header-wrapper">
        <div id="header" class="chat-header-inner">
          <div class="chat-header__main-grouping chat-header__left-menu-toggle-grouping">
  <button class="chat-header__left-menu-toggle js-header-view-left-menu-toggle">
    <svg class="chat-header__action-icon" viewBox="0 0 26 22">
      <path d="M0,2 l26,0" />
      <path d="M0,11 l26,0" />
      <path d="M0,20 l26,0" />
    </svg>
  </button>
</div>

<div class="chat-header__main-grouping chat-header__avatar-grouping">
  <form
    class="chat-header__avatar  js-chat-header-group-avatar-upload-form"
    action=""
    enctype="multipart/form-data"
    method="POST">
    <input type="hidden" class="js-chat-header-group-avatar-upload-signature" name="signature" value="">
    <input type="hidden" class="js-chat-header-group-avatar-upload-params" name="params" value="">
    <input
      id="chat-header-group-avatar-upload-input"
      class="chat-header__group-avatar-upload-input js-chat-header-group-avatar-upload-input"
      name="file"
      type="file"
      accept="image/*"
      disabled />
    <label
      class="chat-header__group-avatar-upload-label js-chat-header-group-avatar-upload-label"
      for="chat-header-group-avatar-upload-input"
      >
      <img class="js-chat-header-avatar-image"  height='48' width='48' src='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=48' srcset='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=96 2x' >
      <div class="chat-header__group-avatar-upload-progress hidden js-chat-header-group-avatar-upload-progress"></div>
    </label>
  </form>
</div>

<div class="chat-header__main-grouping chat-header__info-grouping">
  <div class="chat-header__heading-sub-group">
    <h1 class="js-chat-name chat-header__heading">
      <a href="/alerta/chat" class="chat-header__title">alerta/chat</a>
    </h1>
  </div>
  <div class="chat-header__topic-sub-group js-room-topic-edit-activator" tabindex="0">
    <div class="chat-header__topic-wrapper js-room-topic-wrapper  "><p class="js-room-topic chat-header__topic  ">Alerta web next gen https://beta.alerta.io</p></div>
  </div>
</div>


<div class="chat-header__main-grouping chat-header__action-grouping">
    <a href="/orgs/alerta/rooms" class="chat-header__org-page org-page-link js-chat-header-org-page-action" title="More alerta rooms">
      <i class="chat-header__action-icon icon-globe"></i>
    </a>

</div>

        </div>
      </div>
      <div class="trpContentPanel archive" id="content-wrapper">
  <div class="trpChatPanel">
    <div class="trpChatContainer  primary-scroll  chat-container" id="content-frame">

      <div id="chat-container" role="list">
        <div>
            <div class="chat-item model-id-5d0b5730007cff7a82e27324 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5cdd37cad73408ce4fc070ca avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/50700572?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/50700572?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Chandants</div>
      <div class='chat-item__username js-chat-item-from'>@Chandants</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2019/06/20?at=5d0b5730007cff7a82e27324' title="">Jun 20 2019 09:51 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <p>Hi <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span>  I have enabled the flapping plugin using the the below code and the setup file for it. While i&#39;m testing this by sending multiple duplicate alerts in quick session it is going into  else loop of the below code. What configuration am I missing here to stop the alerts being processed.Please guide me.</p><h1>flapping</h1>
<p>import logging<br>from alerta.exceptions import RateLimit<br>from alerta.plugins import PluginBase<br>LOG = logging.getLogger(&#39;alerta.plugins.transient&#39;)</p><p>FLAPPING_COUNT = 2<br>FLAPPING_WINDOW = 120  # seconds</p><p>class TransientAlert(PluginBase):<br>    def pre_receive(self, alert):<br>        LOG.info(&quot;Detecting transient alerts...&quot;)<br>        if alert.is_flapping(window=FLAPPING_WINDOW, count=FLAPPING_COUNT):<br>            alert.severity = &#39;indeterminate&#39;<br>            alert.attributes[&#39;flapping&#39;] = True</p><pre><code>        <span class="comment"># uncomment following line to stop alerts from being processed</span>
        <span class="keyword">raise</span> RateLimit(<span class="string">"Flapping alert received more than %s times in %s seconds"</span> % (FLAPPING_COUNT, FLAPPING_WINDOW))
    <span class="keyword">else</span>:
        alert.attributes[<span class="string">'flapping'</span>] = <span class="keyword">False</span>
 <span class="keyword">return</span> alert

<span class="function"><span class="keyword">def</span> <span class="title">post_receive</span><span class="params">(self, alert)</span>:</span>
    <span class="keyword">return</span>

<span class="function"><span class="keyword">def</span> <span class="title">status_change</span><span class="params">(self, alert, status, text)</span>:</span>
    <span class="keyword">return</span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5d0b8f5941654c559ec7ddb4 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5611ef24d33f749381a846cb avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/12298259?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/12298259?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>sherif84</div>
      <div class='chat-item__username js-chat-item-from'>@sherif84</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2019/06/20?at=5d0b8f5941654c559ec7ddb4' title="">Jun 20 2019 13:51 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      hi <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> , first i wanna say thanks for your great work on Alerta , such a cool tool. second , i got a question that might have been answered but i searched everywhere . what is the easiest way to set the default timezone in the alerta UI ? or is that even possible ? our team is globally distributed and using local time is not possibles and we need to set everything to UTC by default . it could be great if it can be switched from the UI itself . thanks in advance 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5d0bf48b7456db0bb8225883 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2019/06/20?at=5d0bf48b7456db0bb8225883' title="">Jun 20 2019 21:03 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="sherif84" class="mention">@sherif84</span> Thanks for the feedback. I’ve added a user preference to allow end users to switch between local timezone and UTC. See <a target="_blank" data-link-type="pr" data-issue="202" href="https://github.com/alerta/alerta-webui/pull/202" data-provider="github" data-issue-repo="alerta/alerta-webui" class="pr">alerta/alerta-webui#202</a>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5d0bf54b207f6e6963cf2b49 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="Chandants" class="mention">@Chandants</span> duplicate alerts aren’t “flapping”. A duplicate is just exactly the same alert over and over. A flapping alert is defined as one that is regularly changing severity levels. that is, critical -&gt; normal -&gt; critical -&gt; normal
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5d0bf55ad1aaa16964d96aff burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      See <a href="https://github.com/alerta/alerta/blob/master/alerta/database/backends/postgres/base.py#L188" rel="nofollow noopener noreferrer" target="_blank" class="link">https://github.com/alerta/alerta/blob/master/alerta/database/backends/postgres/base.py#L188</a>
    </div>
  </div>
</div>
</div>
        </div>
      </div>

      <div id='initial' style="height:0;width:0;overflow:hidden"><a name="initial"/>_</a></div>
    </div>
  </div>
</div>

    </div>
  </div>

    <script type="text/javascript">window.gitterClientEnv = {"lang":"en","domain":"gitter.im","baseServer":"gitter.im","basePath":"https://gitter.im","apiBasePath":"https://gitter.im/api","homeUrl":"/","badgeBaseUrl":"https://badges.gitter.im","googleTrackingId":"UA-45918290-1","googleTrackingDomain":"gitter.im","env":"prod","cdns":["cdn01.gitter.im","cdn02.gitter.im","cdn03.gitter.im"],"version":"0d31b2","assetTag":"0d31b2aef","logging":false,"ravenUrl":"https://a1bf037f1d5f46f28b8e3b3e82024654@sentry.gitlab.net/42","websockets":{"fayeUrl":"https://ws.gitter.im/bayeux","options":{"timeout":120,"retry":2}},"avatarsUrl":"https://avatars.gitter.im","avatarCdns":["https://avatars-01.gitter.im","https://avatars-02.gitter.im","https://avatars-03.gitter.im","https://avatars-04.gitter.im","https://avatars-05.gitter.im"],"vapidAppServerKey":"BMhrlZd_I5OFJSJQTbg2mZ5PTHarzenwsKfsRd8C0-HRBygpDj9O3M4VTJIQfB9VPDjAoO_w2eg7Sj_cMXzuLwI","headlineNumbers":{"gitterUsers":"800K+","gitterRooms":"300K+","gitterGroups":"90K+","gitterCountries":"100+"},"inviteEmailAbuseThresholdPerDay":10};window.troupeContext = {"accessToken":"$AUhyLO0CngAvQuRwv84/qbbCMPibl2z7eUFkD7VH1eY=","isNativeDesktopApp":false,"locale":{"%d unread message":{"one":"%d unread message","other":"%d unread messages"},"Unread messages in %%s, %%s and one other":{"one":"Unread messages in %%s, %%s and one other","other":"Unread messages in %%s, %%s and %d others"},"Unread messages in %s":"Unread messages in %s","Unread messages in %s and %s":"Unread messages in %s and %s","Unread messages from %s":"Unread messages from %s","Unread messages from %s and %s":"Unread messages from %s and %s","Unread messages from %%s, %%s and one other":{"one":"Unread messages from %%s, %%s and one other","other":"Unread messages from %%s, %%s and %d others"},"Gitter is available in all modern browsers as well as apps for desktops.":"Gitter is available in all modern browsers as well as apps for desktops.","Mac":"Mac","Windows":"Windows","Linux 32":"Linux 32","Linux 64":"Linux 64","The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.":"The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.","Mac users on 10.9 or lower, <a %s>download here<\/a>.":"Mac users on 10.9 or lower, <a %s>download here<\/a>.","We also have a sweet little <a %s>IRC bridge<\/a>.":"We also have a sweet little <a %s>IRC bridge<\/a>.","The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.":"The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.","Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.":"Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.","desktop":"desktop","iOS":"iOS","Android":"Android","Support":"Support","API":"API","Blog":"Blog","Twitter":"Twitter"},"roomMember":false,"user":null,"troupe":{"id":"5609cf450fc9f982beb2225c","name":"alerta/chat","topic":"Alerta web next gen https://beta.alerta.io","avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b","uri":"alerta/chat","userCount":378,"url":"/alerta/chat","githubType":"ORG_CHANNEL","associatedRepo":false,"security":"PUBLIC","providers":["github"],"groupId":"57542c98c43b8c6019774b6b","group":{"id":"57542c98c43b8c6019774b6b","name":"alerta","uri":"alerta","homeUri":"alerta/home","backedBy":{"type":"GH_ORG","linkPath":"alerta"},"avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b"},"backend":{"type":"GH_ORG","linkPath":"alerta"},"public":true,"v":3},"roomHasWelcomeMessage":false,"archive":{"archiveDate":"2019-06-20T00:00:00.000Z","nextDate":"2019-06-21T23:59:59.999Z","previousDate":"2019-06-19T00:00:00.000Z","messages":[{"id":"5d0b5730007cff7a82e27324","text":"Hi @satterly  I have enabled the flapping plugin using the the below code and the setup file for it. While i'm testing this by sending multiple duplicate alerts in quick session it is going into  else loop of the below code. What configuration am I missing here to stop the alerts being processed.Please guide me.\n\n#flapping\nimport logging\nfrom alerta.exceptions import RateLimit\nfrom alerta.plugins import PluginBase\nLOG = logging.getLogger('alerta.plugins.transient')\n\nFLAPPING_COUNT = 2\nFLAPPING_WINDOW = 120  # seconds\n\nclass TransientAlert(PluginBase):\n    def pre_receive(self, alert):\n        LOG.info(\"Detecting transient alerts...\")\n        if alert.is_flapping(window=FLAPPING_WINDOW, count=FLAPPING_COUNT):\n            alert.severity = 'indeterminate'\n            alert.attributes['flapping'] = True\n            # uncomment following line to stop alerts from being processed\n            raise RateLimit(\"Flapping alert received more than %s times in %s seconds\" % (FLAPPING_COUNT, FLAPPING_WINDOW))\n        else:\n            alert.attributes['flapping'] = False\n     return alert\n\n    def post_receive(self, alert):\n        return\n\n    def status_change(self, alert, status, text):\n        return","html":"<p>Hi <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span>  I have enabled the flapping plugin using the the below code and the setup file for it. While i&#39;m testing this by sending multiple duplicate alerts in quick session it is going into  else loop of the below code. What configuration am I missing here to stop the alerts being processed.Please guide me.<\/p><h1>flapping<\/h1>\n<p>import logging<br>from alerta.exceptions import RateLimit<br>from alerta.plugins import PluginBase<br>LOG = logging.getLogger(&#39;alerta.plugins.transient&#39;)<\/p><p>FLAPPING_COUNT = 2<br>FLAPPING_WINDOW = 120  # seconds<\/p><p>class TransientAlert(PluginBase):<br>    def pre_receive(self, alert):<br>        LOG.info(&quot;Detecting transient alerts...&quot;)<br>        if alert.is_flapping(window=FLAPPING_WINDOW, count=FLAPPING_COUNT):<br>            alert.severity = &#39;indeterminate&#39;<br>            alert.attributes[&#39;flapping&#39;] = True<\/p><pre><code>        <span class=\"comment\"># uncomment following line to stop alerts from being processed<\/span>\n        <span class=\"keyword\">raise<\/span> RateLimit(<span class=\"string\">\"Flapping alert received more than %s times in %s seconds\"<\/span> % (FLAPPING_COUNT, FLAPPING_WINDOW))\n    <span class=\"keyword\">else<\/span>:\n        alert.attributes[<span class=\"string\">'flapping'<\/span>] = <span class=\"keyword\">False<\/span>\n <span class=\"keyword\">return<\/span> alert\n\n<span class=\"function\"><span class=\"keyword\">def<\/span> <span class=\"title\">post_receive<\/span><span class=\"params\">(self, alert)<\/span>:<\/span>\n    <span class=\"keyword\">return<\/span>\n\n<span class=\"function\"><span class=\"keyword\">def<\/span> <span class=\"title\">status_change<\/span><span class=\"params\">(self, alert, status, text)<\/span>:<\/span>\n    <span class=\"keyword\">return<\/span><\/code><\/pre>","sent":"2019-06-20T09:51:44.498Z","editedAt":"2019-06-20T09:55:03.798Z","fromUser":{"id":"5cdd37cad73408ce4fc070ca","username":"Chandants","displayName":"Chandants","url":"/Chandants","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/Chandants","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/50700572?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/50700572?v=4&s=128","v":13,"gv":"4"},"readBy":20,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":3,"burstStart":true},{"id":"5d0b8f5941654c559ec7ddb4","text":"hi @satterly , first i wanna say thanks for your great work on Alerta , such a cool tool. second , i got a question that might have been answered but i searched everywhere . what is the easiest way to set the default timezone in the alerta UI ? or is that even possible ? our team is globally distributed and using local time is not possibles and we need to set everything to UTC by default . it could be great if it can be switched from the UI itself . thanks in advance \n","html":"hi <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> , first i wanna say thanks for your great work on Alerta , such a cool tool. second , i got a question that might have been answered but i searched everywhere . what is the easiest way to set the default timezone in the alerta UI ? or is that even possible ? our team is globally distributed and using local time is not possibles and we need to set everything to UTC by default . it could be great if it can be switched from the UI itself . thanks in advance ","sent":"2019-06-20T13:51:21.050Z","fromUser":{"id":"5611ef24d33f749381a846cb","username":"sherif84","displayName":"sherif84","url":"/sherif84","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/sherif84","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/12298259?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/12298259?v=4&s=128","v":12,"gv":"4"},"readBy":21,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5d0bf48b7456db0bb8225883","text":"@sherif84 Thanks for the feedback. I’ve added a user preference to allow end users to switch between local timezone and UTC. See https://github.com/alerta/alerta-webui/pull/202","html":"<span data-link-type=\"mention\" data-screen-name=\"sherif84\" class=\"mention\">@sherif84<\/span> Thanks for the feedback. I’ve added a user preference to allow end users to switch between local timezone and UTC. See <a target=\"_blank\" data-link-type=\"pr\" data-issue=\"202\" href=\"https://github.com/alerta/alerta-webui/pull/202\" data-provider=\"github\" data-issue-repo=\"alerta/alerta-webui\" class=\"pr\">alerta/alerta-webui#202<\/a>","sent":"2019-06-20T21:03:07.118Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":19,"urls":[],"mentions":[{"screenName":"sherif84","userId":"5611ef24d33f749381a846cb","userIds":[]}],"issues":[{"repo":"alerta/alerta-webui","number":"202"}],"meta":[],"v":1,"burstStart":true},{"id":"5d0bf54b207f6e6963cf2b49","text":"@Chandants duplicate alerts aren’t “flapping”. A duplicate is just exactly the same alert over and over. A flapping alert is defined as one that is regularly changing severity levels. that is, critical -> normal -> critical -> normal","html":"<span data-link-type=\"mention\" data-screen-name=\"Chandants\" class=\"mention\">@Chandants<\/span> duplicate alerts aren’t “flapping”. A duplicate is just exactly the same alert over and over. A flapping alert is defined as one that is regularly changing severity levels. that is, critical -&gt; normal -&gt; critical -&gt; normal","sent":"2019-06-20T21:06:19.013Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":19,"urls":[],"mentions":[{"screenName":"Chandants","userId":"5cdd37cad73408ce4fc070ca","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5d0bf55ad1aaa16964d96aff","text":"See https://github.com/alerta/alerta/blob/master/alerta/database/backends/postgres/base.py#L188","html":"See <a href=\"https://github.com/alerta/alerta/blob/master/alerta/database/backends/postgres/base.py#L188\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link\">https://github.com/alerta/alerta/blob/master/alerta/database/backends/postgres/base.py#L188<\/a>","sent":"2019-06-20T21:06:34.523Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":19,"urls":[{"url":"https://github.com/alerta/alerta/blob/master/alerta/database/backends/postgres/base.py#L188"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false}]}};</script>

    
    <script type="text/javascript">window.webpackPublicPath = '//cdn02.gitter.im/_s/0d31b2aef/js/';</script>
    <script type="text/javascript" src="//cdn01.gitter.im/_s/0d31b2aef/js/runtime.bundle.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/vendor.chunk.js"></script>
<script type="text/javascript" src="//cdn02.gitter.im/_s/0d31b2aef/js/default.chunk.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/router-archive-chat.chunk.js"></script>
  
</body>
</html>
