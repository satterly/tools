<!doctype html>
<html class="no-js " lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=IE9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <meta charset="utf-8">

    <style>
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: bold;
      src: local("SourceSansPro-Bold");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: bold;
      src: local("SourceSansPro-BoldIt");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 200;
      src: local("SourceSansPro-ExtraLight");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: normal;
      src: local("SourceSansPro-It");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 300;
      src: local("SourceSansPro-Light");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: normal;
      src: local("SourceSansPro-Regular");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 600;
      src: local("SourceSansPro-Semibold");
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Regular.otf.woff") format('woff');
      font-weight: normal;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-It.otf.woff") format('woff');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Bold.otf.woff") format('woff');
      font-weight: bold;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Semibold.otf.woff") format('woff');
      font-weight: 600;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-BoldIt.otf.woff") format('woff');
      font-weight: bold;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Light.otf.woff") format('woff');
      font-weight: 300;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-ExtraLight.otf.woff") format('woff');
      font-weight: 200;
      font-style: normal
    }
    @font-face {
      font-family: "KaTeX_AMS";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Script";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size1";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size2";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size3";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size4";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Typewriter";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
  </style>

  <title>alerta/chat - Gitter</title>

  <style>

  @-webkit-keyframes pulsey {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
  }

  html.loading .trpContentPanel { background: url("//cdn01.gitter.im/_s/0d31b2aef/images/logo-mark-grey-64.png") center no-repeat; height: 90%; -webkit-animation: pulsey 2s ease-out; -webkit-animation-iteration-count: infinite;  }
  html.loading .trpContentPanel > * { visibility: hidden; }
  </style>
  <base target="_parent">
  <link rel="stylesheet" href='//cdn01.gitter.im/_s/0d31b2aef/sprites/services.css'>
  <link rel="stylesheet" href='//cdn02.gitter.im/_s/0d31b2aef/styles/router-archive-chat.css'>
  <link id="favicon" rel="shortcut icon" href="//cdn02.gitter.im/_s/0d31b2aef/images/favicon.ico">
</head>
<body class="logged-out">
  <div class="chat-and-toolbar-wrapper archive">
    <div class="right-toolbar-region">
      <div class="right-toolbar" style="overflow: auto">
        <div class="gtrArchiveToolbarWrapper">
            <div class="gtrArchiveInfoContainer">
                <div class="gtrArchiveLogo">
                  <div class="logo-container"></div>
                </div>
                <div class="gtrArchiveInfo">
                  <p>These are chat archives for <strong>alerta/chat</strong></p>
                </div>
            </div>

          <div id="archive-navigation" class="gtrArchiveNavigationWrapper"><div class="gtrArchiveNavigationInner">
  <div class="gtrArchiveDate">
    <a href="/alerta/chat/archives/2020/04/25"><i class="gtrArchiveNext octicon octicon-chevron-right"></i></a>
    <a href="/alerta/chat/archives/2020/04/23"><i class="gtrArchivePrev octicon octicon-chevron-left"></i></a>
    <div class="gtrArchiveToday">
      <span class="gtrArchiveDay">24<sup>th</sup></span><br>
      <span class="gtrArchiveMonth">Apr 2020</span>
    </div>
  </div>

  <div class="archive-toggle-navigation-action-holder">
    <button class="button-jaffa--small js-toggle-archive-navigation">Toggle Heatmap</button>
  </div>
  <div id="archive-navigation" class="gtrArchiveCalendar js-archive-navigation-wrapper">
  </div>
</div>
</div>
            <div class="archive-right-toolbar-button-wrapper">
              <a href="/login?action=login&amp;button=archive-login" class="archive-right-toolbar-button button-caribbean">Sign in to start talking</a>
            </div>
        </div>
      </div>
    </div>
    <div class="chat-app">
      <div class="chat-header" id="header-wrapper">
        <div id="header" class="chat-header-inner">
          <div class="chat-header__main-grouping chat-header__left-menu-toggle-grouping">
  <button class="chat-header__left-menu-toggle js-header-view-left-menu-toggle">
    <svg class="chat-header__action-icon" viewBox="0 0 26 22">
      <path d="M0,2 l26,0" />
      <path d="M0,11 l26,0" />
      <path d="M0,20 l26,0" />
    </svg>
  </button>
</div>

<div class="chat-header__main-grouping chat-header__avatar-grouping">
  <form
    class="chat-header__avatar  js-chat-header-group-avatar-upload-form"
    action=""
    enctype="multipart/form-data"
    method="POST">
    <input type="hidden" class="js-chat-header-group-avatar-upload-signature" name="signature" value="">
    <input type="hidden" class="js-chat-header-group-avatar-upload-params" name="params" value="">
    <input
      id="chat-header-group-avatar-upload-input"
      class="chat-header__group-avatar-upload-input js-chat-header-group-avatar-upload-input"
      name="file"
      type="file"
      accept="image/*"
      disabled />
    <label
      class="chat-header__group-avatar-upload-label js-chat-header-group-avatar-upload-label"
      for="chat-header-group-avatar-upload-input"
      >
      <img class="js-chat-header-avatar-image"  height='48' width='48' src='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=48' srcset='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=96 2x' >
      <div class="chat-header__group-avatar-upload-progress hidden js-chat-header-group-avatar-upload-progress"></div>
    </label>
  </form>
</div>

<div class="chat-header__main-grouping chat-header__info-grouping">
  <div class="chat-header__heading-sub-group">
    <h1 class="js-chat-name chat-header__heading">
      <a href="/alerta/chat" class="chat-header__title">alerta/chat</a>
    </h1>
  </div>
  <div class="chat-header__topic-sub-group js-room-topic-edit-activator" tabindex="0">
    <div class="chat-header__topic-wrapper js-room-topic-wrapper  "><p class="js-room-topic chat-header__topic  ">Alerta web next gen https://beta.alerta.io</p></div>
  </div>
</div>


<div class="chat-header__main-grouping chat-header__action-grouping">
    <a href="/orgs/alerta/rooms" class="chat-header__org-page org-page-link js-chat-header-org-page-action" title="More alerta rooms">
      <i class="chat-header__action-icon icon-globe"></i>
    </a>

</div>

        </div>
      </div>
      <div class="trpContentPanel archive" id="content-wrapper">
  <div class="trpChatPanel">
    <div class="trpChatContainer  primary-scroll  chat-container" id="content-frame">

      <div id="chat-container" role="list">
        <div>
            <div class="chat-item model-id-5ea241f95d245d59f313ec1a burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5cda3bc8d73408ce4fc03205 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/23578964?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/23578964?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Mochammad Syaifuddin</div>
      <div class='chat-item__username js-chat-item-from'>@roboticpuppies</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea241f95d245d59f313ec1a' title="">Apr 24 01:33 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> yes, but how to tell alerta to <strong>only expire / close</strong> an alert if the last receive time is more than 1 hour, but not deleting them?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea276b294ac2758e304c309 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea276b294ac2758e304c309' title="">Apr 24 05:18 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="mdfischer" class="mention">@mdfischer</span> weird. Can you get the http get response body for <code>/alerts</code>?  You should be ble to see it in the browser console network tab. Also can you share the code you use to generate the heartbeat? Thanks. 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea29f19a29ab24ea0b80da8 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea29f19a29ab24ea0b80da8' title="">Apr 24 08:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="wo250012" class="mention">@wo250012</span> try …<pre><code><span class="tag">NOT</span> <span class="tag">resource</span><span class="pseudo">:prd</span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2ef9511ffed1268309f30 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5da7a6bfd73408ce4fce19dc avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/54080089?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/54080089?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Howie</div>
      <div class='chat-item__username js-chat-item-from'>@wo250012</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea2ef9511ffed1268309f30' title="">Apr 24 13:54 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I get this: Unknown top level operator: $not (500)
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2f94611ffed126830c4b2 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea2f94611ffed126830c4b2' title="">Apr 24 14:35 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      hi <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> I was checking new versions as havent upgrade alerta for a while and latest in github says 7.4.6
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2f967568e5258e4803199 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      however seems not available in pypi <a href="https://pypi.org/project/alerta/#history" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://pypi.org/project/alerta/#history</a>, but I see there the 7.5.0
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2f9f72bf9ef12699fe1ca burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      should we go for 7.5.0? I&#39;m checking commits, any remarkable change in 7.5 to be aware?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3096d9b28643fdcd3fc7e burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea3096d9b28643fdcd3fc7e' title="">Apr 24 15:44 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I’ve added the missing releases on github and PyPI. If you’re going to upgrade go with 7.5.1 which adds operator notes for alerts.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea30c2b9b28643fdcd3fc8c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea30c2b9b28643fdcd3fc8c' title="">Apr 24 15:56 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="wo250012" class="mention">@wo250012</span> oh. ok. it works in postgres. let me check mongo.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea30e0fa634f42f7afe5d78 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea30e0fa634f42f7afe5d78' title="">Apr 24 16:04 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      in 7.5.0 I got app.wsgi: No such file
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea30e123c03d32062660d3e burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      did that change?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea31027fe5f5d603078af96 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea31027fe5f5d603078af96' title="">Apr 24 16:13 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      yes, i guess. didn’t realise anyone was using it. it’s moved up a directory and is called <code>wsgi.py</code> now.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea31046e39c7720ddccb6fc burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      i forget why i did that. i think because it is automatically discovered by something.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3139b568e5258e48093b2 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea3139b568e5258e48093b2' title="">Apr 24 16:28 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      mm weird can&#39;t see it since 7.4.5 apparently
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea313a79a04a259f22df426 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code>moix@localhost.internal alertaio<span class="preprocessor"># find . -name app.wsgi</span>
./<span class="number">7.4</span><span class="number">.5</span>/venv/lib/python3<span class="number">.6</span>/site-packages/alerta/app.wsgi
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/alerta/app.wsgi
moix@localhost.internal alertaio<span class="preprocessor"># find . -name wsgi.py</span>
./<span class="number">7.4</span><span class="number">.5</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.4</span><span class="number">.5</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py
./<span class="number">7.5</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.5</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/raven/utils/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/raven/contrib/django/middleware/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/raven/contrib/django/raven_compat/middleware/wsgi.py
./<span class="number">7.4</span><span class="number">.6</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.4</span><span class="number">.6</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py</code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea317b62bf9ef1269a0559c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea317b62bf9ef1269a0559c' title="">Apr 24 16:45 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      ok see what you mean, it is in the root of the repo (<a href="https://github.com/alerta/alerta/blob/master/wsgi.py" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://github.com/alerta/alerta/blob/master/wsgi.py</a>) but not included in the package
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea320763c03d32062664dea burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea320763c03d32062664dea' title="">Apr 24 17:23 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code>2020-04-24 15:40:48,908 flask.app[76]: [ERROR] Expecting value: line 1 column 1 (char 0) request_id=2b09a3f4-2168-42df-9c20-2219b83bb893 ip=10.28.2.7
Traceback (most recent <span class="operator"><span class="keyword">call</span> <span class="keyword">last</span>):
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py"</span>, line <span class="number">52</span>, <span class="keyword">in</span> custom
    alert = process_alert(alert)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/utils/api.py"</span>, line <span class="number">73</span>, <span class="keyword">in</span> process_alert
    <span class="keyword">updated</span> = <span class="keyword">plugin</span>.post_receive(alert)  # <span class="keyword">for</span> backward <span class="keyword">compatibility</span>
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta_forward.py"</span>, line <span class="number">38</span>, <span class="keyword">in</span> post_receive
    **alert.serialize
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alertaclient/api.py"</span>, line <span class="number">66</span>, <span class="keyword">in</span> send_alert
    r = <span class="keyword">self</span>.<span class="keyword">http</span>.post(<span class="string">'/alert'</span>, <span class="keyword">data</span>)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alertaclient/api.py"</span>, line <span class="number">563</span>, <span class="keyword">in</span> post
    <span class="keyword">return</span> <span class="keyword">self</span>._handle_error(response)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alertaclient/api.py"</span>, line <span class="number">586</span>, <span class="keyword">in</span> _handle_error
    resp = response.<span class="keyword">json</span>()
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/requests/models.py"</span>, line <span class="number">897</span>, <span class="keyword">in</span> <span class="keyword">json</span>
    <span class="keyword">return</span> complexjson.loads(<span class="keyword">self</span>.<span class="built_in">text</span>, **kwargs)
  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python3.7/json/__init__.py"</span>, line <span class="number">348</span>, <span class="keyword">in</span> loads
    <span class="keyword">return</span> _default_decoder.<span class="keyword">decode</span>(s)
  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python3.7/json/decoder.py"</span>, line <span class="number">337</span>, <span class="keyword">in</span> <span class="keyword">decode</span>
    obj, <span class="keyword">end</span> = <span class="keyword">self</span>.raw_decode(s, idx=_w(s, <span class="number">0</span>).<span class="keyword">end</span>())
  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python3.7/json/decoder.py"</span>, line <span class="number">355</span>, <span class="keyword">in</span> raw_decode
    <span class="keyword">raise</span> JSONDecodeError(<span class="string">"Expecting value"</span>, s, err.<span class="keyword">value</span>) <span class="keyword">from</span> <span class="keyword">None</span>
<span class="keyword">json</span>.decoder.JSONDecodeError: Expecting <span class="keyword">value</span>: line <span class="number">1</span> <span class="keyword">column</span> <span class="number">1</span> (<span class="built_in">char</span> <span class="number">0</span>)

During handling <span class="keyword">of</span> the above <span class="keyword">exception</span>, another <span class="keyword">exception</span> occurred:

Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/flask/app.py"</span>, line <span class="number">1813</span>, <span class="keyword">in</span> full_dispatch_request
    rv = <span class="keyword">self</span>.dispatch_request()
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/flask/app.py"</span>, line <span class="number">1799</span>, <span class="keyword">in</span> dispatch_request
    <span class="keyword">return</span> <span class="keyword">self</span>.view_functions[rule.endpoint](**req.view_args)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/flask_cors/decorator.py"</span>, line <span class="number">128</span>, <span class="keyword">in</span> wrapped_function
    resp = make_response(<span class="keyword">f</span>(*args, **kwargs))
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/auth/decorators.py"</span>, line <span class="number">53</span>, <span class="keyword">in</span> <span class="keyword">wrapped</span>
    <span class="keyword">return</span> <span class="keyword">f</span>(*args, **kwargs)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py"</span>, line <span class="number">66</span>, <span class="keyword">in</span> custom
    <span class="keyword">raise</span> ApiError(<span class="keyword">str</span>(<span class="keyword">e</span>), <span class="number">500</span>)
alerta.<span class="keyword">exceptions</span>.ApiError: Expecting <span class="keyword">value</span>: line <span class="number">1</span> <span class="keyword">column</span> <span class="number">1</span> (<span class="built_in">char</span> <span class="number">0</span>)</span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3209f5d245d59f3165d94 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      my custom receiver is broken?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ad7e5ed621d4ddad753 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32ad7e5ed621d4ddad753' title="">Apr 24 18:07 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
       I am trying to forward alerts from alertmanager
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32af93d7e50071c34fb9e burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32af93d7e50071c34fb9e' title="">Apr 24 18:07 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      it’s not json
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b0fe5ed621d4ddad7f9 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b0fe5ed621d4ddad7f9' title="">Apr 24 18:08 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      what do you mean?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b45b6e286076218169b burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b45b6e286076218169b' title="">Apr 24 18:09 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      it looks like it’s trying to parse the body as json but it’s not json.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b569b28643fdcd3fcc9 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      what are you sending?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b7d9a04a259f22e3df7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b7d9a04a259f22e3df7' title="">Apr 24 18:10 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code><span class="setting">PLUGINS = <span class="value">[<span class="string">'reject'</span>,<span class="string">'prometheus'</span>, <span class="string">'forward'</span>]</span></span>
<span class="setting">FORWARD_URL = <span class="value"><span class="string">'http://alert2all'</span></span></span>
<span class="setting">FORWARD_API_KEY = <span class="value"><span class="string">'key'</span></span></span>
<span class="setting">FORWARD_MAX_LENGTH = <span class="value"><span class="number">3</span></span></span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b866a830a49d3ee49fb burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b866a830a49d3ee49fb' title="">Apr 24 18:10 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="moix" class="mention">@moix</span> do you need the wsgi file? How were you using it? copying it to where you need it or were you referencing it where it was?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32be01e3d5e206340a814 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32be01e3d5e206340a814' title="">Apr 24 18:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      my flow: alertmanger -&gt; alerta -&gt; alert2all
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32be1a29ab24ea0b80edd burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32be1a29ab24ea0b80edd' title="">Apr 24 18:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="FL3SH" class="mention">@FL3SH</span> is there code to go with the config?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32c61501f8f72a5011d94 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32c61501f8f72a5011d94' title="">Apr 24 18:13 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I don&#39;t understand so the problem is with parsing alert from alermanger?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32c95b6e286076218169d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32c95b6e286076218169d' title="">Apr 24 18:14 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      impossible for me to know because you haven’t shown me any code.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32da811ffed1268317acb burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32da811ffed1268317acb' title="">Apr 24 18:19 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code>alertad<span class="class">.conf</span>:
---
SECRET_KEY = <span class="string">'key'</span>
PLUGINS = [<span class="string">'reject'</span>,<span class="string">'prometheus'</span>, <span class="string">'forward'</span>]
FORWARD_URL = <span class="string">'http://alert2all'</span>
FORWARD_API_KEY = <span class="string">'key2'</span>
FORWARD_MAX_LENGTH = <span class="number">3</span>
ALERTMANAGER_SILENCE_FROM_ACK = True
ALERTMANAGER_API_URL = <span class="string">'http://prom-prometheus-operator-alertmanager:9093'</span>
SORT_LIST_BY = <span class="string">'lastReceiveTime'</span>
ASI_SEVERITY = [
    <span class="string">'critical'</span>, <span class="string">'major'</span>, <span class="string">'minor'</span>, <span class="string">'warning'</span>, <span class="string">'indeterminate'</span>, <span class="string">'informational'</span>
]
COLUMNS = [
  <span class="string">'severity'</span>,
  <span class="string">'status'</span>,
  <span class="string">'lastReceiveTime'</span>,
  <span class="string">'duplicateCount'</span>,
  <span class="string">'environment'</span>,
  <span class="string">'service'</span>,
  <span class="string">'resource'</span>,
  <span class="string">'event'</span>,
  <span class="string">'value'</span>,
  ]

alerta<span class="class">.conf</span>:
----
[DEFAULT]
endpoint = http:<span class="comment">//localhost:8080/api</span>
key = key</code></pre><pre><code><span class="title">func</span> main() {

    http.<span class="type">HandleFunc</span>(<span class="string">"/alert"</span>, webhook)
}

<span class="title">func</span> webhook(w http.<span class="type">ResponseWriter</span>, r *http.<span class="type">Request</span>) {
    defer r.<span class="type">Body</span>.<span class="type">Close</span>()

    <span class="typedef"><span class="keyword">data</span> := alerta.<span class="type">AlertaStruct</span><span class="container">{}</span></span>
    <span class="keyword">if</span> err := json.<span class="type">NewDecoder</span>(r.<span class="type">Body</span>).<span class="type">Decode</span>(&amp;<span class="typedef"><span class="keyword">data</span>); err != nil <span class="container">{
        <span class="title">asJson</span>(<span class="title">w</span>, <span class="title">http</span>.<span class="type">StatusBadRequest</span>, <span class="title">err</span>.<span class="type">Error</span>())
        <span class="title">return</span>
    }</span></span>

  alert := alerta.<span class="type">Parse</span>(<span class="typedef"><span class="keyword">data</span>)</span>
  log.<span class="type">Debug</span>(alert)

}</code></pre><pre><code><span class="keyword">package</span> alerta

<span class="keyword">import</span> (
    <span class="string">"github.com/prometheus/alertmanager/template"</span>
    <span class="string">"strings"</span>
)

<span class="keyword">type</span> AlertaStruct <span class="keyword">struct</span> {
    Id          <span class="typename">string</span>   <span class="string">`json:id`</span>
    Resource    <span class="typename">string</span>   <span class="string">`json:"resource"`</span>
    Event       <span class="typename">string</span>   <span class="string">`json:"event"`</span>
    Environment <span class="typename">string</span>   <span class="string">`json:"environment"`</span>
    Severity    <span class="typename">string</span>   <span class="string">`json:"severity"`</span>
    Correlate   []<span class="typename">string</span> <span class="string">`json:"correlate"`</span>
    Service     []<span class="typename">string</span> <span class="string">`json:"service"`</span>
    Group       <span class="typename">string</span>   <span class="string">`json:"group"`</span>
    Value       <span class="typename">string</span>   <span class="string">`json:"value"`</span>
    Text        <span class="typename">string</span>   <span class="string">`json:"text"`</span>
    Tags        []<span class="typename">string</span> <span class="string">`json:"tags"`</span>
    Attributes  <span class="keyword">struct</span> {
        ExternalUrl <span class="typename">string</span> <span class="string">`json:"externalUrl"`</span>
        MoreInfo    <span class="typename">string</span> <span class="string">`json:"moreInfo"`</span>
        Fw_count    <span class="typename">int</span>    <span class="string">`json:"fw_count"`</span>
    } <span class="string">`json:"attributes"`</span>
    Origin     <span class="typename">string</span> <span class="string">`json:"origin"`</span>
    Alerttype  <span class="typename">string</span> <span class="string">`json:"type"`</span>
    CreateTime <span class="typename">string</span> <span class="string">`json:"createTime"`</span>
    Timeout    <span class="typename">int</span>    <span class="string">`json:"timeout"`</span>
    RawData    <span class="typename">string</span> <span class="string">`json:"rawData"`</span>
    Customer   <span class="typename">string</span> <span class="string">`json:"customer"`</span>
}

<span class="keyword">func</span> strToMap(str []<span class="typename">string</span>) <span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span> {
    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)
    <span class="keyword">for</span> _, e := <span class="keyword">range</span> str {
        parts := strings.Split(e, <span class="string">"="</span>)
        <span class="keyword">if</span> <span class="built_in">len</span>(parts) == <span class="number">1</span> {
            m[<span class="string">"tags"</span>] = parts[<span class="number">0</span>]

        } <span class="keyword">else</span> {
            m[parts[<span class="number">0</span>]] = parts[<span class="number">1</span>]

        }
    }
    <span class="keyword">return</span> m
}

<span class="keyword">func</span> Parse(alertaStruct AlertaStruct) template.Alert {
    Labels := strToMap(alertaStruct.Tags)
    data := template.Alert{}

    data.Labels = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)
    data.Labels = Labels
    data.Labels[<span class="string">"severity"</span>] = alertaStruct.Severity
    data.Labels[<span class="string">"installation"</span>] = alertaStruct.Environment
    data.Labels[<span class="string">"environment"</span>] = alertaStruct.Environment
    data.Labels[<span class="string">"alertname"</span>] = alertaStruct.Event

    data.Annotations = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)
    data.Annotations[<span class="string">"summary"</span>] = alertaStruct.Text

    <span class="keyword">return</span> data

}</code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32e4c36c8ae68c5939954 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32e4c36c8ae68c5939954' title="">Apr 24 18:22 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      have you written an alert handler in go for Alertmanager to forward alerts to Alerta?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32e7bafa1f51d4e1a9333 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32e7bafa1f51d4e1a9333' title="">Apr 24 18:22 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      no, I am using alerta to forward alerts, alertmanger -&gt; alerta -&gt; myapp
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32e913d7e50071c34fba7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32e913d7e50071c34fba7' title="">Apr 24 18:23 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      so what’s that Go code for?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ea23d7e50071c34fba9 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      is that “myapp”?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32eb25d245d59f316878c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32eb25d245d59f316878c' title="">Apr 24 18:23 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      to parse alerts from alerta
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ebc11ffed1268317d88 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      this is part of myapp
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ee1afa1f51d4e1a9410 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      I don&#39;t understand why this error pasted before occurs 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ee2fe5f5d603078afcd burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32ee2fe5f5d603078afcd' title="">Apr 24 18:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      but isn’t the error you showed above from Alerta?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ef1501f8f72a5012440 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32ef1501f8f72a5012440' title="">Apr 24 18:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      exactly 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f0c9b28643fdcd3fccf burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32f0c9b28643fdcd3fccf' title="">Apr 24 18:25 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      so you must have written a custom webhook. so where’s that code?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f5a1eb8bd3978f2639d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32f5a1eb8bd3978f2639d' title="">Apr 24 18:26 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://github.com/alerta/alerta-contrib/tree/master/plugins/forward" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://github.com/alerta/alerta-contrib/tree/master/plugins/forward</a> this is not enough?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f7e9a04a259f22e49be burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      I thought I can use this plugin and then just pare alerts
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f839a04a259f22e49c1 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      Am I wrong?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3314efe5f5d603078afd1 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea3314efe5f5d603078afd1' title="">Apr 24 18:34 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      do you even know that the alertmanager is sending valid json? get an example payload from alertmanager and post it manually into your webhook using curl.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea33219e5ed621d4ddaebcc burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea33219e5ed621d4ddaebcc' title="">Apr 24 18:38 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I think I tested this before but let me try again
    </div>
  </div>
</div>
</div>
        </div>
      </div>

      <div id='initial' style="height:0;width:0;overflow:hidden"><a name="initial"/>_</a></div>
    </div>
  </div>
</div>

    </div>
  </div>

    <script type="text/javascript">window.gitterClientEnv = {"lang":"en","domain":"gitter.im","baseServer":"gitter.im","basePath":"https://gitter.im","apiBasePath":"https://gitter.im/api","homeUrl":"/","badgeBaseUrl":"https://badges.gitter.im","googleTrackingId":"UA-45918290-1","googleTrackingDomain":"gitter.im","env":"prod","cdns":["cdn01.gitter.im","cdn02.gitter.im","cdn03.gitter.im"],"version":"0d31b2","assetTag":"0d31b2aef","logging":false,"ravenUrl":"https://a1bf037f1d5f46f28b8e3b3e82024654@sentry.gitlab.net/42","websockets":{"fayeUrl":"https://ws.gitter.im/bayeux","options":{"timeout":120,"retry":2}},"avatarsUrl":"https://avatars.gitter.im","avatarCdns":["https://avatars-01.gitter.im","https://avatars-02.gitter.im","https://avatars-03.gitter.im","https://avatars-04.gitter.im","https://avatars-05.gitter.im"],"vapidAppServerKey":"BMhrlZd_I5OFJSJQTbg2mZ5PTHarzenwsKfsRd8C0-HRBygpDj9O3M4VTJIQfB9VPDjAoO_w2eg7Sj_cMXzuLwI","headlineNumbers":{"gitterUsers":"800K+","gitterRooms":"300K+","gitterGroups":"90K+","gitterCountries":"100+"},"inviteEmailAbuseThresholdPerDay":10};window.troupeContext = {"accessToken":"$cwFt9g6CLOnxdaaSz6qXy1DVji+kBANtaNFa0q6d9KE=","isNativeDesktopApp":false,"locale":{"%d unread message":{"one":"%d unread message","other":"%d unread messages"},"Unread messages in %%s, %%s and one other":{"one":"Unread messages in %%s, %%s and one other","other":"Unread messages in %%s, %%s and %d others"},"Unread messages in %s":"Unread messages in %s","Unread messages in %s and %s":"Unread messages in %s and %s","Unread messages from %s":"Unread messages from %s","Unread messages from %s and %s":"Unread messages from %s and %s","Unread messages from %%s, %%s and one other":{"one":"Unread messages from %%s, %%s and one other","other":"Unread messages from %%s, %%s and %d others"},"Gitter is available in all modern browsers as well as apps for desktops.":"Gitter is available in all modern browsers as well as apps for desktops.","Mac":"Mac","Windows":"Windows","Linux 32":"Linux 32","Linux 64":"Linux 64","The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.":"The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.","Mac users on 10.9 or lower, <a %s>download here<\/a>.":"Mac users on 10.9 or lower, <a %s>download here<\/a>.","We also have a sweet little <a %s>IRC bridge<\/a>.":"We also have a sweet little <a %s>IRC bridge<\/a>.","The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.":"The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.","Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.":"Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.","desktop":"desktop","iOS":"iOS","Android":"Android","Support":"Support","API":"API","Blog":"Blog","Twitter":"Twitter"},"roomMember":false,"user":null,"troupe":{"id":"5609cf450fc9f982beb2225c","name":"alerta/chat","topic":"Alerta web next gen https://beta.alerta.io","avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b","uri":"alerta/chat","userCount":378,"url":"/alerta/chat","githubType":"ORG_CHANNEL","associatedRepo":false,"security":"PUBLIC","providers":["github"],"groupId":"57542c98c43b8c6019774b6b","group":{"id":"57542c98c43b8c6019774b6b","name":"alerta","uri":"alerta","homeUri":"alerta/home","backedBy":{"type":"GH_ORG","linkPath":"alerta"},"avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b"},"backend":{"type":"GH_ORG","linkPath":"alerta"},"public":true,"v":3},"roomHasWelcomeMessage":false,"archive":{"archiveDate":"2020-04-24T00:00:00.000Z","nextDate":"2020-04-25T23:59:59.999Z","previousDate":"2020-04-23T00:00:00.000Z","messages":[{"id":"5ea241f95d245d59f313ec1a","text":"@satterly yes, but how to tell alerta to **only expire / close** an alert if the last receive time is more than 1 hour, but not deleting them?","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> yes, but how to tell alerta to <strong>only expire / close<\/strong> an alert if the last receive time is more than 1 hour, but not deleting them?","sent":"2020-04-24T01:33:45.868Z","fromUser":{"id":"5cda3bc8d73408ce4fc03205","username":"roboticpuppies","displayName":"Mochammad Syaifuddin","url":"/roboticpuppies","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/roboticpuppies","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/23578964?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/23578964?v=4&s=128","v":11,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea276b294ac2758e304c309","text":"@mdfischer weird. Can you get the http get response body for `/alerts`?  You should be ble to see it in the browser console network tab. Also can you share the code you use to generate the heartbeat? Thanks. ","html":"<span data-link-type=\"mention\" data-screen-name=\"mdfischer\" class=\"mention\">@mdfischer<\/span> weird. Can you get the http get response body for <code>/alerts<\/code>?  You should be ble to see it in the browser console network tab. Also can you share the code you use to generate the heartbeat? Thanks. ","sent":"2020-04-24T05:18:42.390Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":7,"urls":[],"mentions":[{"screenName":"mdfischer","userId":"5e509f11d73408ce4fda5e13","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea29f19a29ab24ea0b80da8","text":"@wo250012 try …\n```\nNOT resource:prd\n```","html":"<span data-link-type=\"mention\" data-screen-name=\"wo250012\" class=\"mention\">@wo250012<\/span> try …<pre><code><span class=\"tag\">NOT<\/span> <span class=\"tag\">resource<\/span><span class=\"pseudo\">:prd<\/span><\/code><\/pre>","sent":"2020-04-24T08:11:05.371Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[{"screenName":"wo250012","userId":"5da7a6bfd73408ce4fce19dc","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea2ef9511ffed1268309f30","text":"I get this: Unknown top level operator: $not (500)","html":"I get this: Unknown top level operator: $not (500)","sent":"2020-04-24T13:54:29.342Z","fromUser":{"id":"5da7a6bfd73408ce4fce19dc","username":"wo250012","displayName":"Howie","url":"/wo250012","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/wo250012","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/54080089?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/54080089?v=4&s=128","v":7,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea2f94611ffed126830c4b2","text":"hi @satterly I was checking new versions as havent upgrade alerta for a while and latest in github says 7.4.6","html":"hi <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> I was checking new versions as havent upgrade alerta for a while and latest in github says 7.4.6","sent":"2020-04-24T14:35:50.487Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea2f967568e5258e4803199","text":"however seems not available in pypi https://pypi.org/project/alerta/#history, but I see there the 7.5.0","html":"however seems not available in pypi <a href=\"https://pypi.org/project/alerta/#history\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://pypi.org/project/alerta/#history<\/a>, but I see there the 7.5.0","sent":"2020-04-24T14:36:23.935Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[{"url":"https://pypi.org/project/alerta/#history"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea2f9f72bf9ef12699fe1ca","text":"should we go for 7.5.0? I'm checking commits, any remarkable change in 7.5 to be aware?","html":"should we go for 7.5.0? I&#39;m checking commits, any remarkable change in 7.5 to be aware?","sent":"2020-04-24T14:38:47.891Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea3096d9b28643fdcd3fc7e","text":"I’ve added the missing releases on github and PyPI. If you’re going to upgrade go with 7.5.1 which adds operator notes for alerts.","html":"I’ve added the missing releases on github and PyPI. If you’re going to upgrade go with 7.5.1 which adds operator notes for alerts.","sent":"2020-04-24T15:44:45.219Z","editedAt":"2020-04-24T15:44:53.795Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea30c2b9b28643fdcd3fc8c","text":"@wo250012 oh. ok. it works in postgres. let me check mongo.","html":"<span data-link-type=\"mention\" data-screen-name=\"wo250012\" class=\"mention\">@wo250012<\/span> oh. ok. it works in postgres. let me check mongo.","sent":"2020-04-24T15:56:27.746Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[{"screenName":"wo250012","userId":"5da7a6bfd73408ce4fce19dc","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea30e0fa634f42f7afe5d78","text":"in 7.5.0 I got app.wsgi: No such file","html":"in 7.5.0 I got app.wsgi: No such file","sent":"2020-04-24T16:04:31.494Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea30e123c03d32062660d3e","text":"did that change?","html":"did that change?","sent":"2020-04-24T16:04:34.832Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea31027fe5f5d603078af96","text":"yes, i guess. didn’t realise anyone was using it. it’s moved up a directory and is called `wsgi.py` now.","html":"yes, i guess. didn’t realise anyone was using it. it’s moved up a directory and is called <code>wsgi.py<\/code> now.","sent":"2020-04-24T16:13:27.442Z","editedAt":"2020-04-24T16:14:20.492Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea31046e39c7720ddccb6fc","text":"i forget why i did that. i think because it is automatically discovered by something.","html":"i forget why i did that. i think because it is automatically discovered by something.","sent":"2020-04-24T16:13:58.196Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea3139b568e5258e48093b2","text":"mm weird can't see it since 7.4.5 apparently","html":"mm weird can&#39;t see it since 7.4.5 apparently","sent":"2020-04-24T16:28:11.180Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea313a79a04a259f22df426","text":"```\nmoix@localhost.internal alertaio# find . -name app.wsgi\n./7.4.5/venv/lib/python3.6/site-packages/alerta/app.wsgi\n./7.3.0/venv/lib/python3.6/site-packages/alerta/app.wsgi\nmoix@localhost.internal alertaio# find . -name wsgi.py\n./7.4.5/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.4.5/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n./7.5.0/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.5.0/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/raven/utils/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/raven/contrib/django/middleware/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/raven/contrib/django/raven_compat/middleware/wsgi.py\n./7.4.6/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.4.6/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n```\n\n","html":"<pre><code>moix@localhost.internal alertaio<span class=\"preprocessor\"># find . -name app.wsgi<\/span>\n./<span class=\"number\">7.4<\/span><span class=\"number\">.5<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/alerta/app.wsgi\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/alerta/app.wsgi\nmoix@localhost.internal alertaio<span class=\"preprocessor\"># find . -name wsgi.py<\/span>\n./<span class=\"number\">7.4<\/span><span class=\"number\">.5<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.4<\/span><span class=\"number\">.5<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py\n./<span class=\"number\">7.5<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.5<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/raven/utils/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/raven/contrib/django/middleware/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/raven/contrib/django/raven_compat/middleware/wsgi.py\n./<span class=\"number\">7.4<\/span><span class=\"number\">.6<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.4<\/span><span class=\"number\">.6<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py<\/code><\/pre>","sent":"2020-04-24T16:28:23.466Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea317b62bf9ef1269a0559c","text":"ok see what you mean, it is in the root of the repo (https://github.com/alerta/alerta/blob/master/wsgi.py) but not included in the package","html":"ok see what you mean, it is in the root of the repo (<a href=\"https://github.com/alerta/alerta/blob/master/wsgi.py\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://github.com/alerta/alerta/blob/master/wsgi.py<\/a>) but not included in the package","sent":"2020-04-24T16:45:42.320Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[{"url":"https://github.com/alerta/alerta/blob/master/wsgi.py"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea320763c03d32062664dea","text":"```\n2020-04-24 15:40:48,908 flask.app[76]: [ERROR] Expecting value: line 1 column 1 (char 0) request_id=2b09a3f4-2168-42df-9c20-2219b83bb893 ip=10.28.2.7\nTraceback (most recent call last):\n  File \"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\", line 52, in custom\n    alert = process_alert(alert)\n  File \"/venv/lib/python3.7/site-packages/alerta/utils/api.py\", line 73, in process_alert\n    updated = plugin.post_receive(alert)  # for backward compatibility\n  File \"/venv/lib/python3.7/site-packages/alerta_forward.py\", line 38, in post_receive\n    **alert.serialize\n  File \"/venv/lib/python3.7/site-packages/alertaclient/api.py\", line 66, in send_alert\n    r = self.http.post('/alert', data)\n  File \"/venv/lib/python3.7/site-packages/alertaclient/api.py\", line 563, in post\n    return self._handle_error(response)\n  File \"/venv/lib/python3.7/site-packages/alertaclient/api.py\", line 586, in _handle_error\n    resp = response.json()\n  File \"/venv/lib/python3.7/site-packages/requests/models.py\", line 897, in json\n    return complexjson.loads(self.text, **kwargs)\n  File \"/usr/local/lib/python3.7/json/__init__.py\", line 348, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/local/lib/python3.7/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/usr/local/lib/python3.7/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/venv/lib/python3.7/site-packages/flask/app.py\", line 1813, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/venv/lib/python3.7/site-packages/flask/app.py\", line 1799, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/venv/lib/python3.7/site-packages/flask_cors/decorator.py\", line 128, in wrapped_function\n    resp = make_response(f(*args, **kwargs))\n  File \"/venv/lib/python3.7/site-packages/alerta/auth/decorators.py\", line 53, in wrapped\n    return f(*args, **kwargs)\n  File \"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\", line 66, in custom\n    raise ApiError(str(e), 500)\nalerta.exceptions.ApiError: Expecting value: line 1 column 1 (char 0)\n```","html":"<pre><code>2020-04-24 15:40:48,908 flask.app[76]: [ERROR] Expecting value: line 1 column 1 (char 0) request_id=2b09a3f4-2168-42df-9c20-2219b83bb893 ip=10.28.2.7\nTraceback (most recent <span class=\"operator\"><span class=\"keyword\">call<\/span> <span class=\"keyword\">last<\/span>):\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\"<\/span>, line <span class=\"number\">52<\/span>, <span class=\"keyword\">in<\/span> custom\n    alert = process_alert(alert)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/utils/api.py\"<\/span>, line <span class=\"number\">73<\/span>, <span class=\"keyword\">in<\/span> process_alert\n    <span class=\"keyword\">updated<\/span> = <span class=\"keyword\">plugin<\/span>.post_receive(alert)  # <span class=\"keyword\">for<\/span> backward <span class=\"keyword\">compatibility<\/span>\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta_forward.py\"<\/span>, line <span class=\"number\">38<\/span>, <span class=\"keyword\">in<\/span> post_receive\n    **alert.serialize\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alertaclient/api.py\"<\/span>, line <span class=\"number\">66<\/span>, <span class=\"keyword\">in<\/span> send_alert\n    r = <span class=\"keyword\">self<\/span>.<span class=\"keyword\">http<\/span>.post(<span class=\"string\">'/alert'<\/span>, <span class=\"keyword\">data<\/span>)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alertaclient/api.py\"<\/span>, line <span class=\"number\">563<\/span>, <span class=\"keyword\">in<\/span> post\n    <span class=\"keyword\">return<\/span> <span class=\"keyword\">self<\/span>._handle_error(response)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alertaclient/api.py\"<\/span>, line <span class=\"number\">586<\/span>, <span class=\"keyword\">in<\/span> _handle_error\n    resp = response.<span class=\"keyword\">json<\/span>()\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/requests/models.py\"<\/span>, line <span class=\"number\">897<\/span>, <span class=\"keyword\">in<\/span> <span class=\"keyword\">json<\/span>\n    <span class=\"keyword\">return<\/span> complexjson.loads(<span class=\"keyword\">self<\/span>.<span class=\"built_in\">text<\/span>, **kwargs)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/usr/local/lib/python3.7/json/__init__.py\"<\/span>, line <span class=\"number\">348<\/span>, <span class=\"keyword\">in<\/span> loads\n    <span class=\"keyword\">return<\/span> _default_decoder.<span class=\"keyword\">decode<\/span>(s)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/usr/local/lib/python3.7/json/decoder.py\"<\/span>, line <span class=\"number\">337<\/span>, <span class=\"keyword\">in<\/span> <span class=\"keyword\">decode<\/span>\n    obj, <span class=\"keyword\">end<\/span> = <span class=\"keyword\">self<\/span>.raw_decode(s, idx=_w(s, <span class=\"number\">0<\/span>).<span class=\"keyword\">end<\/span>())\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/usr/local/lib/python3.7/json/decoder.py\"<\/span>, line <span class=\"number\">355<\/span>, <span class=\"keyword\">in<\/span> raw_decode\n    <span class=\"keyword\">raise<\/span> JSONDecodeError(<span class=\"string\">\"Expecting value\"<\/span>, s, err.<span class=\"keyword\">value<\/span>) <span class=\"keyword\">from<\/span> <span class=\"keyword\">None<\/span>\n<span class=\"keyword\">json<\/span>.decoder.JSONDecodeError: Expecting <span class=\"keyword\">value<\/span>: line <span class=\"number\">1<\/span> <span class=\"keyword\">column<\/span> <span class=\"number\">1<\/span> (<span class=\"built_in\">char<\/span> <span class=\"number\">0<\/span>)\n\nDuring handling <span class=\"keyword\">of<\/span> the above <span class=\"keyword\">exception<\/span>, another <span class=\"keyword\">exception<\/span> occurred:\n\nTraceback (most recent <span class=\"keyword\">call<\/span> <span class=\"keyword\">last<\/span>):\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/flask/app.py\"<\/span>, line <span class=\"number\">1813<\/span>, <span class=\"keyword\">in<\/span> full_dispatch_request\n    rv = <span class=\"keyword\">self<\/span>.dispatch_request()\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/flask/app.py\"<\/span>, line <span class=\"number\">1799<\/span>, <span class=\"keyword\">in<\/span> dispatch_request\n    <span class=\"keyword\">return<\/span> <span class=\"keyword\">self<\/span>.view_functions[rule.endpoint](**req.view_args)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/flask_cors/decorator.py\"<\/span>, line <span class=\"number\">128<\/span>, <span class=\"keyword\">in<\/span> wrapped_function\n    resp = make_response(<span class=\"keyword\">f<\/span>(*args, **kwargs))\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/auth/decorators.py\"<\/span>, line <span class=\"number\">53<\/span>, <span class=\"keyword\">in<\/span> <span class=\"keyword\">wrapped<\/span>\n    <span class=\"keyword\">return<\/span> <span class=\"keyword\">f<\/span>(*args, **kwargs)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\"<\/span>, line <span class=\"number\">66<\/span>, <span class=\"keyword\">in<\/span> custom\n    <span class=\"keyword\">raise<\/span> ApiError(<span class=\"keyword\">str<\/span>(<span class=\"keyword\">e<\/span>), <span class=\"number\">500<\/span>)\nalerta.<span class=\"keyword\">exceptions<\/span>.ApiError: Expecting <span class=\"keyword\">value<\/span>: line <span class=\"number\">1<\/span> <span class=\"keyword\">column<\/span> <span class=\"number\">1<\/span> (<span class=\"built_in\">char<\/span> <span class=\"number\">0<\/span>)<\/span><\/code><\/pre>","sent":"2020-04-24T17:23:02.377Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea3209f5d245d59f3165d94","text":"my custom receiver is broken?","html":"my custom receiver is broken?","sent":"2020-04-24T17:23:43.587Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32ad7e5ed621d4ddad753","text":" I am trying to forward alerts from alertmanager","html":" I am trying to forward alerts from alertmanager","sent":"2020-04-24T18:07:19.820Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32af93d7e50071c34fb9e","text":"it’s not json","html":"it’s not json","sent":"2020-04-24T18:07:53.721Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32b0fe5ed621d4ddad7f9","text":"what do you mean?","html":"what do you mean?","sent":"2020-04-24T18:08:15.098Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32b45b6e286076218169b","text":"it looks like it’s trying to parse the body as json but it’s not json.","html":"it looks like it’s trying to parse the body as json but it’s not json.","sent":"2020-04-24T18:09:09.660Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32b569b28643fdcd3fcc9","text":"what are you sending?","html":"what are you sending?","sent":"2020-04-24T18:09:26.340Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32b7d9a04a259f22e3df7","text":"```\nPLUGINS = ['reject','prometheus', 'forward']\nFORWARD_URL = 'http://alert2all'\nFORWARD_API_KEY = 'key'\nFORWARD_MAX_LENGTH = 3\n```","html":"<pre><code><span class=\"setting\">PLUGINS = <span class=\"value\">[<span class=\"string\">'reject'<\/span>,<span class=\"string\">'prometheus'<\/span>, <span class=\"string\">'forward'<\/span>]<\/span><\/span>\n<span class=\"setting\">FORWARD_URL = <span class=\"value\"><span class=\"string\">'http://alert2all'<\/span><\/span><\/span>\n<span class=\"setting\">FORWARD_API_KEY = <span class=\"value\"><span class=\"string\">'key'<\/span><\/span><\/span>\n<span class=\"setting\">FORWARD_MAX_LENGTH = <span class=\"value\"><span class=\"number\">3<\/span><\/span><\/span><\/code><\/pre>","sent":"2020-04-24T18:10:05.247Z","editedAt":"2020-04-24T18:10:54.649Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea32b866a830a49d3ee49fb","text":"@moix do you need the wsgi file? How were you using it? copying it to where you need it or were you referencing it where it was?","html":"<span data-link-type=\"mention\" data-screen-name=\"moix\" class=\"mention\">@moix<\/span> do you need the wsgi file? How were you using it? copying it to where you need it or were you referencing it where it was?","sent":"2020-04-24T18:10:14.714Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[{"screenName":"moix","userId":"5d14be9bd73408ce4fc4a8a1","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32be01e3d5e206340a814","text":"my flow: alertmanger -> alerta -> alert2all","html":"my flow: alertmanger -&gt; alerta -&gt; alert2all","sent":"2020-04-24T18:11:44.967Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32be1a29ab24ea0b80edd","text":"@FL3SH is there code to go with the config?","html":"<span data-link-type=\"mention\" data-screen-name=\"FL3SH\" class=\"mention\">@FL3SH<\/span> is there code to go with the config?","sent":"2020-04-24T18:11:45.455Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[{"screenName":"FL3SH","userId":"5dc40e7cd73408ce4fd047f1","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32c61501f8f72a5011d94","text":"I don't understand so the problem is with parsing alert from alermanger?","html":"I don&#39;t understand so the problem is with parsing alert from alermanger?","sent":"2020-04-24T18:13:53.534Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32c95b6e286076218169d","text":"impossible for me to know because you haven’t shown me any code.","html":"impossible for me to know because you haven’t shown me any code.","sent":"2020-04-24T18:14:45.018Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32da811ffed1268317acb","text":"```\nalertad.conf:\n---\nSECRET_KEY = 'key'\nPLUGINS = ['reject','prometheus', 'forward']\nFORWARD_URL = 'http://alert2all'\nFORWARD_API_KEY = 'key2'\nFORWARD_MAX_LENGTH = 3\nALERTMANAGER_SILENCE_FROM_ACK = True\nALERTMANAGER_API_URL = 'http://prom-prometheus-operator-alertmanager:9093'\nSORT_LIST_BY = 'lastReceiveTime'\nASI_SEVERITY = [\n    'critical', 'major', 'minor', 'warning', 'indeterminate', 'informational'\n]\nCOLUMNS = [\n  'severity',\n  'status',\n  'lastReceiveTime',\n  'duplicateCount',\n  'environment',\n  'service',\n  'resource',\n  'event',\n  'value',\n  ]\n\nalerta.conf:\n----\n[DEFAULT]\nendpoint = http://localhost:8080/api\nkey = key\n```\n\n```\nfunc main() {\n\n\thttp.HandleFunc(\"/alert\", webhook)\n}\n\nfunc webhook(w http.ResponseWriter, r *http.Request) {\n\tdefer r.Body.Close()\n\n\tdata := alerta.AlertaStruct{}\n\tif err := json.NewDecoder(r.Body).Decode(&data); err != nil {\n\t\tasJson(w, http.StatusBadRequest, err.Error())\n\t\treturn\n\t}\n\n  alert := alerta.Parse(data)\n  log.Debug(alert)\n\n}\n```\n\n```\npackage alerta\n\nimport (\n\t\"github.com/prometheus/alertmanager/template\"\n\t\"strings\"\n)\n\ntype AlertaStruct struct {\n\tId          string   `json:id`\n\tResource    string   `json:\"resource\"`\n\tEvent       string   `json:\"event\"`\n\tEnvironment string   `json:\"environment\"`\n\tSeverity    string   `json:\"severity\"`\n\tCorrelate   []string `json:\"correlate\"`\n\tService     []string `json:\"service\"`\n\tGroup       string   `json:\"group\"`\n\tValue       string   `json:\"value\"`\n\tText        string   `json:\"text\"`\n\tTags        []string `json:\"tags\"`\n\tAttributes  struct {\n\t\tExternalUrl string `json:\"externalUrl\"`\n\t\tMoreInfo    string `json:\"moreInfo\"`\n\t\tFw_count    int    `json:\"fw_count\"`\n\t} `json:\"attributes\"`\n\tOrigin     string `json:\"origin\"`\n\tAlerttype  string `json:\"type\"`\n\tCreateTime string `json:\"createTime\"`\n\tTimeout    int    `json:\"timeout\"`\n\tRawData    string `json:\"rawData\"`\n\tCustomer   string `json:\"customer\"`\n}\n\nfunc strToMap(str []string) map[string]string {\n\tm := make(map[string]string)\n\tfor _, e := range str {\n\t\tparts := strings.Split(e, \"=\")\n\t\tif len(parts) == 1 {\n\t\t\tm[\"tags\"] = parts[0]\n\n\t\t} else {\n\t\t\tm[parts[0]] = parts[1]\n\n\t\t}\n\t}\n\treturn m\n}\n\nfunc Parse(alertaStruct AlertaStruct) template.Alert {\n\tLabels := strToMap(alertaStruct.Tags)\n\tdata := template.Alert{}\n\n\tdata.Labels = make(map[string]string)\n\tdata.Labels = Labels\n\tdata.Labels[\"severity\"] = alertaStruct.Severity\n\tdata.Labels[\"installation\"] = alertaStruct.Environment\n\tdata.Labels[\"environment\"] = alertaStruct.Environment\n\tdata.Labels[\"alertname\"] = alertaStruct.Event\n\n\tdata.Annotations = make(map[string]string)\n\tdata.Annotations[\"summary\"] = alertaStruct.Text\n\n\treturn data\n\n}\n```","html":"<pre><code>alertad<span class=\"class\">.conf<\/span>:\n---\nSECRET_KEY = <span class=\"string\">'key'<\/span>\nPLUGINS = [<span class=\"string\">'reject'<\/span>,<span class=\"string\">'prometheus'<\/span>, <span class=\"string\">'forward'<\/span>]\nFORWARD_URL = <span class=\"string\">'http://alert2all'<\/span>\nFORWARD_API_KEY = <span class=\"string\">'key2'<\/span>\nFORWARD_MAX_LENGTH = <span class=\"number\">3<\/span>\nALERTMANAGER_SILENCE_FROM_ACK = True\nALERTMANAGER_API_URL = <span class=\"string\">'http://prom-prometheus-operator-alertmanager:9093'<\/span>\nSORT_LIST_BY = <span class=\"string\">'lastReceiveTime'<\/span>\nASI_SEVERITY = [\n    <span class=\"string\">'critical'<\/span>, <span class=\"string\">'major'<\/span>, <span class=\"string\">'minor'<\/span>, <span class=\"string\">'warning'<\/span>, <span class=\"string\">'indeterminate'<\/span>, <span class=\"string\">'informational'<\/span>\n]\nCOLUMNS = [\n  <span class=\"string\">'severity'<\/span>,\n  <span class=\"string\">'status'<\/span>,\n  <span class=\"string\">'lastReceiveTime'<\/span>,\n  <span class=\"string\">'duplicateCount'<\/span>,\n  <span class=\"string\">'environment'<\/span>,\n  <span class=\"string\">'service'<\/span>,\n  <span class=\"string\">'resource'<\/span>,\n  <span class=\"string\">'event'<\/span>,\n  <span class=\"string\">'value'<\/span>,\n  ]\n\nalerta<span class=\"class\">.conf<\/span>:\n----\n[DEFAULT]\nendpoint = http:<span class=\"comment\">//localhost:8080/api<\/span>\nkey = key<\/code><\/pre><pre><code><span class=\"title\">func<\/span> main() {\n\n    http.<span class=\"type\">HandleFunc<\/span>(<span class=\"string\">\"/alert\"<\/span>, webhook)\n}\n\n<span class=\"title\">func<\/span> webhook(w http.<span class=\"type\">ResponseWriter<\/span>, r *http.<span class=\"type\">Request<\/span>) {\n    defer r.<span class=\"type\">Body<\/span>.<span class=\"type\">Close<\/span>()\n\n    <span class=\"typedef\"><span class=\"keyword\">data<\/span> := alerta.<span class=\"type\">AlertaStruct<\/span><span class=\"container\">{}<\/span><\/span>\n    <span class=\"keyword\">if<\/span> err := json.<span class=\"type\">NewDecoder<\/span>(r.<span class=\"type\">Body<\/span>).<span class=\"type\">Decode<\/span>(&amp;<span class=\"typedef\"><span class=\"keyword\">data<\/span>); err != nil <span class=\"container\">{\n        <span class=\"title\">asJson<\/span>(<span class=\"title\">w<\/span>, <span class=\"title\">http<\/span>.<span class=\"type\">StatusBadRequest<\/span>, <span class=\"title\">err<\/span>.<span class=\"type\">Error<\/span>())\n        <span class=\"title\">return<\/span>\n    }<\/span><\/span>\n\n  alert := alerta.<span class=\"type\">Parse<\/span>(<span class=\"typedef\"><span class=\"keyword\">data<\/span>)<\/span>\n  log.<span class=\"type\">Debug<\/span>(alert)\n\n}<\/code><\/pre><pre><code><span class=\"keyword\">package<\/span> alerta\n\n<span class=\"keyword\">import<\/span> (\n    <span class=\"string\">\"github.com/prometheus/alertmanager/template\"<\/span>\n    <span class=\"string\">\"strings\"<\/span>\n)\n\n<span class=\"keyword\">type<\/span> AlertaStruct <span class=\"keyword\">struct<\/span> {\n    Id          <span class=\"typename\">string<\/span>   <span class=\"string\">`json:id`<\/span>\n    Resource    <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"resource\"`<\/span>\n    Event       <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"event\"`<\/span>\n    Environment <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"environment\"`<\/span>\n    Severity    <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"severity\"`<\/span>\n    Correlate   []<span class=\"typename\">string<\/span> <span class=\"string\">`json:\"correlate\"`<\/span>\n    Service     []<span class=\"typename\">string<\/span> <span class=\"string\">`json:\"service\"`<\/span>\n    Group       <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"group\"`<\/span>\n    Value       <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"value\"`<\/span>\n    Text        <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"text\"`<\/span>\n    Tags        []<span class=\"typename\">string<\/span> <span class=\"string\">`json:\"tags\"`<\/span>\n    Attributes  <span class=\"keyword\">struct<\/span> {\n        ExternalUrl <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"externalUrl\"`<\/span>\n        MoreInfo    <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"moreInfo\"`<\/span>\n        Fw_count    <span class=\"typename\">int<\/span>    <span class=\"string\">`json:\"fw_count\"`<\/span>\n    } <span class=\"string\">`json:\"attributes\"`<\/span>\n    Origin     <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"origin\"`<\/span>\n    Alerttype  <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"type\"`<\/span>\n    CreateTime <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"createTime\"`<\/span>\n    Timeout    <span class=\"typename\">int<\/span>    <span class=\"string\">`json:\"timeout\"`<\/span>\n    RawData    <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"rawData\"`<\/span>\n    Customer   <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"customer\"`<\/span>\n}\n\n<span class=\"keyword\">func<\/span> strToMap(str []<span class=\"typename\">string<\/span>) <span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span> {\n    m := <span class=\"built_in\">make<\/span>(<span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span>)\n    <span class=\"keyword\">for<\/span> _, e := <span class=\"keyword\">range<\/span> str {\n        parts := strings.Split(e, <span class=\"string\">\"=\"<\/span>)\n        <span class=\"keyword\">if<\/span> <span class=\"built_in\">len<\/span>(parts) == <span class=\"number\">1<\/span> {\n            m[<span class=\"string\">\"tags\"<\/span>] = parts[<span class=\"number\">0<\/span>]\n\n        } <span class=\"keyword\">else<\/span> {\n            m[parts[<span class=\"number\">0<\/span>]] = parts[<span class=\"number\">1<\/span>]\n\n        }\n    }\n    <span class=\"keyword\">return<\/span> m\n}\n\n<span class=\"keyword\">func<\/span> Parse(alertaStruct AlertaStruct) template.Alert {\n    Labels := strToMap(alertaStruct.Tags)\n    data := template.Alert{}\n\n    data.Labels = <span class=\"built_in\">make<\/span>(<span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span>)\n    data.Labels = Labels\n    data.Labels[<span class=\"string\">\"severity\"<\/span>] = alertaStruct.Severity\n    data.Labels[<span class=\"string\">\"installation\"<\/span>] = alertaStruct.Environment\n    data.Labels[<span class=\"string\">\"environment\"<\/span>] = alertaStruct.Environment\n    data.Labels[<span class=\"string\">\"alertname\"<\/span>] = alertaStruct.Event\n\n    data.Annotations = <span class=\"built_in\">make<\/span>(<span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span>)\n    data.Annotations[<span class=\"string\">\"summary\"<\/span>] = alertaStruct.Text\n\n    <span class=\"keyword\">return<\/span> data\n\n}<\/code><\/pre>","sent":"2020-04-24T18:19:20.197Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32e4c36c8ae68c5939954","text":"have you written an alert handler in go for Alertmanager to forward alerts to Alerta?","html":"have you written an alert handler in go for Alertmanager to forward alerts to Alerta?","sent":"2020-04-24T18:22:04.819Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":8,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32e7bafa1f51d4e1a9333","text":"no, I am using alerta to forward alerts, alertmanger -> alerta -> myapp","html":"no, I am using alerta to forward alerts, alertmanger -&gt; alerta -&gt; myapp","sent":"2020-04-24T18:22:51.950Z","editedAt":"2020-04-24T18:22:58.436Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":8,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea32e913d7e50071c34fba7","text":"so what’s that Go code for?","html":"so what’s that Go code for?","sent":"2020-04-24T18:23:13.578Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":8,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32ea23d7e50071c34fba9","text":"is that “myapp”?","html":"is that “myapp”?","sent":"2020-04-24T18:23:30.421Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32eb25d245d59f316878c","text":"to parse alerts from alerta","html":"to parse alerts from alerta","sent":"2020-04-24T18:23:46.166Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32ebc11ffed1268317d88","text":"this is part of myapp","html":"this is part of myapp","sent":"2020-04-24T18:23:56.205Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32ee1afa1f51d4e1a9410","text":"I don't understand why this error pasted before occurs ","html":"I don&#39;t understand why this error pasted before occurs ","sent":"2020-04-24T18:24:33.126Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32ee2fe5f5d603078afcd","text":"but isn’t the error you showed above from Alerta?","html":"but isn’t the error you showed above from Alerta?","sent":"2020-04-24T18:24:34.599Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32ef1501f8f72a5012440","text":"exactly ","html":"exactly ","sent":"2020-04-24T18:24:49.325Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32f0c9b28643fdcd3fccf","text":"so you must have written a custom webhook. so where’s that code?","html":"so you must have written a custom webhook. so where’s that code?","sent":"2020-04-24T18:25:16.301Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32f5a1eb8bd3978f2639d","text":"https://github.com/alerta/alerta-contrib/tree/master/plugins/forward this is not enough?","html":"<a href=\"https://github.com/alerta/alerta-contrib/tree/master/plugins/forward\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://github.com/alerta/alerta-contrib/tree/master/plugins/forward<\/a> this is not enough?","sent":"2020-04-24T18:26:34.110Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[{"url":"https://github.com/alerta/alerta-contrib/tree/master/plugins/forward"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32f7e9a04a259f22e49be","text":"I thought I can use this plugin and then just pare alerts","html":"I thought I can use this plugin and then just pare alerts","sent":"2020-04-24T18:27:10.268Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32f839a04a259f22e49c1","text":"Am I wrong?","html":"Am I wrong?","sent":"2020-04-24T18:27:15.830Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea3314efe5f5d603078afd1","text":"do you even know that the alertmanager is sending valid json? get an example payload from alertmanager and post it manually into your webhook using curl.","html":"do you even know that the alertmanager is sending valid json? get an example payload from alertmanager and post it manually into your webhook using curl.","sent":"2020-04-24T18:34:54.795Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea33219e5ed621d4ddaebcc","text":"I think I tested this before but let me try again","html":"I think I tested this before but let me try again","sent":"2020-04-24T18:38:17.780Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true}]}};</script>

    
    <script type="text/javascript">window.webpackPublicPath = '//cdn02.gitter.im/_s/0d31b2aef/js/';</script>
    <script type="text/javascript" src="//cdn01.gitter.im/_s/0d31b2aef/js/runtime.bundle.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/vendor.chunk.js"></script>
<script type="text/javascript" src="//cdn02.gitter.im/_s/0d31b2aef/js/default.chunk.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/router-archive-chat.chunk.js"></script>
  
</body>
</html>
<!doctype html>
<html class="no-js " lang="en">
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=IE9" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <meta charset="utf-8">

    <style>
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: bold;
      src: local("SourceSansPro-Bold");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: bold;
      src: local("SourceSansPro-BoldIt");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 200;
      src: local("SourceSansPro-ExtraLight");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: italic;
      font-weight: normal;
      src: local("SourceSansPro-It");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 300;
      src: local("SourceSansPro-Light");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: normal;
      src: local("SourceSansPro-Regular");
    }
    @font-face {
      font-family: 'SourceSansLocal';
      font-style: normal;
      font-weight: 600;
      src: local("SourceSansPro-Semibold");
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Regular.otf.woff") format('woff');
      font-weight: normal;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-It.otf.woff") format('woff');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Bold.otf.woff") format('woff');
      font-weight: bold;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Semibold.otf.woff") format('woff');
      font-weight: 600;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-BoldIt.otf.woff") format('woff');
      font-weight: bold;
      font-style: italic
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-Light.otf.woff") format('woff');
      font-weight: 300;
      font-style: normal
    }
    @font-face {
      font-family: "source-sans-pro";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/fonts/sourcesans/SourceSansPro-ExtraLight.otf.woff") format('woff');
      font-weight: 200;
      font-style: normal
    }
    @font-face {
      font-family: "KaTeX_AMS";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_AMS-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Caligraphic";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Caligraphic-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Fraktur";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Fraktur-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Main";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Main-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-BoldItalic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Math";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Math-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff") format('woff');
        src: url("//cdn01.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Bold.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Italic.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_SansSerif";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_SansSerif-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Script";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Script-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size1";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size1-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size2";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size2-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size3";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size3-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Size4";
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff") format('woff');
        src: url("//cdn03.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Size4-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
    @font-face {
      font-family: "KaTeX_Typewriter";
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff") format('woff');
        src: url("//cdn02.gitter.im/_s/0d31b2aef/repo/katex/fonts-0.10.0/KaTeX_Typewriter-Regular.woff2") format('woff2');
      font-weight: normal;
      font-style: italic
    }
  </style>

  <title>alerta/chat - Gitter</title>

  <style>

  @-webkit-keyframes pulsey {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
  }

  html.loading .trpContentPanel { background: url("//cdn01.gitter.im/_s/0d31b2aef/images/logo-mark-grey-64.png") center no-repeat; height: 90%; -webkit-animation: pulsey 2s ease-out; -webkit-animation-iteration-count: infinite;  }
  html.loading .trpContentPanel > * { visibility: hidden; }
  </style>
  <base target="_parent">
  <link rel="stylesheet" href='//cdn01.gitter.im/_s/0d31b2aef/sprites/services.css'>
  <link rel="stylesheet" href='//cdn02.gitter.im/_s/0d31b2aef/styles/router-archive-chat.css'>
  <link id="favicon" rel="shortcut icon" href="//cdn02.gitter.im/_s/0d31b2aef/images/favicon.ico">
</head>
<body class="logged-out">
  <div class="chat-and-toolbar-wrapper archive">
    <div class="right-toolbar-region">
      <div class="right-toolbar" style="overflow: auto">
        <div class="gtrArchiveToolbarWrapper">
            <div class="gtrArchiveInfoContainer">
                <div class="gtrArchiveLogo">
                  <div class="logo-container"></div>
                </div>
                <div class="gtrArchiveInfo">
                  <p>These are chat archives for <strong>alerta/chat</strong></p>
                </div>
            </div>

          <div id="archive-navigation" class="gtrArchiveNavigationWrapper"><div class="gtrArchiveNavigationInner">
  <div class="gtrArchiveDate">
    <a href="/alerta/chat/archives/2020/04/25"><i class="gtrArchiveNext octicon octicon-chevron-right"></i></a>
    <a href="/alerta/chat/archives/2020/04/23"><i class="gtrArchivePrev octicon octicon-chevron-left"></i></a>
    <div class="gtrArchiveToday">
      <span class="gtrArchiveDay">24<sup>th</sup></span><br>
      <span class="gtrArchiveMonth">Apr 2020</span>
    </div>
  </div>

  <div class="archive-toggle-navigation-action-holder">
    <button class="button-jaffa--small js-toggle-archive-navigation">Toggle Heatmap</button>
  </div>
  <div id="archive-navigation" class="gtrArchiveCalendar js-archive-navigation-wrapper">
  </div>
</div>
</div>
            <div class="archive-right-toolbar-button-wrapper">
              <a href="/login?action=login&amp;button=archive-login" class="archive-right-toolbar-button button-caribbean">Sign in to start talking</a>
            </div>
        </div>
      </div>
    </div>
    <div class="chat-app">
      <div class="chat-header" id="header-wrapper">
        <div id="header" class="chat-header-inner">
          <div class="chat-header__main-grouping chat-header__left-menu-toggle-grouping">
  <button class="chat-header__left-menu-toggle js-header-view-left-menu-toggle">
    <svg class="chat-header__action-icon" viewBox="0 0 26 22">
      <path d="M0,2 l26,0" />
      <path d="M0,11 l26,0" />
      <path d="M0,20 l26,0" />
    </svg>
  </button>
</div>

<div class="chat-header__main-grouping chat-header__avatar-grouping">
  <form
    class="chat-header__avatar  js-chat-header-group-avatar-upload-form"
    action=""
    enctype="multipart/form-data"
    method="POST">
    <input type="hidden" class="js-chat-header-group-avatar-upload-signature" name="signature" value="">
    <input type="hidden" class="js-chat-header-group-avatar-upload-params" name="params" value="">
    <input
      id="chat-header-group-avatar-upload-input"
      class="chat-header__group-avatar-upload-input js-chat-header-group-avatar-upload-input"
      name="file"
      type="file"
      accept="image/*"
      disabled />
    <label
      class="chat-header__group-avatar-upload-label js-chat-header-group-avatar-upload-label"
      for="chat-header-group-avatar-upload-input"
      >
      <img class="js-chat-header-avatar-image"  height='48' width='48' src='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=48' srcset='https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b?s=96 2x' >
      <div class="chat-header__group-avatar-upload-progress hidden js-chat-header-group-avatar-upload-progress"></div>
    </label>
  </form>
</div>

<div class="chat-header__main-grouping chat-header__info-grouping">
  <div class="chat-header__heading-sub-group">
    <h1 class="js-chat-name chat-header__heading">
      <a href="/alerta/chat" class="chat-header__title">alerta/chat</a>
    </h1>
  </div>
  <div class="chat-header__topic-sub-group js-room-topic-edit-activator" tabindex="0">
    <div class="chat-header__topic-wrapper js-room-topic-wrapper  "><p class="js-room-topic chat-header__topic  ">Alerta web next gen https://beta.alerta.io</p></div>
  </div>
</div>


<div class="chat-header__main-grouping chat-header__action-grouping">
    <a href="/orgs/alerta/rooms" class="chat-header__org-page org-page-link js-chat-header-org-page-action" title="More alerta rooms">
      <i class="chat-header__action-icon icon-globe"></i>
    </a>

</div>

        </div>
      </div>
      <div class="trpContentPanel archive" id="content-wrapper">
  <div class="trpChatPanel">
    <div class="trpChatContainer  primary-scroll  chat-container" id="content-frame">

      <div id="chat-container" role="list">
        <div>
            <div class="chat-item model-id-5ea241f95d245d59f313ec1a burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5cda3bc8d73408ce4fc03205 avatar-s offline  ">
  <img src="https://avatars1.githubusercontent.com/u/23578964?v=4&amp;s=30" srcset="https://avatars1.githubusercontent.com/u/23578964?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Mochammad Syaifuddin</div>
      <div class='chat-item__username js-chat-item-from'>@roboticpuppies</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea241f95d245d59f313ec1a' title="">Apr 24 01:33 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> yes, but how to tell alerta to <strong>only expire / close</strong> an alert if the last receive time is more than 1 hour, but not deleting them?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea276b294ac2758e304c309 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea276b294ac2758e304c309' title="">Apr 24 05:18 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="mdfischer" class="mention">@mdfischer</span> weird. Can you get the http get response body for <code>/alerts</code>?  You should be ble to see it in the browser console network tab. Also can you share the code you use to generate the heartbeat? Thanks. 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea29f19a29ab24ea0b80da8 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea29f19a29ab24ea0b80da8' title="">Apr 24 08:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="wo250012" class="mention">@wo250012</span> try …<pre><code><span class="tag">NOT</span> <span class="tag">resource</span><span class="pseudo">:prd</span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2ef9511ffed1268309f30 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5da7a6bfd73408ce4fce19dc avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/54080089?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/54080089?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Howie</div>
      <div class='chat-item__username js-chat-item-from'>@wo250012</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea2ef9511ffed1268309f30' title="">Apr 24 13:54 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I get this: Unknown top level operator: $not (500)
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2f94611ffed126830c4b2 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea2f94611ffed126830c4b2' title="">Apr 24 14:35 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      hi <span data-link-type="mention" data-screen-name="satterly" class="mention">@satterly</span> I was checking new versions as havent upgrade alerta for a while and latest in github says 7.4.6
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2f967568e5258e4803199 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      however seems not available in pypi <a href="https://pypi.org/project/alerta/#history" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://pypi.org/project/alerta/#history</a>, but I see there the 7.5.0
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea2f9f72bf9ef12699fe1ca burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      should we go for 7.5.0? I&#39;m checking commits, any remarkable change in 7.5 to be aware?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3096d9b28643fdcd3fc7e burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea3096d9b28643fdcd3fc7e' title="">Apr 24 15:44 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I’ve added the missing releases on github and PyPI. If you’re going to upgrade go with 7.5.1 which adds operator notes for alerts.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea30c2b9b28643fdcd3fc8c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea30c2b9b28643fdcd3fc8c' title="">Apr 24 15:56 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="wo250012" class="mention">@wo250012</span> oh. ok. it works in postgres. let me check mongo.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea30e0fa634f42f7afe5d78 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea30e0fa634f42f7afe5d78' title="">Apr 24 16:04 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      in 7.5.0 I got app.wsgi: No such file
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea30e123c03d32062660d3e burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      did that change?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea31027fe5f5d603078af96 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea31027fe5f5d603078af96' title="">Apr 24 16:13 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      yes, i guess. didn’t realise anyone was using it. it’s moved up a directory and is called <code>wsgi.py</code> now.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea31046e39c7720ddccb6fc burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      i forget why i did that. i think because it is automatically discovered by something.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3139b568e5258e48093b2 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea3139b568e5258e48093b2' title="">Apr 24 16:28 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      mm weird can&#39;t see it since 7.4.5 apparently
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea313a79a04a259f22df426 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code>moix@localhost.internal alertaio<span class="preprocessor"># find . -name app.wsgi</span>
./<span class="number">7.4</span><span class="number">.5</span>/venv/lib/python3<span class="number">.6</span>/site-packages/alerta/app.wsgi
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/alerta/app.wsgi
moix@localhost.internal alertaio<span class="preprocessor"># find . -name wsgi.py</span>
./<span class="number">7.4</span><span class="number">.5</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.4</span><span class="number">.5</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py
./<span class="number">7.5</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.5</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/raven/utils/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/raven/contrib/django/middleware/wsgi.py
./<span class="number">7.3</span><span class="number">.0</span>/venv/lib/python3<span class="number">.6</span>/site-packages/raven/contrib/django/raven_compat/middleware/wsgi.py
./<span class="number">7.4</span><span class="number">.6</span>/venv/lib/python3<span class="number">.6</span>/site-packages/sentry_sdk/integrations/wsgi.py
./<span class="number">7.4</span><span class="number">.6</span>/venv/lib/python3<span class="number">.6</span>/site-packages/werkzeug/wsgi.py</code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea317b62bf9ef1269a0559c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5d14be9bd73408ce4fc4a8a1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/569132?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>moix</div>
      <div class='chat-item__username js-chat-item-from'>@moix</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea317b62bf9ef1269a0559c' title="">Apr 24 16:45 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      ok see what you mean, it is in the root of the repo (<a href="https://github.com/alerta/alerta/blob/master/wsgi.py" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://github.com/alerta/alerta/blob/master/wsgi.py</a>) but not included in the package
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea320763c03d32062664dea burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea320763c03d32062664dea' title="">Apr 24 17:23 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code>2020-04-24 15:40:48,908 flask.app[76]: [ERROR] Expecting value: line 1 column 1 (char 0) request_id=2b09a3f4-2168-42df-9c20-2219b83bb893 ip=10.28.2.7
Traceback (most recent <span class="operator"><span class="keyword">call</span> <span class="keyword">last</span>):
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py"</span>, line <span class="number">52</span>, <span class="keyword">in</span> custom
    alert = process_alert(alert)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/utils/api.py"</span>, line <span class="number">73</span>, <span class="keyword">in</span> process_alert
    <span class="keyword">updated</span> = <span class="keyword">plugin</span>.post_receive(alert)  # <span class="keyword">for</span> backward <span class="keyword">compatibility</span>
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta_forward.py"</span>, line <span class="number">38</span>, <span class="keyword">in</span> post_receive
    **alert.serialize
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alertaclient/api.py"</span>, line <span class="number">66</span>, <span class="keyword">in</span> send_alert
    r = <span class="keyword">self</span>.<span class="keyword">http</span>.post(<span class="string">'/alert'</span>, <span class="keyword">data</span>)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alertaclient/api.py"</span>, line <span class="number">563</span>, <span class="keyword">in</span> post
    <span class="keyword">return</span> <span class="keyword">self</span>._handle_error(response)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alertaclient/api.py"</span>, line <span class="number">586</span>, <span class="keyword">in</span> _handle_error
    resp = response.<span class="keyword">json</span>()
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/requests/models.py"</span>, line <span class="number">897</span>, <span class="keyword">in</span> <span class="keyword">json</span>
    <span class="keyword">return</span> complexjson.loads(<span class="keyword">self</span>.<span class="built_in">text</span>, **kwargs)
  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python3.7/json/__init__.py"</span>, line <span class="number">348</span>, <span class="keyword">in</span> loads
    <span class="keyword">return</span> _default_decoder.<span class="keyword">decode</span>(s)
  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python3.7/json/decoder.py"</span>, line <span class="number">337</span>, <span class="keyword">in</span> <span class="keyword">decode</span>
    obj, <span class="keyword">end</span> = <span class="keyword">self</span>.raw_decode(s, idx=_w(s, <span class="number">0</span>).<span class="keyword">end</span>())
  <span class="keyword">File</span> <span class="string">"/usr/local/lib/python3.7/json/decoder.py"</span>, line <span class="number">355</span>, <span class="keyword">in</span> raw_decode
    <span class="keyword">raise</span> JSONDecodeError(<span class="string">"Expecting value"</span>, s, err.<span class="keyword">value</span>) <span class="keyword">from</span> <span class="keyword">None</span>
<span class="keyword">json</span>.decoder.JSONDecodeError: Expecting <span class="keyword">value</span>: line <span class="number">1</span> <span class="keyword">column</span> <span class="number">1</span> (<span class="built_in">char</span> <span class="number">0</span>)

During handling <span class="keyword">of</span> the above <span class="keyword">exception</span>, another <span class="keyword">exception</span> occurred:

Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/flask/app.py"</span>, line <span class="number">1813</span>, <span class="keyword">in</span> full_dispatch_request
    rv = <span class="keyword">self</span>.dispatch_request()
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/flask/app.py"</span>, line <span class="number">1799</span>, <span class="keyword">in</span> dispatch_request
    <span class="keyword">return</span> <span class="keyword">self</span>.view_functions[rule.endpoint](**req.view_args)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/flask_cors/decorator.py"</span>, line <span class="number">128</span>, <span class="keyword">in</span> wrapped_function
    resp = make_response(<span class="keyword">f</span>(*args, **kwargs))
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/auth/decorators.py"</span>, line <span class="number">53</span>, <span class="keyword">in</span> <span class="keyword">wrapped</span>
    <span class="keyword">return</span> <span class="keyword">f</span>(*args, **kwargs)
  <span class="keyword">File</span> <span class="string">"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py"</span>, line <span class="number">66</span>, <span class="keyword">in</span> custom
    <span class="keyword">raise</span> ApiError(<span class="keyword">str</span>(<span class="keyword">e</span>), <span class="number">500</span>)
alerta.<span class="keyword">exceptions</span>.ApiError: Expecting <span class="keyword">value</span>: line <span class="number">1</span> <span class="keyword">column</span> <span class="number">1</span> (<span class="built_in">char</span> <span class="number">0</span>)</span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3209f5d245d59f3165d94 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      my custom receiver is broken?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ad7e5ed621d4ddad753 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32ad7e5ed621d4ddad753' title="">Apr 24 18:07 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
       I am trying to forward alerts from alertmanager
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32af93d7e50071c34fb9e burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32af93d7e50071c34fb9e' title="">Apr 24 18:07 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      it’s not json
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b0fe5ed621d4ddad7f9 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b0fe5ed621d4ddad7f9' title="">Apr 24 18:08 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      what do you mean?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b45b6e286076218169b burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b45b6e286076218169b' title="">Apr 24 18:09 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      it looks like it’s trying to parse the body as json but it’s not json.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b569b28643fdcd3fcc9 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      what are you sending?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b7d9a04a259f22e3df7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b7d9a04a259f22e3df7' title="">Apr 24 18:10 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code><span class="setting">PLUGINS = <span class="value">[<span class="string">'reject'</span>,<span class="string">'prometheus'</span>, <span class="string">'forward'</span>]</span></span>
<span class="setting">FORWARD_URL = <span class="value"><span class="string">'http://alert2all'</span></span></span>
<span class="setting">FORWARD_API_KEY = <span class="value"><span class="string">'key'</span></span></span>
<span class="setting">FORWARD_MAX_LENGTH = <span class="value"><span class="number">3</span></span></span></code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32b866a830a49d3ee49fb burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32b866a830a49d3ee49fb' title="">Apr 24 18:10 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="moix" class="mention">@moix</span> do you need the wsgi file? How were you using it? copying it to where you need it or were you referencing it where it was?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32be01e3d5e206340a814 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32be01e3d5e206340a814' title="">Apr 24 18:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      my flow: alertmanger -&gt; alerta -&gt; alert2all
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32be1a29ab24ea0b80edd burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32be1a29ab24ea0b80edd' title="">Apr 24 18:11 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <span data-link-type="mention" data-screen-name="FL3SH" class="mention">@FL3SH</span> is there code to go with the config?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32c61501f8f72a5011d94 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32c61501f8f72a5011d94' title="">Apr 24 18:13 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I don&#39;t understand so the problem is with parsing alert from alermanger?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32c95b6e286076218169d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32c95b6e286076218169d' title="">Apr 24 18:14 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      impossible for me to know because you haven’t shown me any code.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32da811ffed1268317acb burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32da811ffed1268317acb' title="">Apr 24 18:19 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <pre><code>alertad<span class="class">.conf</span>:
---
SECRET_KEY = <span class="string">'key'</span>
PLUGINS = [<span class="string">'reject'</span>,<span class="string">'prometheus'</span>, <span class="string">'forward'</span>]
FORWARD_URL = <span class="string">'http://alert2all'</span>
FORWARD_API_KEY = <span class="string">'key2'</span>
FORWARD_MAX_LENGTH = <span class="number">3</span>
ALERTMANAGER_SILENCE_FROM_ACK = True
ALERTMANAGER_API_URL = <span class="string">'http://prom-prometheus-operator-alertmanager:9093'</span>
SORT_LIST_BY = <span class="string">'lastReceiveTime'</span>
ASI_SEVERITY = [
    <span class="string">'critical'</span>, <span class="string">'major'</span>, <span class="string">'minor'</span>, <span class="string">'warning'</span>, <span class="string">'indeterminate'</span>, <span class="string">'informational'</span>
]
COLUMNS = [
  <span class="string">'severity'</span>,
  <span class="string">'status'</span>,
  <span class="string">'lastReceiveTime'</span>,
  <span class="string">'duplicateCount'</span>,
  <span class="string">'environment'</span>,
  <span class="string">'service'</span>,
  <span class="string">'resource'</span>,
  <span class="string">'event'</span>,
  <span class="string">'value'</span>,
  ]

alerta<span class="class">.conf</span>:
----
[DEFAULT]
endpoint = http:<span class="comment">//localhost:8080/api</span>
key = key</code></pre><pre><code><span class="title">func</span> main() {

    http.<span class="type">HandleFunc</span>(<span class="string">"/alert"</span>, webhook)
}

<span class="title">func</span> webhook(w http.<span class="type">ResponseWriter</span>, r *http.<span class="type">Request</span>) {
    defer r.<span class="type">Body</span>.<span class="type">Close</span>()

    <span class="typedef"><span class="keyword">data</span> := alerta.<span class="type">AlertaStruct</span><span class="container">{}</span></span>
    <span class="keyword">if</span> err := json.<span class="type">NewDecoder</span>(r.<span class="type">Body</span>).<span class="type">Decode</span>(&amp;<span class="typedef"><span class="keyword">data</span>); err != nil <span class="container">{
        <span class="title">asJson</span>(<span class="title">w</span>, <span class="title">http</span>.<span class="type">StatusBadRequest</span>, <span class="title">err</span>.<span class="type">Error</span>())
        <span class="title">return</span>
    }</span></span>

  alert := alerta.<span class="type">Parse</span>(<span class="typedef"><span class="keyword">data</span>)</span>
  log.<span class="type">Debug</span>(alert)

}</code></pre><pre><code><span class="keyword">package</span> alerta

<span class="keyword">import</span> (
    <span class="string">"github.com/prometheus/alertmanager/template"</span>
    <span class="string">"strings"</span>
)

<span class="keyword">type</span> AlertaStruct <span class="keyword">struct</span> {
    Id          <span class="typename">string</span>   <span class="string">`json:id`</span>
    Resource    <span class="typename">string</span>   <span class="string">`json:"resource"`</span>
    Event       <span class="typename">string</span>   <span class="string">`json:"event"`</span>
    Environment <span class="typename">string</span>   <span class="string">`json:"environment"`</span>
    Severity    <span class="typename">string</span>   <span class="string">`json:"severity"`</span>
    Correlate   []<span class="typename">string</span> <span class="string">`json:"correlate"`</span>
    Service     []<span class="typename">string</span> <span class="string">`json:"service"`</span>
    Group       <span class="typename">string</span>   <span class="string">`json:"group"`</span>
    Value       <span class="typename">string</span>   <span class="string">`json:"value"`</span>
    Text        <span class="typename">string</span>   <span class="string">`json:"text"`</span>
    Tags        []<span class="typename">string</span> <span class="string">`json:"tags"`</span>
    Attributes  <span class="keyword">struct</span> {
        ExternalUrl <span class="typename">string</span> <span class="string">`json:"externalUrl"`</span>
        MoreInfo    <span class="typename">string</span> <span class="string">`json:"moreInfo"`</span>
        Fw_count    <span class="typename">int</span>    <span class="string">`json:"fw_count"`</span>
    } <span class="string">`json:"attributes"`</span>
    Origin     <span class="typename">string</span> <span class="string">`json:"origin"`</span>
    Alerttype  <span class="typename">string</span> <span class="string">`json:"type"`</span>
    CreateTime <span class="typename">string</span> <span class="string">`json:"createTime"`</span>
    Timeout    <span class="typename">int</span>    <span class="string">`json:"timeout"`</span>
    RawData    <span class="typename">string</span> <span class="string">`json:"rawData"`</span>
    Customer   <span class="typename">string</span> <span class="string">`json:"customer"`</span>
}

<span class="keyword">func</span> strToMap(str []<span class="typename">string</span>) <span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span> {
    m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)
    <span class="keyword">for</span> _, e := <span class="keyword">range</span> str {
        parts := strings.Split(e, <span class="string">"="</span>)
        <span class="keyword">if</span> <span class="built_in">len</span>(parts) == <span class="number">1</span> {
            m[<span class="string">"tags"</span>] = parts[<span class="number">0</span>]

        } <span class="keyword">else</span> {
            m[parts[<span class="number">0</span>]] = parts[<span class="number">1</span>]

        }
    }
    <span class="keyword">return</span> m
}

<span class="keyword">func</span> Parse(alertaStruct AlertaStruct) template.Alert {
    Labels := strToMap(alertaStruct.Tags)
    data := template.Alert{}

    data.Labels = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)
    data.Labels = Labels
    data.Labels[<span class="string">"severity"</span>] = alertaStruct.Severity
    data.Labels[<span class="string">"installation"</span>] = alertaStruct.Environment
    data.Labels[<span class="string">"environment"</span>] = alertaStruct.Environment
    data.Labels[<span class="string">"alertname"</span>] = alertaStruct.Event

    data.Annotations = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)
    data.Annotations[<span class="string">"summary"</span>] = alertaStruct.Text

    <span class="keyword">return</span> data

}</code></pre>
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32e4c36c8ae68c5939954 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32e4c36c8ae68c5939954' title="">Apr 24 18:22 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      have you written an alert handler in go for Alertmanager to forward alerts to Alerta?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32e7bafa1f51d4e1a9333 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32e7bafa1f51d4e1a9333' title="">Apr 24 18:22 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      no, I am using alerta to forward alerts, alertmanger -&gt; alerta -&gt; myapp
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32e913d7e50071c34fba7 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32e913d7e50071c34fba7' title="">Apr 24 18:23 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      so what’s that Go code for?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ea23d7e50071c34fba9 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      is that “myapp”?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32eb25d245d59f316878c burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32eb25d245d59f316878c' title="">Apr 24 18:23 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      to parse alerts from alerta
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ebc11ffed1268317d88 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      this is part of myapp
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ee1afa1f51d4e1a9410 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      I don&#39;t understand why this error pasted before occurs 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ee2fe5f5d603078afcd burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32ee2fe5f5d603078afcd' title="">Apr 24 18:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      but isn’t the error you showed above from Alerta?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32ef1501f8f72a5012440 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32ef1501f8f72a5012440' title="">Apr 24 18:24 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      exactly 
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f0c9b28643fdcd3fccf burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32f0c9b28643fdcd3fccf' title="">Apr 24 18:25 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      so you must have written a custom webhook. so where’s that code?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f5a1eb8bd3978f2639d burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea32f5a1eb8bd3978f2639d' title="">Apr 24 18:26 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      <a href="https://github.com/alerta/alerta-contrib/tree/master/plugins/forward" rel="nofollow noopener noreferrer" target="_blank" class="link ">https://github.com/alerta/alerta-contrib/tree/master/plugins/forward</a> this is not enough?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f7e9a04a259f22e49be burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      I thought I can use this plugin and then just pare alerts
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea32f839a04a259f22e49c1 burstContinued read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__content'>
    <div class='chat-item__text js-chat-item-text'>
      Am I wrong?
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea3314efe5f5d603078afd1 burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5609cf680fc9f982beb22262 avatar-s offline  ">
  <img src="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=30" srcset="https://avatars0.githubusercontent.com/u/615057?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>Nick Satterly</div>
      <div class='chat-item__username js-chat-item-from'>@satterly</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea3314efe5f5d603078afd1' title="">Apr 24 18:34 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      do you even know that the alertmanager is sending valid json? get an example payload from alertmanager and post it manually into your webhook using curl.
    </div>
  </div>
</div>
</div>
            <div class="chat-item model-id-5ea33219e5ed621d4ddaebcc burstStart read  " role="listitem"><div class='chat-item__container'>
  <div class='chat-item__aside'>
    <div class="chat-item__avatar">
      <div
  class="trpDisplayPicture avatar-5dc40e7cd73408ce4fd047f1 avatar-s offline  ">
  <img src="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=30" srcset="https://avatars2.githubusercontent.com/u/9084725?v=4&amp;s=60 2x" height="30" width="30" class="avatar__image" alt="">
  
</div>

    </div>
  </div>
  <div class='chat-item__content'>
    <div class='chat-item__details'>
      <div class='chat-item__from js-chat-item-from'>FL3SH</div>
      <div class='chat-item__username js-chat-item-from'>@FL3SH</div>
      <a class='chat-item__time js-chat-time'  href='https://gitter.im/alerta/chat/archives/2020/04/24?at=5ea33219e5ed621d4ddaebcc' title="">Apr 24 18:38 UTC</a>
    </div>
    <div class='chat-item__text js-chat-item-text'>
      I think I tested this before but let me try again
    </div>
  </div>
</div>
</div>
        </div>
      </div>

      <div id='initial' style="height:0;width:0;overflow:hidden"><a name="initial"/>_</a></div>
    </div>
  </div>
</div>

    </div>
  </div>

    <script type="text/javascript">window.gitterClientEnv = {"lang":"en","domain":"gitter.im","baseServer":"gitter.im","basePath":"https://gitter.im","apiBasePath":"https://gitter.im/api","homeUrl":"/","badgeBaseUrl":"https://badges.gitter.im","googleTrackingId":"UA-45918290-1","googleTrackingDomain":"gitter.im","env":"prod","cdns":["cdn01.gitter.im","cdn02.gitter.im","cdn03.gitter.im"],"version":"0d31b2","assetTag":"0d31b2aef","logging":false,"ravenUrl":"https://a1bf037f1d5f46f28b8e3b3e82024654@sentry.gitlab.net/42","websockets":{"fayeUrl":"https://ws.gitter.im/bayeux","options":{"timeout":120,"retry":2}},"avatarsUrl":"https://avatars.gitter.im","avatarCdns":["https://avatars-01.gitter.im","https://avatars-02.gitter.im","https://avatars-03.gitter.im","https://avatars-04.gitter.im","https://avatars-05.gitter.im"],"vapidAppServerKey":"BMhrlZd_I5OFJSJQTbg2mZ5PTHarzenwsKfsRd8C0-HRBygpDj9O3M4VTJIQfB9VPDjAoO_w2eg7Sj_cMXzuLwI","headlineNumbers":{"gitterUsers":"800K+","gitterRooms":"300K+","gitterGroups":"90K+","gitterCountries":"100+"},"inviteEmailAbuseThresholdPerDay":10};window.troupeContext = {"accessToken":"$1atwluiEZxn2/AvOS7GJajwyYOLr77zBOLwtpyN7pY4=","isNativeDesktopApp":false,"locale":{"%d unread message":{"one":"%d unread message","other":"%d unread messages"},"Unread messages in %%s, %%s and one other":{"one":"Unread messages in %%s, %%s and one other","other":"Unread messages in %%s, %%s and %d others"},"Unread messages in %s":"Unread messages in %s","Unread messages in %s and %s":"Unread messages in %s and %s","Unread messages from %s":"Unread messages from %s","Unread messages from %s and %s":"Unread messages from %s and %s","Unread messages from %%s, %%s and one other":{"one":"Unread messages from %%s, %%s and one other","other":"Unread messages from %%s, %%s and %d others"},"Gitter is available in all modern browsers as well as apps for desktops.":"Gitter is available in all modern browsers as well as apps for desktops.","Mac":"Mac","Windows":"Windows","Linux 32":"Linux 32","Linux 64":"Linux 64","The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.":"The above Mac installer is a signed version of 1.177 (backed by Safari). For an unsigned 4.1.0 installer (backed by <a %s>NW.js<\/a>), <a %s>click here to download<\/a>.","Mac users on 10.9 or lower, <a %s>download here<\/a>.":"Mac users on 10.9 or lower, <a %s>download here<\/a>.","We also have a sweet little <a %s>IRC bridge<\/a>.":"We also have a sweet little <a %s>IRC bridge<\/a>.","The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.":"The dedicated Android/iOS apps are no longer recommended and may be officially <a href='%s'>deprecated in the future<\/a>. For mobile, we recommend using the mobile web version in your browser.","Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.":"Our efforts are focused on the <a %s>webapp<\/a> which is the backbone of the mobile/desktop apps but mainly focused on the web experience. There are a number of bugs in these desktop/mobile clients and they spread the Gitter team too thin for us to give them proper attention. The apps are open-source if you want to tackle something particularly annoying to you.","desktop":"desktop","iOS":"iOS","Android":"Android","Support":"Support","API":"API","Blog":"Blog","Twitter":"Twitter"},"roomMember":false,"user":null,"troupe":{"id":"5609cf450fc9f982beb2225c","name":"alerta/chat","topic":"Alerta web next gen https://beta.alerta.io","avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b","uri":"alerta/chat","userCount":378,"url":"/alerta/chat","githubType":"ORG_CHANNEL","associatedRepo":false,"security":"PUBLIC","providers":["github"],"groupId":"57542c98c43b8c6019774b6b","group":{"id":"57542c98c43b8c6019774b6b","name":"alerta","uri":"alerta","homeUri":"alerta/home","backedBy":{"type":"GH_ORG","linkPath":"alerta"},"avatarUrl":"https://avatars-02.gitter.im/group/iv/4/57542c98c43b8c6019774b6b"},"backend":{"type":"GH_ORG","linkPath":"alerta"},"public":true,"v":3},"roomHasWelcomeMessage":false,"archive":{"archiveDate":"2020-04-24T00:00:00.000Z","nextDate":"2020-04-25T23:59:59.999Z","previousDate":"2020-04-23T00:00:00.000Z","messages":[{"id":"5ea241f95d245d59f313ec1a","text":"@satterly yes, but how to tell alerta to **only expire / close** an alert if the last receive time is more than 1 hour, but not deleting them?","html":"<span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> yes, but how to tell alerta to <strong>only expire / close<\/strong> an alert if the last receive time is more than 1 hour, but not deleting them?","sent":"2020-04-24T01:33:45.868Z","fromUser":{"id":"5cda3bc8d73408ce4fc03205","username":"roboticpuppies","displayName":"Mochammad Syaifuddin","url":"/roboticpuppies","avatarUrl":"https://avatars-02.gitter.im/gh/uv/4/roboticpuppies","avatarUrlSmall":"https://avatars1.githubusercontent.com/u/23578964?v=4&s=60","avatarUrlMedium":"https://avatars1.githubusercontent.com/u/23578964?v=4&s=128","v":11,"gv":"4"},"readBy":9,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea276b294ac2758e304c309","text":"@mdfischer weird. Can you get the http get response body for `/alerts`?  You should be ble to see it in the browser console network tab. Also can you share the code you use to generate the heartbeat? Thanks. ","html":"<span data-link-type=\"mention\" data-screen-name=\"mdfischer\" class=\"mention\">@mdfischer<\/span> weird. Can you get the http get response body for <code>/alerts<\/code>?  You should be ble to see it in the browser console network tab. Also can you share the code you use to generate the heartbeat? Thanks. ","sent":"2020-04-24T05:18:42.390Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":7,"urls":[],"mentions":[{"screenName":"mdfischer","userId":"5e509f11d73408ce4fda5e13","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea29f19a29ab24ea0b80da8","text":"@wo250012 try …\n```\nNOT resource:prd\n```","html":"<span data-link-type=\"mention\" data-screen-name=\"wo250012\" class=\"mention\">@wo250012<\/span> try …<pre><code><span class=\"tag\">NOT<\/span> <span class=\"tag\">resource<\/span><span class=\"pseudo\">:prd<\/span><\/code><\/pre>","sent":"2020-04-24T08:11:05.371Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[{"screenName":"wo250012","userId":"5da7a6bfd73408ce4fce19dc","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea2ef9511ffed1268309f30","text":"I get this: Unknown top level operator: $not (500)","html":"I get this: Unknown top level operator: $not (500)","sent":"2020-04-24T13:54:29.342Z","fromUser":{"id":"5da7a6bfd73408ce4fce19dc","username":"wo250012","displayName":"Howie","url":"/wo250012","avatarUrl":"https://avatars-05.gitter.im/gh/uv/4/wo250012","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/54080089?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/54080089?v=4&s=128","v":7,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea2f94611ffed126830c4b2","text":"hi @satterly I was checking new versions as havent upgrade alerta for a while and latest in github says 7.4.6","html":"hi <span data-link-type=\"mention\" data-screen-name=\"satterly\" class=\"mention\">@satterly<\/span> I was checking new versions as havent upgrade alerta for a while and latest in github says 7.4.6","sent":"2020-04-24T14:35:50.487Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[{"screenName":"satterly","userId":"5609cf680fc9f982beb22262","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea2f967568e5258e4803199","text":"however seems not available in pypi https://pypi.org/project/alerta/#history, but I see there the 7.5.0","html":"however seems not available in pypi <a href=\"https://pypi.org/project/alerta/#history\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://pypi.org/project/alerta/#history<\/a>, but I see there the 7.5.0","sent":"2020-04-24T14:36:23.935Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[{"url":"https://pypi.org/project/alerta/#history"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea2f9f72bf9ef12699fe1ca","text":"should we go for 7.5.0? I'm checking commits, any remarkable change in 7.5 to be aware?","html":"should we go for 7.5.0? I&#39;m checking commits, any remarkable change in 7.5 to be aware?","sent":"2020-04-24T14:38:47.891Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea3096d9b28643fdcd3fc7e","text":"I’ve added the missing releases on github and PyPI. If you’re going to upgrade go with 7.5.1 which adds operator notes for alerts.","html":"I’ve added the missing releases on github and PyPI. If you’re going to upgrade go with 7.5.1 which adds operator notes for alerts.","sent":"2020-04-24T15:44:45.219Z","editedAt":"2020-04-24T15:44:53.795Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea30c2b9b28643fdcd3fc8c","text":"@wo250012 oh. ok. it works in postgres. let me check mongo.","html":"<span data-link-type=\"mention\" data-screen-name=\"wo250012\" class=\"mention\">@wo250012<\/span> oh. ok. it works in postgres. let me check mongo.","sent":"2020-04-24T15:56:27.746Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[{"screenName":"wo250012","userId":"5da7a6bfd73408ce4fce19dc","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea30e0fa634f42f7afe5d78","text":"in 7.5.0 I got app.wsgi: No such file","html":"in 7.5.0 I got app.wsgi: No such file","sent":"2020-04-24T16:04:31.494Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea30e123c03d32062660d3e","text":"did that change?","html":"did that change?","sent":"2020-04-24T16:04:34.832Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea31027fe5f5d603078af96","text":"yes, i guess. didn’t realise anyone was using it. it’s moved up a directory and is called `wsgi.py` now.","html":"yes, i guess. didn’t realise anyone was using it. it’s moved up a directory and is called <code>wsgi.py<\/code> now.","sent":"2020-04-24T16:13:27.442Z","editedAt":"2020-04-24T16:14:20.492Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea31046e39c7720ddccb6fc","text":"i forget why i did that. i think because it is automatically discovered by something.","html":"i forget why i did that. i think because it is automatically discovered by something.","sent":"2020-04-24T16:13:58.196Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea3139b568e5258e48093b2","text":"mm weird can't see it since 7.4.5 apparently","html":"mm weird can&#39;t see it since 7.4.5 apparently","sent":"2020-04-24T16:28:11.180Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea313a79a04a259f22df426","text":"```\nmoix@localhost.internal alertaio# find . -name app.wsgi\n./7.4.5/venv/lib/python3.6/site-packages/alerta/app.wsgi\n./7.3.0/venv/lib/python3.6/site-packages/alerta/app.wsgi\nmoix@localhost.internal alertaio# find . -name wsgi.py\n./7.4.5/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.4.5/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n./7.5.0/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.5.0/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/raven/utils/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/raven/contrib/django/middleware/wsgi.py\n./7.3.0/venv/lib/python3.6/site-packages/raven/contrib/django/raven_compat/middleware/wsgi.py\n./7.4.6/venv/lib/python3.6/site-packages/sentry_sdk/integrations/wsgi.py\n./7.4.6/venv/lib/python3.6/site-packages/werkzeug/wsgi.py\n```\n\n","html":"<pre><code>moix@localhost.internal alertaio<span class=\"preprocessor\"># find . -name app.wsgi<\/span>\n./<span class=\"number\">7.4<\/span><span class=\"number\">.5<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/alerta/app.wsgi\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/alerta/app.wsgi\nmoix@localhost.internal alertaio<span class=\"preprocessor\"># find . -name wsgi.py<\/span>\n./<span class=\"number\">7.4<\/span><span class=\"number\">.5<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.4<\/span><span class=\"number\">.5<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py\n./<span class=\"number\">7.5<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.5<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/raven/utils/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/raven/contrib/django/middleware/wsgi.py\n./<span class=\"number\">7.3<\/span><span class=\"number\">.0<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/raven/contrib/django/raven_compat/middleware/wsgi.py\n./<span class=\"number\">7.4<\/span><span class=\"number\">.6<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/sentry_sdk/integrations/wsgi.py\n./<span class=\"number\">7.4<\/span><span class=\"number\">.6<\/span>/venv/lib/python3<span class=\"number\">.6<\/span>/site-packages/werkzeug/wsgi.py<\/code><\/pre>","sent":"2020-04-24T16:28:23.466Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea317b62bf9ef1269a0559c","text":"ok see what you mean, it is in the root of the repo (https://github.com/alerta/alerta/blob/master/wsgi.py) but not included in the package","html":"ok see what you mean, it is in the root of the repo (<a href=\"https://github.com/alerta/alerta/blob/master/wsgi.py\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://github.com/alerta/alerta/blob/master/wsgi.py<\/a>) but not included in the package","sent":"2020-04-24T16:45:42.320Z","fromUser":{"id":"5d14be9bd73408ce4fc4a8a1","username":"moix","displayName":"moix","url":"/moix","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/moix","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/569132?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/569132?v=4&s=128","v":11,"gv":"4"},"readBy":5,"urls":[{"url":"https://github.com/alerta/alerta/blob/master/wsgi.py"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea320763c03d32062664dea","text":"```\n2020-04-24 15:40:48,908 flask.app[76]: [ERROR] Expecting value: line 1 column 1 (char 0) request_id=2b09a3f4-2168-42df-9c20-2219b83bb893 ip=10.28.2.7\nTraceback (most recent call last):\n  File \"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\", line 52, in custom\n    alert = process_alert(alert)\n  File \"/venv/lib/python3.7/site-packages/alerta/utils/api.py\", line 73, in process_alert\n    updated = plugin.post_receive(alert)  # for backward compatibility\n  File \"/venv/lib/python3.7/site-packages/alerta_forward.py\", line 38, in post_receive\n    **alert.serialize\n  File \"/venv/lib/python3.7/site-packages/alertaclient/api.py\", line 66, in send_alert\n    r = self.http.post('/alert', data)\n  File \"/venv/lib/python3.7/site-packages/alertaclient/api.py\", line 563, in post\n    return self._handle_error(response)\n  File \"/venv/lib/python3.7/site-packages/alertaclient/api.py\", line 586, in _handle_error\n    resp = response.json()\n  File \"/venv/lib/python3.7/site-packages/requests/models.py\", line 897, in json\n    return complexjson.loads(self.text, **kwargs)\n  File \"/usr/local/lib/python3.7/json/__init__.py\", line 348, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/local/lib/python3.7/json/decoder.py\", line 337, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/usr/local/lib/python3.7/json/decoder.py\", line 355, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/venv/lib/python3.7/site-packages/flask/app.py\", line 1813, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"/venv/lib/python3.7/site-packages/flask/app.py\", line 1799, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"/venv/lib/python3.7/site-packages/flask_cors/decorator.py\", line 128, in wrapped_function\n    resp = make_response(f(*args, **kwargs))\n  File \"/venv/lib/python3.7/site-packages/alerta/auth/decorators.py\", line 53, in wrapped\n    return f(*args, **kwargs)\n  File \"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\", line 66, in custom\n    raise ApiError(str(e), 500)\nalerta.exceptions.ApiError: Expecting value: line 1 column 1 (char 0)\n```","html":"<pre><code>2020-04-24 15:40:48,908 flask.app[76]: [ERROR] Expecting value: line 1 column 1 (char 0) request_id=2b09a3f4-2168-42df-9c20-2219b83bb893 ip=10.28.2.7\nTraceback (most recent <span class=\"operator\"><span class=\"keyword\">call<\/span> <span class=\"keyword\">last<\/span>):\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\"<\/span>, line <span class=\"number\">52<\/span>, <span class=\"keyword\">in<\/span> custom\n    alert = process_alert(alert)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/utils/api.py\"<\/span>, line <span class=\"number\">73<\/span>, <span class=\"keyword\">in<\/span> process_alert\n    <span class=\"keyword\">updated<\/span> = <span class=\"keyword\">plugin<\/span>.post_receive(alert)  # <span class=\"keyword\">for<\/span> backward <span class=\"keyword\">compatibility<\/span>\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta_forward.py\"<\/span>, line <span class=\"number\">38<\/span>, <span class=\"keyword\">in<\/span> post_receive\n    **alert.serialize\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alertaclient/api.py\"<\/span>, line <span class=\"number\">66<\/span>, <span class=\"keyword\">in<\/span> send_alert\n    r = <span class=\"keyword\">self<\/span>.<span class=\"keyword\">http<\/span>.post(<span class=\"string\">'/alert'<\/span>, <span class=\"keyword\">data<\/span>)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alertaclient/api.py\"<\/span>, line <span class=\"number\">563<\/span>, <span class=\"keyword\">in<\/span> post\n    <span class=\"keyword\">return<\/span> <span class=\"keyword\">self<\/span>._handle_error(response)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alertaclient/api.py\"<\/span>, line <span class=\"number\">586<\/span>, <span class=\"keyword\">in<\/span> _handle_error\n    resp = response.<span class=\"keyword\">json<\/span>()\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/requests/models.py\"<\/span>, line <span class=\"number\">897<\/span>, <span class=\"keyword\">in<\/span> <span class=\"keyword\">json<\/span>\n    <span class=\"keyword\">return<\/span> complexjson.loads(<span class=\"keyword\">self<\/span>.<span class=\"built_in\">text<\/span>, **kwargs)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/usr/local/lib/python3.7/json/__init__.py\"<\/span>, line <span class=\"number\">348<\/span>, <span class=\"keyword\">in<\/span> loads\n    <span class=\"keyword\">return<\/span> _default_decoder.<span class=\"keyword\">decode<\/span>(s)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/usr/local/lib/python3.7/json/decoder.py\"<\/span>, line <span class=\"number\">337<\/span>, <span class=\"keyword\">in<\/span> <span class=\"keyword\">decode<\/span>\n    obj, <span class=\"keyword\">end<\/span> = <span class=\"keyword\">self<\/span>.raw_decode(s, idx=_w(s, <span class=\"number\">0<\/span>).<span class=\"keyword\">end<\/span>())\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/usr/local/lib/python3.7/json/decoder.py\"<\/span>, line <span class=\"number\">355<\/span>, <span class=\"keyword\">in<\/span> raw_decode\n    <span class=\"keyword\">raise<\/span> JSONDecodeError(<span class=\"string\">\"Expecting value\"<\/span>, s, err.<span class=\"keyword\">value<\/span>) <span class=\"keyword\">from<\/span> <span class=\"keyword\">None<\/span>\n<span class=\"keyword\">json<\/span>.decoder.JSONDecodeError: Expecting <span class=\"keyword\">value<\/span>: line <span class=\"number\">1<\/span> <span class=\"keyword\">column<\/span> <span class=\"number\">1<\/span> (<span class=\"built_in\">char<\/span> <span class=\"number\">0<\/span>)\n\nDuring handling <span class=\"keyword\">of<\/span> the above <span class=\"keyword\">exception<\/span>, another <span class=\"keyword\">exception<\/span> occurred:\n\nTraceback (most recent <span class=\"keyword\">call<\/span> <span class=\"keyword\">last<\/span>):\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/flask/app.py\"<\/span>, line <span class=\"number\">1813<\/span>, <span class=\"keyword\">in<\/span> full_dispatch_request\n    rv = <span class=\"keyword\">self<\/span>.dispatch_request()\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/flask/app.py\"<\/span>, line <span class=\"number\">1799<\/span>, <span class=\"keyword\">in<\/span> dispatch_request\n    <span class=\"keyword\">return<\/span> <span class=\"keyword\">self<\/span>.view_functions[rule.endpoint](**req.view_args)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/flask_cors/decorator.py\"<\/span>, line <span class=\"number\">128<\/span>, <span class=\"keyword\">in<\/span> wrapped_function\n    resp = make_response(<span class=\"keyword\">f<\/span>(*args, **kwargs))\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/auth/decorators.py\"<\/span>, line <span class=\"number\">53<\/span>, <span class=\"keyword\">in<\/span> <span class=\"keyword\">wrapped<\/span>\n    <span class=\"keyword\">return<\/span> <span class=\"keyword\">f<\/span>(*args, **kwargs)\n  <span class=\"keyword\">File<\/span> <span class=\"string\">\"/venv/lib/python3.7/site-packages/alerta/webhooks/custom.py\"<\/span>, line <span class=\"number\">66<\/span>, <span class=\"keyword\">in<\/span> custom\n    <span class=\"keyword\">raise<\/span> ApiError(<span class=\"keyword\">str<\/span>(<span class=\"keyword\">e<\/span>), <span class=\"number\">500<\/span>)\nalerta.<span class=\"keyword\">exceptions<\/span>.ApiError: Expecting <span class=\"keyword\">value<\/span>: line <span class=\"number\">1<\/span> <span class=\"keyword\">column<\/span> <span class=\"number\">1<\/span> (<span class=\"built_in\">char<\/span> <span class=\"number\">0<\/span>)<\/span><\/code><\/pre>","sent":"2020-04-24T17:23:02.377Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":5,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea3209f5d245d59f3165d94","text":"my custom receiver is broken?","html":"my custom receiver is broken?","sent":"2020-04-24T17:23:43.587Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32ad7e5ed621d4ddad753","text":" I am trying to forward alerts from alertmanager","html":" I am trying to forward alerts from alertmanager","sent":"2020-04-24T18:07:19.820Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32af93d7e50071c34fb9e","text":"it’s not json","html":"it’s not json","sent":"2020-04-24T18:07:53.721Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32b0fe5ed621d4ddad7f9","text":"what do you mean?","html":"what do you mean?","sent":"2020-04-24T18:08:15.098Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32b45b6e286076218169b","text":"it looks like it’s trying to parse the body as json but it’s not json.","html":"it looks like it’s trying to parse the body as json but it’s not json.","sent":"2020-04-24T18:09:09.660Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32b569b28643fdcd3fcc9","text":"what are you sending?","html":"what are you sending?","sent":"2020-04-24T18:09:26.340Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32b7d9a04a259f22e3df7","text":"```\nPLUGINS = ['reject','prometheus', 'forward']\nFORWARD_URL = 'http://alert2all'\nFORWARD_API_KEY = 'key'\nFORWARD_MAX_LENGTH = 3\n```","html":"<pre><code><span class=\"setting\">PLUGINS = <span class=\"value\">[<span class=\"string\">'reject'<\/span>,<span class=\"string\">'prometheus'<\/span>, <span class=\"string\">'forward'<\/span>]<\/span><\/span>\n<span class=\"setting\">FORWARD_URL = <span class=\"value\"><span class=\"string\">'http://alert2all'<\/span><\/span><\/span>\n<span class=\"setting\">FORWARD_API_KEY = <span class=\"value\"><span class=\"string\">'key'<\/span><\/span><\/span>\n<span class=\"setting\">FORWARD_MAX_LENGTH = <span class=\"value\"><span class=\"number\">3<\/span><\/span><\/span><\/code><\/pre>","sent":"2020-04-24T18:10:05.247Z","editedAt":"2020-04-24T18:10:54.649Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea32b866a830a49d3ee49fb","text":"@moix do you need the wsgi file? How were you using it? copying it to where you need it or were you referencing it where it was?","html":"<span data-link-type=\"mention\" data-screen-name=\"moix\" class=\"mention\">@moix<\/span> do you need the wsgi file? How were you using it? copying it to where you need it or were you referencing it where it was?","sent":"2020-04-24T18:10:14.714Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[{"screenName":"moix","userId":"5d14be9bd73408ce4fc4a8a1","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32be01e3d5e206340a814","text":"my flow: alertmanger -> alerta -> alert2all","html":"my flow: alertmanger -&gt; alerta -&gt; alert2all","sent":"2020-04-24T18:11:44.967Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32be1a29ab24ea0b80edd","text":"@FL3SH is there code to go with the config?","html":"<span data-link-type=\"mention\" data-screen-name=\"FL3SH\" class=\"mention\">@FL3SH<\/span> is there code to go with the config?","sent":"2020-04-24T18:11:45.455Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[{"screenName":"FL3SH","userId":"5dc40e7cd73408ce4fd047f1","userIds":[]}],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32c61501f8f72a5011d94","text":"I don't understand so the problem is with parsing alert from alermanger?","html":"I don&#39;t understand so the problem is with parsing alert from alermanger?","sent":"2020-04-24T18:13:53.534Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32c95b6e286076218169d","text":"impossible for me to know because you haven’t shown me any code.","html":"impossible for me to know because you haven’t shown me any code.","sent":"2020-04-24T18:14:45.018Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32da811ffed1268317acb","text":"```\nalertad.conf:\n---\nSECRET_KEY = 'key'\nPLUGINS = ['reject','prometheus', 'forward']\nFORWARD_URL = 'http://alert2all'\nFORWARD_API_KEY = 'key2'\nFORWARD_MAX_LENGTH = 3\nALERTMANAGER_SILENCE_FROM_ACK = True\nALERTMANAGER_API_URL = 'http://prom-prometheus-operator-alertmanager:9093'\nSORT_LIST_BY = 'lastReceiveTime'\nASI_SEVERITY = [\n    'critical', 'major', 'minor', 'warning', 'indeterminate', 'informational'\n]\nCOLUMNS = [\n  'severity',\n  'status',\n  'lastReceiveTime',\n  'duplicateCount',\n  'environment',\n  'service',\n  'resource',\n  'event',\n  'value',\n  ]\n\nalerta.conf:\n----\n[DEFAULT]\nendpoint = http://localhost:8080/api\nkey = key\n```\n\n```\nfunc main() {\n\n\thttp.HandleFunc(\"/alert\", webhook)\n}\n\nfunc webhook(w http.ResponseWriter, r *http.Request) {\n\tdefer r.Body.Close()\n\n\tdata := alerta.AlertaStruct{}\n\tif err := json.NewDecoder(r.Body).Decode(&data); err != nil {\n\t\tasJson(w, http.StatusBadRequest, err.Error())\n\t\treturn\n\t}\n\n  alert := alerta.Parse(data)\n  log.Debug(alert)\n\n}\n```\n\n```\npackage alerta\n\nimport (\n\t\"github.com/prometheus/alertmanager/template\"\n\t\"strings\"\n)\n\ntype AlertaStruct struct {\n\tId          string   `json:id`\n\tResource    string   `json:\"resource\"`\n\tEvent       string   `json:\"event\"`\n\tEnvironment string   `json:\"environment\"`\n\tSeverity    string   `json:\"severity\"`\n\tCorrelate   []string `json:\"correlate\"`\n\tService     []string `json:\"service\"`\n\tGroup       string   `json:\"group\"`\n\tValue       string   `json:\"value\"`\n\tText        string   `json:\"text\"`\n\tTags        []string `json:\"tags\"`\n\tAttributes  struct {\n\t\tExternalUrl string `json:\"externalUrl\"`\n\t\tMoreInfo    string `json:\"moreInfo\"`\n\t\tFw_count    int    `json:\"fw_count\"`\n\t} `json:\"attributes\"`\n\tOrigin     string `json:\"origin\"`\n\tAlerttype  string `json:\"type\"`\n\tCreateTime string `json:\"createTime\"`\n\tTimeout    int    `json:\"timeout\"`\n\tRawData    string `json:\"rawData\"`\n\tCustomer   string `json:\"customer\"`\n}\n\nfunc strToMap(str []string) map[string]string {\n\tm := make(map[string]string)\n\tfor _, e := range str {\n\t\tparts := strings.Split(e, \"=\")\n\t\tif len(parts) == 1 {\n\t\t\tm[\"tags\"] = parts[0]\n\n\t\t} else {\n\t\t\tm[parts[0]] = parts[1]\n\n\t\t}\n\t}\n\treturn m\n}\n\nfunc Parse(alertaStruct AlertaStruct) template.Alert {\n\tLabels := strToMap(alertaStruct.Tags)\n\tdata := template.Alert{}\n\n\tdata.Labels = make(map[string]string)\n\tdata.Labels = Labels\n\tdata.Labels[\"severity\"] = alertaStruct.Severity\n\tdata.Labels[\"installation\"] = alertaStruct.Environment\n\tdata.Labels[\"environment\"] = alertaStruct.Environment\n\tdata.Labels[\"alertname\"] = alertaStruct.Event\n\n\tdata.Annotations = make(map[string]string)\n\tdata.Annotations[\"summary\"] = alertaStruct.Text\n\n\treturn data\n\n}\n```","html":"<pre><code>alertad<span class=\"class\">.conf<\/span>:\n---\nSECRET_KEY = <span class=\"string\">'key'<\/span>\nPLUGINS = [<span class=\"string\">'reject'<\/span>,<span class=\"string\">'prometheus'<\/span>, <span class=\"string\">'forward'<\/span>]\nFORWARD_URL = <span class=\"string\">'http://alert2all'<\/span>\nFORWARD_API_KEY = <span class=\"string\">'key2'<\/span>\nFORWARD_MAX_LENGTH = <span class=\"number\">3<\/span>\nALERTMANAGER_SILENCE_FROM_ACK = True\nALERTMANAGER_API_URL = <span class=\"string\">'http://prom-prometheus-operator-alertmanager:9093'<\/span>\nSORT_LIST_BY = <span class=\"string\">'lastReceiveTime'<\/span>\nASI_SEVERITY = [\n    <span class=\"string\">'critical'<\/span>, <span class=\"string\">'major'<\/span>, <span class=\"string\">'minor'<\/span>, <span class=\"string\">'warning'<\/span>, <span class=\"string\">'indeterminate'<\/span>, <span class=\"string\">'informational'<\/span>\n]\nCOLUMNS = [\n  <span class=\"string\">'severity'<\/span>,\n  <span class=\"string\">'status'<\/span>,\n  <span class=\"string\">'lastReceiveTime'<\/span>,\n  <span class=\"string\">'duplicateCount'<\/span>,\n  <span class=\"string\">'environment'<\/span>,\n  <span class=\"string\">'service'<\/span>,\n  <span class=\"string\">'resource'<\/span>,\n  <span class=\"string\">'event'<\/span>,\n  <span class=\"string\">'value'<\/span>,\n  ]\n\nalerta<span class=\"class\">.conf<\/span>:\n----\n[DEFAULT]\nendpoint = http:<span class=\"comment\">//localhost:8080/api<\/span>\nkey = key<\/code><\/pre><pre><code><span class=\"title\">func<\/span> main() {\n\n    http.<span class=\"type\">HandleFunc<\/span>(<span class=\"string\">\"/alert\"<\/span>, webhook)\n}\n\n<span class=\"title\">func<\/span> webhook(w http.<span class=\"type\">ResponseWriter<\/span>, r *http.<span class=\"type\">Request<\/span>) {\n    defer r.<span class=\"type\">Body<\/span>.<span class=\"type\">Close<\/span>()\n\n    <span class=\"typedef\"><span class=\"keyword\">data<\/span> := alerta.<span class=\"type\">AlertaStruct<\/span><span class=\"container\">{}<\/span><\/span>\n    <span class=\"keyword\">if<\/span> err := json.<span class=\"type\">NewDecoder<\/span>(r.<span class=\"type\">Body<\/span>).<span class=\"type\">Decode<\/span>(&amp;<span class=\"typedef\"><span class=\"keyword\">data<\/span>); err != nil <span class=\"container\">{\n        <span class=\"title\">asJson<\/span>(<span class=\"title\">w<\/span>, <span class=\"title\">http<\/span>.<span class=\"type\">StatusBadRequest<\/span>, <span class=\"title\">err<\/span>.<span class=\"type\">Error<\/span>())\n        <span class=\"title\">return<\/span>\n    }<\/span><\/span>\n\n  alert := alerta.<span class=\"type\">Parse<\/span>(<span class=\"typedef\"><span class=\"keyword\">data<\/span>)<\/span>\n  log.<span class=\"type\">Debug<\/span>(alert)\n\n}<\/code><\/pre><pre><code><span class=\"keyword\">package<\/span> alerta\n\n<span class=\"keyword\">import<\/span> (\n    <span class=\"string\">\"github.com/prometheus/alertmanager/template\"<\/span>\n    <span class=\"string\">\"strings\"<\/span>\n)\n\n<span class=\"keyword\">type<\/span> AlertaStruct <span class=\"keyword\">struct<\/span> {\n    Id          <span class=\"typename\">string<\/span>   <span class=\"string\">`json:id`<\/span>\n    Resource    <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"resource\"`<\/span>\n    Event       <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"event\"`<\/span>\n    Environment <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"environment\"`<\/span>\n    Severity    <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"severity\"`<\/span>\n    Correlate   []<span class=\"typename\">string<\/span> <span class=\"string\">`json:\"correlate\"`<\/span>\n    Service     []<span class=\"typename\">string<\/span> <span class=\"string\">`json:\"service\"`<\/span>\n    Group       <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"group\"`<\/span>\n    Value       <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"value\"`<\/span>\n    Text        <span class=\"typename\">string<\/span>   <span class=\"string\">`json:\"text\"`<\/span>\n    Tags        []<span class=\"typename\">string<\/span> <span class=\"string\">`json:\"tags\"`<\/span>\n    Attributes  <span class=\"keyword\">struct<\/span> {\n        ExternalUrl <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"externalUrl\"`<\/span>\n        MoreInfo    <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"moreInfo\"`<\/span>\n        Fw_count    <span class=\"typename\">int<\/span>    <span class=\"string\">`json:\"fw_count\"`<\/span>\n    } <span class=\"string\">`json:\"attributes\"`<\/span>\n    Origin     <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"origin\"`<\/span>\n    Alerttype  <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"type\"`<\/span>\n    CreateTime <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"createTime\"`<\/span>\n    Timeout    <span class=\"typename\">int<\/span>    <span class=\"string\">`json:\"timeout\"`<\/span>\n    RawData    <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"rawData\"`<\/span>\n    Customer   <span class=\"typename\">string<\/span> <span class=\"string\">`json:\"customer\"`<\/span>\n}\n\n<span class=\"keyword\">func<\/span> strToMap(str []<span class=\"typename\">string<\/span>) <span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span> {\n    m := <span class=\"built_in\">make<\/span>(<span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span>)\n    <span class=\"keyword\">for<\/span> _, e := <span class=\"keyword\">range<\/span> str {\n        parts := strings.Split(e, <span class=\"string\">\"=\"<\/span>)\n        <span class=\"keyword\">if<\/span> <span class=\"built_in\">len<\/span>(parts) == <span class=\"number\">1<\/span> {\n            m[<span class=\"string\">\"tags\"<\/span>] = parts[<span class=\"number\">0<\/span>]\n\n        } <span class=\"keyword\">else<\/span> {\n            m[parts[<span class=\"number\">0<\/span>]] = parts[<span class=\"number\">1<\/span>]\n\n        }\n    }\n    <span class=\"keyword\">return<\/span> m\n}\n\n<span class=\"keyword\">func<\/span> Parse(alertaStruct AlertaStruct) template.Alert {\n    Labels := strToMap(alertaStruct.Tags)\n    data := template.Alert{}\n\n    data.Labels = <span class=\"built_in\">make<\/span>(<span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span>)\n    data.Labels = Labels\n    data.Labels[<span class=\"string\">\"severity\"<\/span>] = alertaStruct.Severity\n    data.Labels[<span class=\"string\">\"installation\"<\/span>] = alertaStruct.Environment\n    data.Labels[<span class=\"string\">\"environment\"<\/span>] = alertaStruct.Environment\n    data.Labels[<span class=\"string\">\"alertname\"<\/span>] = alertaStruct.Event\n\n    data.Annotations = <span class=\"built_in\">make<\/span>(<span class=\"keyword\">map<\/span>[<span class=\"typename\">string<\/span>]<span class=\"typename\">string<\/span>)\n    data.Annotations[<span class=\"string\">\"summary\"<\/span>] = alertaStruct.Text\n\n    <span class=\"keyword\">return<\/span> data\n\n}<\/code><\/pre>","sent":"2020-04-24T18:19:20.197Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":6,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32e4c36c8ae68c5939954","text":"have you written an alert handler in go for Alertmanager to forward alerts to Alerta?","html":"have you written an alert handler in go for Alertmanager to forward alerts to Alerta?","sent":"2020-04-24T18:22:04.819Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":8,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32e7bafa1f51d4e1a9333","text":"no, I am using alerta to forward alerts, alertmanger -> alerta -> myapp","html":"no, I am using alerta to forward alerts, alertmanger -&gt; alerta -&gt; myapp","sent":"2020-04-24T18:22:51.950Z","editedAt":"2020-04-24T18:22:58.436Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":8,"urls":[],"mentions":[],"issues":[],"meta":[],"v":2,"burstStart":true},{"id":"5ea32e913d7e50071c34fba7","text":"so what’s that Go code for?","html":"so what’s that Go code for?","sent":"2020-04-24T18:23:13.578Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":8,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32ea23d7e50071c34fba9","text":"is that “myapp”?","html":"is that “myapp”?","sent":"2020-04-24T18:23:30.421Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32eb25d245d59f316878c","text":"to parse alerts from alerta","html":"to parse alerts from alerta","sent":"2020-04-24T18:23:46.166Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32ebc11ffed1268317d88","text":"this is part of myapp","html":"this is part of myapp","sent":"2020-04-24T18:23:56.205Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32ee1afa1f51d4e1a9410","text":"I don't understand why this error pasted before occurs ","html":"I don&#39;t understand why this error pasted before occurs ","sent":"2020-04-24T18:24:33.126Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32ee2fe5f5d603078afcd","text":"but isn’t the error you showed above from Alerta?","html":"but isn’t the error you showed above from Alerta?","sent":"2020-04-24T18:24:34.599Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32ef1501f8f72a5012440","text":"exactly ","html":"exactly ","sent":"2020-04-24T18:24:49.325Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32f0c9b28643fdcd3fccf","text":"so you must have written a custom webhook. so where’s that code?","html":"so you must have written a custom webhook. so where’s that code?","sent":"2020-04-24T18:25:16.301Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32f5a1eb8bd3978f2639d","text":"https://github.com/alerta/alerta-contrib/tree/master/plugins/forward this is not enough?","html":"<a href=\"https://github.com/alerta/alerta-contrib/tree/master/plugins/forward\" rel=\"nofollow noopener noreferrer\" target=\"_blank\" class=\"link \">https://github.com/alerta/alerta-contrib/tree/master/plugins/forward<\/a> this is not enough?","sent":"2020-04-24T18:26:34.110Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[{"url":"https://github.com/alerta/alerta-contrib/tree/master/plugins/forward"}],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea32f7e9a04a259f22e49be","text":"I thought I can use this plugin and then just pare alerts","html":"I thought I can use this plugin and then just pare alerts","sent":"2020-04-24T18:27:10.268Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea32f839a04a259f22e49c1","text":"Am I wrong?","html":"Am I wrong?","sent":"2020-04-24T18:27:15.830Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":9,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":false},{"id":"5ea3314efe5f5d603078afd1","text":"do you even know that the alertmanager is sending valid json? get an example payload from alertmanager and post it manually into your webhook using curl.","html":"do you even know that the alertmanager is sending valid json? get an example payload from alertmanager and post it manually into your webhook using curl.","sent":"2020-04-24T18:34:54.795Z","fromUser":{"id":"5609cf680fc9f982beb22262","username":"satterly","displayName":"Nick Satterly","url":"/satterly","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/satterly","avatarUrlSmall":"https://avatars0.githubusercontent.com/u/615057?v=4&s=60","avatarUrlMedium":"https://avatars0.githubusercontent.com/u/615057?v=4&s=128","v":29,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true},{"id":"5ea33219e5ed621d4ddaebcc","text":"I think I tested this before but let me try again","html":"I think I tested this before but let me try again","sent":"2020-04-24T18:38:17.780Z","fromUser":{"id":"5dc40e7cd73408ce4fd047f1","username":"FL3SH","displayName":"FL3SH","url":"/FL3SH","avatarUrl":"https://avatars-03.gitter.im/gh/uv/4/FL3SH","avatarUrlSmall":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=60","avatarUrlMedium":"https://avatars2.githubusercontent.com/u/9084725?v=4&s=128","v":3,"gv":"4"},"readBy":10,"urls":[],"mentions":[],"issues":[],"meta":[],"v":1,"burstStart":true}]}};</script>

    
    <script type="text/javascript">window.webpackPublicPath = '//cdn02.gitter.im/_s/0d31b2aef/js/';</script>
    <script type="text/javascript" src="//cdn01.gitter.im/_s/0d31b2aef/js/runtime.bundle.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/vendor.chunk.js"></script>
<script type="text/javascript" src="//cdn02.gitter.im/_s/0d31b2aef/js/default.chunk.js"></script>
<script type="text/javascript" src="//cdn03.gitter.im/_s/0d31b2aef/js/router-archive-chat.chunk.js"></script>
  
</body>
</html>
